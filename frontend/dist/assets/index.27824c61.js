var z9=Object.defineProperty;var F9=(t,e,n)=>e in t?z9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var uT=(t,e,n)=>(F9(t,typeof e!="symbol"?e+"":e,n),n),Pw=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var P=(t,e,n)=>(Pw(t,e,"read from private field"),n?n.call(t):e.get(t)),ge=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},le=(t,e,n,r)=>(Pw(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),_v=(t,e,n,r)=>({set _(o){le(t,e,o,n)},get _(){return P(t,e,r)}}),Qe=(t,e,n)=>(Pw(t,e,"access private method"),n);function a$(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var B9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function l$(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function kk(t){var e=t.default;if(typeof e=="function"){var n=function(){return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),n}var b={exports:{}},gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cg=Symbol.for("react.element"),j9=Symbol.for("react.portal"),V9=Symbol.for("react.fragment"),U9=Symbol.for("react.strict_mode"),H9=Symbol.for("react.profiler"),W9=Symbol.for("react.provider"),K9=Symbol.for("react.context"),q9=Symbol.for("react.forward_ref"),G9=Symbol.for("react.suspense"),Z9=Symbol.for("react.memo"),Q9=Symbol.for("react.lazy"),dT=Symbol.iterator;function Y9(t){return t===null||typeof t!="object"?null:(t=dT&&t[dT]||t["@@iterator"],typeof t=="function"?t:null)}var c$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u$=Object.assign,d$={};function gf(t,e,n){this.props=t,this.context=e,this.refs=d$,this.updater=n||c$}gf.prototype.isReactComponent={};gf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};gf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function f$(){}f$.prototype=gf.prototype;function Ck(t,e,n){this.props=t,this.context=e,this.refs=d$,this.updater=n||c$}var Ok=Ck.prototype=new f$;Ok.constructor=Ck;u$(Ok,gf.prototype);Ok.isPureReactComponent=!0;var fT=Array.isArray,p$=Object.prototype.hasOwnProperty,Pk={current:null},h$={key:!0,ref:!0,__self:!0,__source:!0};function m$(t,e,n){var r,o={},i=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)p$.call(e,r)&&!h$.hasOwnProperty(r)&&(o[r]=e[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];o.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:cg,type:t,key:i,ref:s,props:o,_owner:Pk.current}}function X9(t,e){return{$$typeof:cg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Rk(t){return typeof t=="object"&&t!==null&&t.$$typeof===cg}function J9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var pT=/\/+/g;function Rw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?J9(""+t.key):e.toString(36)}function fy(t,e,n,r,o){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case cg:case j9:s=!0}}if(s)return s=t,o=o(s),t=r===""?"."+Rw(s,0):r,fT(o)?(n="",t!=null&&(n=t.replace(pT,"$&/")+"/"),fy(o,e,n,"",function(u){return u})):o!=null&&(Rk(o)&&(o=X9(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(pT,"$&/")+"/")+t)),e.push(o)),1;if(s=0,r=r===""?".":r+":",fT(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Rw(i,a);s+=fy(i,e,n,l,o)}else if(l=Y9(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Rw(i,a++),s+=fy(i,e,n,l,o);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function wv(t,e,n){if(t==null)return t;var r=[],o=0;return fy(t,r,"","",function(i){return e.call(n,i,o++)}),r}function eK(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kr={current:null},py={transition:null},tK={ReactCurrentDispatcher:kr,ReactCurrentBatchConfig:py,ReactCurrentOwner:Pk};function g$(){throw Error("act(...) is not supported in production builds of React.")}gt.Children={map:wv,forEach:function(t,e,n){wv(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wv(t,function(){e++}),e},toArray:function(t){return wv(t,function(e){return e})||[]},only:function(t){if(!Rk(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};gt.Component=gf;gt.Fragment=V9;gt.Profiler=H9;gt.PureComponent=Ck;gt.StrictMode=U9;gt.Suspense=G9;gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tK;gt.act=g$;gt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=u$({},t.props),o=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=Pk.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)p$.call(e,l)&&!h$.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:cg,type:t.type,key:o,ref:i,props:r,_owner:s}};gt.createContext=function(t){return t={$$typeof:K9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:W9,_context:t},t.Consumer=t};gt.createElement=m$;gt.createFactory=function(t){var e=m$.bind(null,t);return e.type=t,e};gt.createRef=function(){return{current:null}};gt.forwardRef=function(t){return{$$typeof:q9,render:t}};gt.isValidElement=Rk;gt.lazy=function(t){return{$$typeof:Q9,_payload:{_status:-1,_result:t},_init:eK}};gt.memo=function(t,e){return{$$typeof:Z9,type:t,compare:e===void 0?null:e}};gt.startTransition=function(t){var e=py.transition;py.transition={};try{t()}finally{py.transition=e}};gt.unstable_act=g$;gt.useCallback=function(t,e){return kr.current.useCallback(t,e)};gt.useContext=function(t){return kr.current.useContext(t)};gt.useDebugValue=function(){};gt.useDeferredValue=function(t){return kr.current.useDeferredValue(t)};gt.useEffect=function(t,e){return kr.current.useEffect(t,e)};gt.useId=function(){return kr.current.useId()};gt.useImperativeHandle=function(t,e,n){return kr.current.useImperativeHandle(t,e,n)};gt.useInsertionEffect=function(t,e){return kr.current.useInsertionEffect(t,e)};gt.useLayoutEffect=function(t,e){return kr.current.useLayoutEffect(t,e)};gt.useMemo=function(t,e){return kr.current.useMemo(t,e)};gt.useReducer=function(t,e,n){return kr.current.useReducer(t,e,n)};gt.useRef=function(t){return kr.current.useRef(t)};gt.useState=function(t){return kr.current.useState(t)};gt.useSyncExternalStore=function(t,e,n){return kr.current.useSyncExternalStore(t,e,n)};gt.useTransition=function(){return kr.current.useTransition()};gt.version="18.3.1";(function(t){t.exports=gt})(b);const $e=l$(b.exports),vf=a$({__proto__:null,default:$e},[b.exports]);var zo={exports:{}},vo={},v$={exports:{}},y$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,I){var J=z.length;z.push(I);e:for(;0<J;){var xe=J-1>>>1,Be=z[xe];if(0<o(Be,I))z[xe]=I,z[J]=Be,J=xe;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var I=z[0],J=z.pop();if(J!==I){z[0]=J;e:for(var xe=0,Be=z.length,Z=Be>>>1;xe<Z;){var he=2*(xe+1)-1,ke=z[he],ae=he+1,U=z[ae];if(0>o(ke,J))ae<Be&&0>o(U,ke)?(z[xe]=U,z[ae]=J,xe=ae):(z[xe]=ke,z[he]=J,xe=he);else if(ae<Be&&0>o(U,J))z[xe]=U,z[ae]=J,xe=ae;else break e}}return I}function o(z,I){var J=z.sortIndex-I.sortIndex;return J!==0?J:z.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],d=1,c=null,f=3,p=!1,m=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(z){for(var I=n(u);I!==null;){if(I.callback===null)r(u);else if(I.startTime<=z)r(u),I.sortIndex=I.expirationTime,e(l,I);else break;I=n(u)}}function y(z){if(g=!1,_(z),!m)if(n(l)!==null)m=!0,X(S);else{var I=n(u);I!==null&&ye(y,I.startTime-z)}}function S(z,I){m=!1,g&&(g=!1,v(E),E=-1),p=!0;var J=f;try{for(_(I),c=n(l);c!==null&&(!(c.expirationTime>I)||z&&!j());){var xe=c.callback;if(typeof xe=="function"){c.callback=null,f=c.priorityLevel;var Be=xe(c.expirationTime<=I);I=t.unstable_now(),typeof Be=="function"?c.callback=Be:c===n(l)&&r(l),_(I)}else r(l);c=n(l)}if(c!==null)var Z=!0;else{var he=n(u);he!==null&&ye(y,he.startTime-I),Z=!1}return Z}finally{c=null,f=J,p=!1}}var O=!1,k=null,E=-1,T=5,D=-1;function j(){return!(t.unstable_now()-D<T)}function A(){if(k!==null){var z=t.unstable_now();D=z;var I=!0;try{I=k(!0,z)}finally{I?K():(O=!1,k=null)}}else O=!1}var K;if(typeof h=="function")K=function(){h(A)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ee=H.port2;H.port1.onmessage=A,K=function(){ee.postMessage(null)}}else K=function(){x(A,0)};function X(z){k=z,O||(O=!0,K())}function ye(z,I){E=x(function(){z(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,X(S))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(f){case 1:case 2:case 3:var I=3;break;default:I=f}var J=f;f=I;try{return z()}finally{f=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,I){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var J=f;f=z;try{return I()}finally{f=J}},t.unstable_scheduleCallback=function(z,I,J){var xe=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?xe+J:xe):J=xe,z){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=J+Be,z={id:d++,callback:I,priorityLevel:z,startTime:J,expirationTime:Be,sortIndex:-1},J>xe?(z.sortIndex=J,e(u,z),n(l)===null&&z===n(u)&&(g?(v(E),E=-1):g=!0,ye(y,J-xe))):(z.sortIndex=Be,e(l,z),m||p||(m=!0,X(S))),z},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(z){var I=f;return function(){var J=f;f=I;try{return z.apply(this,arguments)}finally{f=J}}}})(y$);(function(t){t.exports=y$})(v$);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nK=b.exports,po=v$.exports;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var x$=new Set,$h={};function Kc(t,e){Dd(t,e),Dd(t+"Capture",e)}function Dd(t,e){for($h[t]=e,t=0;t<e.length;t++)x$.add(e[t])}var Ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c1=Object.prototype.hasOwnProperty,rK=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hT={},mT={};function oK(t){return c1.call(mT,t)?!0:c1.call(hT,t)?!1:rK.test(t)?mT[t]=!0:(hT[t]=!0,!1)}function iK(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sK(t,e,n,r){if(e===null||typeof e>"u"||iK(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Cr(t,e,n,r,o,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var Kn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Kn[t]=new Cr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Kn[e]=new Cr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Kn[t]=new Cr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Kn[t]=new Cr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Kn[t]=new Cr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Kn[t]=new Cr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Kn[t]=new Cr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Kn[t]=new Cr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Kn[t]=new Cr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Tk=/[\-:]([a-z])/g;function Mk(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Tk,Mk);Kn[e]=new Cr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Tk,Mk);Kn[e]=new Cr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Tk,Mk);Kn[e]=new Cr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Kn[t]=new Cr(t,1,!1,t.toLowerCase(),null,!1,!1)});Kn.xlinkHref=new Cr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Kn[t]=new Cr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Nk(t,e,n,r){var o=Kn.hasOwnProperty(e)?Kn[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sK(e,n,o,r)&&(n=null),r||o===null?oK(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ws=nK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bv=Symbol.for("react.element"),Au=Symbol.for("react.portal"),Iu=Symbol.for("react.fragment"),Dk=Symbol.for("react.strict_mode"),u1=Symbol.for("react.profiler"),_$=Symbol.for("react.provider"),w$=Symbol.for("react.context"),Ak=Symbol.for("react.forward_ref"),d1=Symbol.for("react.suspense"),f1=Symbol.for("react.suspense_list"),Ik=Symbol.for("react.memo"),da=Symbol.for("react.lazy"),b$=Symbol.for("react.offscreen"),gT=Symbol.iterator;function Kf(t){return t===null||typeof t!="object"?null:(t=gT&&t[gT]||t["@@iterator"],typeof t=="function"?t:null)}var rn=Object.assign,Tw;function up(t){if(Tw===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Tw=e&&e[1]||""}return`
`+Tw+t}var Mw=!1;function Nw(t,e){if(!t||Mw)return"";Mw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var l=`
`+o[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Mw=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?up(t):""}function aK(t){switch(t.tag){case 5:return up(t.type);case 16:return up("Lazy");case 13:return up("Suspense");case 19:return up("SuspenseList");case 0:case 2:case 15:return t=Nw(t.type,!1),t;case 11:return t=Nw(t.type.render,!1),t;case 1:return t=Nw(t.type,!0),t;default:return""}}function p1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Iu:return"Fragment";case Au:return"Portal";case u1:return"Profiler";case Dk:return"StrictMode";case d1:return"Suspense";case f1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case w$:return(t.displayName||"Context")+".Consumer";case _$:return(t._context.displayName||"Context")+".Provider";case Ak:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ik:return e=t.displayName||null,e!==null?e:p1(t.type)||"Memo";case da:e=t._payload,t=t._init;try{return p1(t(e))}catch{}}return null}function lK(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return p1(e);case 8:return e===Dk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function S$(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cK(t){var e=S$(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sv(t){t._valueTracker||(t._valueTracker=cK(t))}function E$(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=S$(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Zy(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function h1(t,e){var n=e.checked;return rn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function vT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function k$(t,e){e=e.checked,e!=null&&Nk(t,"checked",e,!1)}function m1(t,e){k$(t,e);var n=Qa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?g1(t,e.type,n):e.hasOwnProperty("defaultValue")&&g1(t,e.type,Qa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function yT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function g1(t,e,n){(e!=="number"||Zy(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var dp=Array.isArray;function Yu(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qa(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function v1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return rn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(dp(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qa(n)}}function C$(t,e){var n=Qa(e.value),r=Qa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function _T(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function O$(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function y1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?O$(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ev,P$=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ev=Ev||document.createElement("div"),Ev.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ev.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var yh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uK=["Webkit","ms","Moz","O"];Object.keys(yh).forEach(function(t){uK.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yh[e]=yh[t]})});function R$(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||yh.hasOwnProperty(t)&&yh[t]?(""+e).trim():e+"px"}function T$(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=R$(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var dK=rn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function x1(t,e){if(e){if(dK[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function _1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var w1=null;function Lk(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var b1=null,Xu=null,Ju=null;function wT(t){if(t=fg(t)){if(typeof b1!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=e_(e),b1(t.stateNode,t.type,e))}}function M$(t){Xu?Ju?Ju.push(t):Ju=[t]:Xu=t}function N$(){if(Xu){var t=Xu,e=Ju;if(Ju=Xu=null,wT(t),e)for(t=0;t<e.length;t++)wT(e[t])}}function D$(t,e){return t(e)}function A$(){}var Dw=!1;function I$(t,e,n){if(Dw)return t(e,n);Dw=!0;try{return D$(t,e,n)}finally{Dw=!1,(Xu!==null||Ju!==null)&&(A$(),N$())}}function Fh(t,e){var n=t.stateNode;if(n===null)return null;var r=e_(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var S1=!1;if(Ls)try{var qf={};Object.defineProperty(qf,"passive",{get:function(){S1=!0}}),window.addEventListener("test",qf,qf),window.removeEventListener("test",qf,qf)}catch{S1=!1}function fK(t,e,n,r,o,i,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var xh=!1,Qy=null,Yy=!1,E1=null,pK={onError:function(t){xh=!0,Qy=t}};function hK(t,e,n,r,o,i,s,a,l){xh=!1,Qy=null,fK.apply(pK,arguments)}function mK(t,e,n,r,o,i,s,a,l){if(hK.apply(this,arguments),xh){if(xh){var u=Qy;xh=!1,Qy=null}else throw Error(Q(198));Yy||(Yy=!0,E1=u)}}function qc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function L$(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function bT(t){if(qc(t)!==t)throw Error(Q(188))}function gK(t){var e=t.alternate;if(!e){if(e=qc(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return bT(o),t;if(i===r)return bT(o),e;i=i.sibling}throw Error(Q(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function $$(t){return t=gK(t),t!==null?z$(t):null}function z$(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=z$(t);if(e!==null)return e;t=t.sibling}return null}var F$=po.unstable_scheduleCallback,ST=po.unstable_cancelCallback,vK=po.unstable_shouldYield,yK=po.unstable_requestPaint,mn=po.unstable_now,xK=po.unstable_getCurrentPriorityLevel,$k=po.unstable_ImmediatePriority,B$=po.unstable_UserBlockingPriority,Xy=po.unstable_NormalPriority,_K=po.unstable_LowPriority,j$=po.unstable_IdlePriority,Qx=null,Hi=null;function wK(t){if(Hi&&typeof Hi.onCommitFiberRoot=="function")try{Hi.onCommitFiberRoot(Qx,t,void 0,(t.current.flags&128)===128)}catch{}}var ui=Math.clz32?Math.clz32:EK,bK=Math.log,SK=Math.LN2;function EK(t){return t>>>=0,t===0?32:31-(bK(t)/SK|0)|0}var kv=64,Cv=4194304;function fp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Jy(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,i=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=fp(a):(i&=s,i!==0&&(r=fp(i)))}else s=n&~o,s!==0?r=fp(s):i!==0&&(r=fp(i));if(r===0)return 0;if(e!==0&&e!==r&&(e&o)===0&&(o=r&-r,i=e&-e,o>=i||o===16&&(i&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ui(e),o=1<<n,r|=t[n],e&=~o;return r}function kK(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CK(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-ui(i),a=1<<s,l=o[s];l===-1?((a&n)===0||(a&r)!==0)&&(o[s]=kK(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function k1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function V$(){var t=kv;return kv<<=1,(kv&4194240)===0&&(kv=64),t}function Aw(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ug(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ui(e),t[e]=n}function OK(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-ui(n),i=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~i}}function zk(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ui(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var Dt=0;function U$(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var H$,Fk,W$,K$,q$,C1=!1,Ov=[],za=null,Fa=null,Ba=null,Bh=new Map,jh=new Map,ma=[],PK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ET(t,e){switch(t){case"focusin":case"focusout":za=null;break;case"dragenter":case"dragleave":Fa=null;break;case"mouseover":case"mouseout":Ba=null;break;case"pointerover":case"pointerout":Bh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jh.delete(e.pointerId)}}function Gf(t,e,n,r,o,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},e!==null&&(e=fg(e),e!==null&&Fk(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function RK(t,e,n,r,o){switch(e){case"focusin":return za=Gf(za,t,e,n,r,o),!0;case"dragenter":return Fa=Gf(Fa,t,e,n,r,o),!0;case"mouseover":return Ba=Gf(Ba,t,e,n,r,o),!0;case"pointerover":var i=o.pointerId;return Bh.set(i,Gf(Bh.get(i)||null,t,e,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,jh.set(i,Gf(jh.get(i)||null,t,e,n,r,o)),!0}return!1}function G$(t){var e=Ul(t.target);if(e!==null){var n=qc(e);if(n!==null){if(e=n.tag,e===13){if(e=L$(n),e!==null){t.blockedOn=e,q$(t.priority,function(){W$(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hy(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=O1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);w1=r,n.target.dispatchEvent(r),w1=null}else return e=fg(n),e!==null&&Fk(e),t.blockedOn=n,!1;e.shift()}return!0}function kT(t,e,n){hy(t)&&n.delete(e)}function TK(){C1=!1,za!==null&&hy(za)&&(za=null),Fa!==null&&hy(Fa)&&(Fa=null),Ba!==null&&hy(Ba)&&(Ba=null),Bh.forEach(kT),jh.forEach(kT)}function Zf(t,e){t.blockedOn===e&&(t.blockedOn=null,C1||(C1=!0,po.unstable_scheduleCallback(po.unstable_NormalPriority,TK)))}function Vh(t){function e(o){return Zf(o,t)}if(0<Ov.length){Zf(Ov[0],t);for(var n=1;n<Ov.length;n++){var r=Ov[n];r.blockedOn===t&&(r.blockedOn=null)}}for(za!==null&&Zf(za,t),Fa!==null&&Zf(Fa,t),Ba!==null&&Zf(Ba,t),Bh.forEach(e),jh.forEach(e),n=0;n<ma.length;n++)r=ma[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ma.length&&(n=ma[0],n.blockedOn===null);)G$(n),n.blockedOn===null&&ma.shift()}var ed=Ws.ReactCurrentBatchConfig,e0=!0;function MK(t,e,n,r){var o=Dt,i=ed.transition;ed.transition=null;try{Dt=1,Bk(t,e,n,r)}finally{Dt=o,ed.transition=i}}function NK(t,e,n,r){var o=Dt,i=ed.transition;ed.transition=null;try{Dt=4,Bk(t,e,n,r)}finally{Dt=o,ed.transition=i}}function Bk(t,e,n,r){if(e0){var o=O1(t,e,n,r);if(o===null)Hw(t,e,r,t0,n),ET(t,r);else if(RK(o,t,e,n,r))r.stopPropagation();else if(ET(t,r),e&4&&-1<PK.indexOf(t)){for(;o!==null;){var i=fg(o);if(i!==null&&H$(i),i=O1(t,e,n,r),i===null&&Hw(t,e,r,t0,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Hw(t,e,r,null,n)}}var t0=null;function O1(t,e,n,r){if(t0=null,t=Lk(r),t=Ul(t),t!==null)if(e=qc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=L$(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return t0=t,null}function Z$(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xK()){case $k:return 1;case B$:return 4;case Xy:case _K:return 16;case j$:return 536870912;default:return 16}default:return 16}}var Ta=null,jk=null,my=null;function Q$(){if(my)return my;var t,e=jk,n=e.length,r,o="value"in Ta?Ta.value:Ta.textContent,i=o.length;for(t=0;t<n&&e[t]===o[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===o[i-r];r++);return my=o.slice(t,1<r?1-r:void 0)}function gy(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Pv(){return!0}function CT(){return!1}function yo(t){function e(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Pv:CT,this.isPropagationStopped=CT,this}return rn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pv)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pv)},persist:function(){},isPersistent:Pv}),e}var yf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vk=yo(yf),dg=rn({},yf,{view:0,detail:0}),DK=yo(dg),Iw,Lw,Qf,Yx=rn({},dg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uk,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qf&&(Qf&&t.type==="mousemove"?(Iw=t.screenX-Qf.screenX,Lw=t.screenY-Qf.screenY):Lw=Iw=0,Qf=t),Iw)},movementY:function(t){return"movementY"in t?t.movementY:Lw}}),OT=yo(Yx),AK=rn({},Yx,{dataTransfer:0}),IK=yo(AK),LK=rn({},dg,{relatedTarget:0}),$w=yo(LK),$K=rn({},yf,{animationName:0,elapsedTime:0,pseudoElement:0}),zK=yo($K),FK=rn({},yf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),BK=yo(FK),jK=rn({},yf,{data:0}),PT=yo(jK),VK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WK(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=HK[t])?!!e[t]:!1}function Uk(){return WK}var KK=rn({},dg,{key:function(t){if(t.key){var e=VK[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gy(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?UK[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uk,charCode:function(t){return t.type==="keypress"?gy(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gy(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qK=yo(KK),GK=rn({},Yx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),RT=yo(GK),ZK=rn({},dg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uk}),QK=yo(ZK),YK=rn({},yf,{propertyName:0,elapsedTime:0,pseudoElement:0}),XK=yo(YK),JK=rn({},Yx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),e7=yo(JK),t7=[9,13,27,32],Hk=Ls&&"CompositionEvent"in window,_h=null;Ls&&"documentMode"in document&&(_h=document.documentMode);var n7=Ls&&"TextEvent"in window&&!_h,Y$=Ls&&(!Hk||_h&&8<_h&&11>=_h),TT=String.fromCharCode(32),MT=!1;function X$(t,e){switch(t){case"keyup":return t7.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J$(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Lu=!1;function r7(t,e){switch(t){case"compositionend":return J$(e);case"keypress":return e.which!==32?null:(MT=!0,TT);case"textInput":return t=e.data,t===TT&&MT?null:t;default:return null}}function o7(t,e){if(Lu)return t==="compositionend"||!Hk&&X$(t,e)?(t=Q$(),my=jk=Ta=null,Lu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Y$&&e.locale!=="ko"?null:e.data;default:return null}}var i7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function NT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!i7[t.type]:e==="textarea"}function e2(t,e,n,r){M$(r),e=n0(e,"onChange"),0<e.length&&(n=new Vk("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var wh=null,Uh=null;function s7(t){d2(t,0)}function Xx(t){var e=Fu(t);if(E$(e))return t}function a7(t,e){if(t==="change")return e}var t2=!1;if(Ls){var zw;if(Ls){var Fw="oninput"in document;if(!Fw){var DT=document.createElement("div");DT.setAttribute("oninput","return;"),Fw=typeof DT.oninput=="function"}zw=Fw}else zw=!1;t2=zw&&(!document.documentMode||9<document.documentMode)}function AT(){wh&&(wh.detachEvent("onpropertychange",n2),Uh=wh=null)}function n2(t){if(t.propertyName==="value"&&Xx(Uh)){var e=[];e2(e,Uh,t,Lk(t)),I$(s7,e)}}function l7(t,e,n){t==="focusin"?(AT(),wh=e,Uh=n,wh.attachEvent("onpropertychange",n2)):t==="focusout"&&AT()}function c7(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xx(Uh)}function u7(t,e){if(t==="click")return Xx(e)}function d7(t,e){if(t==="input"||t==="change")return Xx(e)}function f7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vi=typeof Object.is=="function"?Object.is:f7;function Hh(t,e){if(vi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!c1.call(e,o)||!vi(t[o],e[o]))return!1}return!0}function IT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function LT(t,e){var n=IT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=IT(n)}}function r2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?r2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function o2(){for(var t=window,e=Zy();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Zy(t.document)}return e}function Wk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function p7(t){var e=o2(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&r2(n.ownerDocument.documentElement,n)){if(r!==null&&Wk(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!t.extend&&i>r&&(o=r,r=i,i=o),o=LT(n,i);var s=LT(n,r);o&&s&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var h7=Ls&&"documentMode"in document&&11>=document.documentMode,$u=null,P1=null,bh=null,R1=!1;function $T(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;R1||$u==null||$u!==Zy(r)||(r=$u,"selectionStart"in r&&Wk(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bh&&Hh(bh,r)||(bh=r,r=n0(P1,"onSelect"),0<r.length&&(e=new Vk("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$u)))}function Rv(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zu={animationend:Rv("Animation","AnimationEnd"),animationiteration:Rv("Animation","AnimationIteration"),animationstart:Rv("Animation","AnimationStart"),transitionend:Rv("Transition","TransitionEnd")},Bw={},i2={};Ls&&(i2=document.createElement("div").style,"AnimationEvent"in window||(delete zu.animationend.animation,delete zu.animationiteration.animation,delete zu.animationstart.animation),"TransitionEvent"in window||delete zu.transitionend.transition);function Jx(t){if(Bw[t])return Bw[t];if(!zu[t])return t;var e=zu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in i2)return Bw[t]=e[n];return t}var s2=Jx("animationend"),a2=Jx("animationiteration"),l2=Jx("animationstart"),c2=Jx("transitionend"),u2=new Map,zT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yl(t,e){u2.set(t,e),Kc(e,[t])}for(var jw=0;jw<zT.length;jw++){var Vw=zT[jw],m7=Vw.toLowerCase(),g7=Vw[0].toUpperCase()+Vw.slice(1);yl(m7,"on"+g7)}yl(s2,"onAnimationEnd");yl(a2,"onAnimationIteration");yl(l2,"onAnimationStart");yl("dblclick","onDoubleClick");yl("focusin","onFocus");yl("focusout","onBlur");yl(c2,"onTransitionEnd");Dd("onMouseEnter",["mouseout","mouseover"]);Dd("onMouseLeave",["mouseout","mouseover"]);Dd("onPointerEnter",["pointerout","pointerover"]);Dd("onPointerLeave",["pointerout","pointerover"]);Kc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v7=new Set("cancel close invalid load scroll toggle".split(" ").concat(pp));function FT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,mK(r,e,void 0,t),t.currentTarget=null}function d2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;FT(o,a,u),i=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;FT(o,a,u),i=l}}}if(Yy)throw t=E1,Yy=!1,E1=null,t}function Vt(t,e){var n=e[A1];n===void 0&&(n=e[A1]=new Set);var r=t+"__bubble";n.has(r)||(f2(e,t,2,!1),n.add(r))}function Uw(t,e,n){var r=0;e&&(r|=4),f2(n,t,r,e)}var Tv="_reactListening"+Math.random().toString(36).slice(2);function Wh(t){if(!t[Tv]){t[Tv]=!0,x$.forEach(function(n){n!=="selectionchange"&&(v7.has(n)||Uw(n,!1,t),Uw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Tv]||(e[Tv]=!0,Uw("selectionchange",!1,e))}}function f2(t,e,n,r){switch(Z$(e)){case 1:var o=MK;break;case 4:o=NK;break;default:o=Bk}n=o.bind(null,e,n,t),o=void 0,!S1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function Hw(t,e,n,r,o){var i=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;a!==null;){if(s=Ul(a),s===null)return;if(l=s.tag,l===5||l===6){r=i=s;continue e}a=a.parentNode}}r=r.return}I$(function(){var u=i,d=Lk(n),c=[];e:{var f=u2.get(t);if(f!==void 0){var p=Vk,m=t;switch(t){case"keypress":if(gy(n)===0)break e;case"keydown":case"keyup":p=qK;break;case"focusin":m="focus",p=$w;break;case"focusout":m="blur",p=$w;break;case"beforeblur":case"afterblur":p=$w;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=OT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=IK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=QK;break;case s2:case a2:case l2:p=zK;break;case c2:p=XK;break;case"scroll":p=DK;break;case"wheel":p=e7;break;case"copy":case"cut":case"paste":p=BK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=RT}var g=(e&4)!==0,x=!g&&t==="scroll",v=g?f!==null?f+"Capture":null:f;g=[];for(var h=u,_;h!==null;){_=h;var y=_.stateNode;if(_.tag===5&&y!==null&&(_=y,v!==null&&(y=Fh(h,v),y!=null&&g.push(Kh(h,y,_)))),x)break;h=h.return}0<g.length&&(f=new p(f,m,null,n,d),c.push({event:f,listeners:g}))}}if((e&7)===0){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==w1&&(m=n.relatedTarget||n.fromElement)&&(Ul(m)||m[$s]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?Ul(m):null,m!==null&&(x=qc(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=OT,y="onMouseLeave",v="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(g=RT,y="onPointerLeave",v="onPointerEnter",h="pointer"),x=p==null?f:Fu(p),_=m==null?f:Fu(m),f=new g(y,h+"leave",p,n,d),f.target=x,f.relatedTarget=_,y=null,Ul(d)===u&&(g=new g(v,h+"enter",m,n,d),g.target=_,g.relatedTarget=x,y=g),x=y,p&&m)t:{for(g=p,v=m,h=0,_=g;_;_=lu(_))h++;for(_=0,y=v;y;y=lu(y))_++;for(;0<h-_;)g=lu(g),h--;for(;0<_-h;)v=lu(v),_--;for(;h--;){if(g===v||v!==null&&g===v.alternate)break t;g=lu(g),v=lu(v)}g=null}else g=null;p!==null&&BT(c,f,p,g,!1),m!==null&&x!==null&&BT(c,x,m,g,!0)}}e:{if(f=u?Fu(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=a7;else if(NT(f))if(t2)S=d7;else{S=c7;var O=l7}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=u7);if(S&&(S=S(t,u))){e2(c,S,n,d);break e}O&&O(t,f,u),t==="focusout"&&(O=f._wrapperState)&&O.controlled&&f.type==="number"&&g1(f,"number",f.value)}switch(O=u?Fu(u):window,t){case"focusin":(NT(O)||O.contentEditable==="true")&&($u=O,P1=u,bh=null);break;case"focusout":bh=P1=$u=null;break;case"mousedown":R1=!0;break;case"contextmenu":case"mouseup":case"dragend":R1=!1,$T(c,n,d);break;case"selectionchange":if(h7)break;case"keydown":case"keyup":$T(c,n,d)}var k;if(Hk)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Lu?X$(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Y$&&n.locale!=="ko"&&(Lu||E!=="onCompositionStart"?E==="onCompositionEnd"&&Lu&&(k=Q$()):(Ta=d,jk="value"in Ta?Ta.value:Ta.textContent,Lu=!0)),O=n0(u,E),0<O.length&&(E=new PT(E,t,null,n,d),c.push({event:E,listeners:O}),k?E.data=k:(k=J$(n),k!==null&&(E.data=k)))),(k=n7?r7(t,n):o7(t,n))&&(u=n0(u,"onBeforeInput"),0<u.length&&(d=new PT("onBeforeInput","beforeinput",null,n,d),c.push({event:d,listeners:u}),d.data=k))}d2(c,e)})}function Kh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function n0(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Fh(t,n),i!=null&&r.unshift(Kh(t,i,o)),i=Fh(t,e),i!=null&&r.push(Kh(t,i,o))),t=t.return}return r}function lu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function BT(t,e,n,r,o){for(var i=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,o?(l=Fh(n,i),l!=null&&s.unshift(Kh(n,l,a))):o||(l=Fh(n,i),l!=null&&s.push(Kh(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var y7=/\r\n?/g,x7=/\u0000|\uFFFD/g;function jT(t){return(typeof t=="string"?t:""+t).replace(y7,`
`).replace(x7,"")}function Mv(t,e,n){if(e=jT(e),jT(t)!==e&&n)throw Error(Q(425))}function r0(){}var T1=null,M1=null;function N1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var D1=typeof setTimeout=="function"?setTimeout:void 0,_7=typeof clearTimeout=="function"?clearTimeout:void 0,VT=typeof Promise=="function"?Promise:void 0,w7=typeof queueMicrotask=="function"?queueMicrotask:typeof VT<"u"?function(t){return VT.resolve(null).then(t).catch(b7)}:D1;function b7(t){setTimeout(function(){throw t})}function Ww(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),Vh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Vh(e)}function ja(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function UT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xf=Math.random().toString(36).slice(2),Fi="__reactFiber$"+xf,qh="__reactProps$"+xf,$s="__reactContainer$"+xf,A1="__reactEvents$"+xf,S7="__reactListeners$"+xf,E7="__reactHandles$"+xf;function Ul(t){var e=t[Fi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$s]||n[Fi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=UT(t);t!==null;){if(n=t[Fi])return n;t=UT(t)}return e}t=n,n=t.parentNode}return null}function fg(t){return t=t[Fi]||t[$s],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function e_(t){return t[qh]||null}var I1=[],Bu=-1;function xl(t){return{current:t}}function Ut(t){0>Bu||(t.current=I1[Bu],I1[Bu]=null,Bu--)}function Ft(t,e){Bu++,I1[Bu]=t.current,t.current=e}var Ya={},rr=xl(Ya),Vr=xl(!1),wc=Ya;function Ad(t,e){var n=t.type.contextTypes;if(!n)return Ya;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Ur(t){return t=t.childContextTypes,t!=null}function o0(){Ut(Vr),Ut(rr)}function HT(t,e,n){if(rr.current!==Ya)throw Error(Q(168));Ft(rr,e),Ft(Vr,n)}function p2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(Q(108,lK(t)||"Unknown",o));return rn({},n,r)}function i0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ya,wc=rr.current,Ft(rr,t),Ft(Vr,Vr.current),!0}function WT(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=p2(t,e,wc),r.__reactInternalMemoizedMergedChildContext=t,Ut(Vr),Ut(rr),Ft(rr,t)):Ut(Vr),Ft(Vr,n)}var Ss=null,t_=!1,Kw=!1;function h2(t){Ss===null?Ss=[t]:Ss.push(t)}function k7(t){t_=!0,h2(t)}function _l(){if(!Kw&&Ss!==null){Kw=!0;var t=0,e=Dt;try{var n=Ss;for(Dt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ss=null,t_=!1}catch(o){throw Ss!==null&&(Ss=Ss.slice(t+1)),F$($k,_l),o}finally{Dt=e,Kw=!1}}return null}var ju=[],Vu=0,s0=null,a0=0,Eo=[],ko=0,bc=null,Os=1,Ps="";function Al(t,e){ju[Vu++]=a0,ju[Vu++]=s0,s0=t,a0=e}function m2(t,e,n){Eo[ko++]=Os,Eo[ko++]=Ps,Eo[ko++]=bc,bc=t;var r=Os;t=Ps;var o=32-ui(r)-1;r&=~(1<<o),n+=1;var i=32-ui(e)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Os=1<<32-ui(e)+o|n<<o|r,Ps=i+t}else Os=1<<i|n<<o|r,Ps=t}function Kk(t){t.return!==null&&(Al(t,1),m2(t,1,0))}function qk(t){for(;t===s0;)s0=ju[--Vu],ju[Vu]=null,a0=ju[--Vu],ju[Vu]=null;for(;t===bc;)bc=Eo[--ko],Eo[ko]=null,Ps=Eo[--ko],Eo[ko]=null,Os=Eo[--ko],Eo[ko]=null}var lo=null,ao=null,Kt=!1,ni=null;function g2(t,e){var n=Po(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function KT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,lo=t,ao=ja(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,lo=t,ao=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=bc!==null?{id:Os,overflow:Ps}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Po(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,lo=t,ao=null,!0):!1;default:return!1}}function L1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $1(t){if(Kt){var e=ao;if(e){var n=e;if(!KT(t,e)){if(L1(t))throw Error(Q(418));e=ja(n.nextSibling);var r=lo;e&&KT(t,e)?g2(r,n):(t.flags=t.flags&-4097|2,Kt=!1,lo=t)}}else{if(L1(t))throw Error(Q(418));t.flags=t.flags&-4097|2,Kt=!1,lo=t}}}function qT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;lo=t}function Nv(t){if(t!==lo)return!1;if(!Kt)return qT(t),Kt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!N1(t.type,t.memoizedProps)),e&&(e=ao)){if(L1(t))throw v2(),Error(Q(418));for(;e;)g2(t,e),e=ja(e.nextSibling)}if(qT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ao=ja(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ao=null}}else ao=lo?ja(t.stateNode.nextSibling):null;return!0}function v2(){for(var t=ao;t;)t=ja(t.nextSibling)}function Id(){ao=lo=null,Kt=!1}function Gk(t){ni===null?ni=[t]:ni.push(t)}var C7=Ws.ReactCurrentBatchConfig;function Yf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var o=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var a=o.refs;s===null?delete a[i]:a[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function Dv(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function GT(t){var e=t._init;return e(t._payload)}function y2(t){function e(v,h){if(t){var _=v.deletions;_===null?(v.deletions=[h],v.flags|=16):_.push(h)}}function n(v,h){if(!t)return null;for(;h!==null;)e(v,h),h=h.sibling;return null}function r(v,h){for(v=new Map;h!==null;)h.key!==null?v.set(h.key,h):v.set(h.index,h),h=h.sibling;return v}function o(v,h){return v=Wa(v,h),v.index=0,v.sibling=null,v}function i(v,h,_){return v.index=_,t?(_=v.alternate,_!==null?(_=_.index,_<h?(v.flags|=2,h):_):(v.flags|=2,h)):(v.flags|=1048576,h)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,h,_,y){return h===null||h.tag!==6?(h=Jw(_,v.mode,y),h.return=v,h):(h=o(h,_),h.return=v,h)}function l(v,h,_,y){var S=_.type;return S===Iu?d(v,h,_.props.children,y,_.key):h!==null&&(h.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===da&&GT(S)===h.type)?(y=o(h,_.props),y.ref=Yf(v,h,_),y.return=v,y):(y=Sy(_.type,_.key,_.props,null,v.mode,y),y.ref=Yf(v,h,_),y.return=v,y)}function u(v,h,_,y){return h===null||h.tag!==4||h.stateNode.containerInfo!==_.containerInfo||h.stateNode.implementation!==_.implementation?(h=eb(_,v.mode,y),h.return=v,h):(h=o(h,_.children||[]),h.return=v,h)}function d(v,h,_,y,S){return h===null||h.tag!==7?(h=dc(_,v.mode,y,S),h.return=v,h):(h=o(h,_),h.return=v,h)}function c(v,h,_){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Jw(""+h,v.mode,_),h.return=v,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case bv:return _=Sy(h.type,h.key,h.props,null,v.mode,_),_.ref=Yf(v,null,h),_.return=v,_;case Au:return h=eb(h,v.mode,_),h.return=v,h;case da:var y=h._init;return c(v,y(h._payload),_)}if(dp(h)||Kf(h))return h=dc(h,v.mode,_,null),h.return=v,h;Dv(v,h)}return null}function f(v,h,_,y){var S=h!==null?h.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:a(v,h,""+_,y);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case bv:return _.key===S?l(v,h,_,y):null;case Au:return _.key===S?u(v,h,_,y):null;case da:return S=_._init,f(v,h,S(_._payload),y)}if(dp(_)||Kf(_))return S!==null?null:d(v,h,_,y,null);Dv(v,_)}return null}function p(v,h,_,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return v=v.get(_)||null,a(h,v,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case bv:return v=v.get(y.key===null?_:y.key)||null,l(h,v,y,S);case Au:return v=v.get(y.key===null?_:y.key)||null,u(h,v,y,S);case da:var O=y._init;return p(v,h,_,O(y._payload),S)}if(dp(y)||Kf(y))return v=v.get(_)||null,d(h,v,y,S,null);Dv(h,y)}return null}function m(v,h,_,y){for(var S=null,O=null,k=h,E=h=0,T=null;k!==null&&E<_.length;E++){k.index>E?(T=k,k=null):T=k.sibling;var D=f(v,k,_[E],y);if(D===null){k===null&&(k=T);break}t&&k&&D.alternate===null&&e(v,k),h=i(D,h,E),O===null?S=D:O.sibling=D,O=D,k=T}if(E===_.length)return n(v,k),Kt&&Al(v,E),S;if(k===null){for(;E<_.length;E++)k=c(v,_[E],y),k!==null&&(h=i(k,h,E),O===null?S=k:O.sibling=k,O=k);return Kt&&Al(v,E),S}for(k=r(v,k);E<_.length;E++)T=p(k,v,E,_[E],y),T!==null&&(t&&T.alternate!==null&&k.delete(T.key===null?E:T.key),h=i(T,h,E),O===null?S=T:O.sibling=T,O=T);return t&&k.forEach(function(j){return e(v,j)}),Kt&&Al(v,E),S}function g(v,h,_,y){var S=Kf(_);if(typeof S!="function")throw Error(Q(150));if(_=S.call(_),_==null)throw Error(Q(151));for(var O=S=null,k=h,E=h=0,T=null,D=_.next();k!==null&&!D.done;E++,D=_.next()){k.index>E?(T=k,k=null):T=k.sibling;var j=f(v,k,D.value,y);if(j===null){k===null&&(k=T);break}t&&k&&j.alternate===null&&e(v,k),h=i(j,h,E),O===null?S=j:O.sibling=j,O=j,k=T}if(D.done)return n(v,k),Kt&&Al(v,E),S;if(k===null){for(;!D.done;E++,D=_.next())D=c(v,D.value,y),D!==null&&(h=i(D,h,E),O===null?S=D:O.sibling=D,O=D);return Kt&&Al(v,E),S}for(k=r(v,k);!D.done;E++,D=_.next())D=p(k,v,E,D.value,y),D!==null&&(t&&D.alternate!==null&&k.delete(D.key===null?E:D.key),h=i(D,h,E),O===null?S=D:O.sibling=D,O=D);return t&&k.forEach(function(A){return e(v,A)}),Kt&&Al(v,E),S}function x(v,h,_,y){if(typeof _=="object"&&_!==null&&_.type===Iu&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case bv:e:{for(var S=_.key,O=h;O!==null;){if(O.key===S){if(S=_.type,S===Iu){if(O.tag===7){n(v,O.sibling),h=o(O,_.props.children),h.return=v,v=h;break e}}else if(O.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===da&&GT(S)===O.type){n(v,O.sibling),h=o(O,_.props),h.ref=Yf(v,O,_),h.return=v,v=h;break e}n(v,O);break}else e(v,O);O=O.sibling}_.type===Iu?(h=dc(_.props.children,v.mode,y,_.key),h.return=v,v=h):(y=Sy(_.type,_.key,_.props,null,v.mode,y),y.ref=Yf(v,h,_),y.return=v,v=y)}return s(v);case Au:e:{for(O=_.key;h!==null;){if(h.key===O)if(h.tag===4&&h.stateNode.containerInfo===_.containerInfo&&h.stateNode.implementation===_.implementation){n(v,h.sibling),h=o(h,_.children||[]),h.return=v,v=h;break e}else{n(v,h);break}else e(v,h);h=h.sibling}h=eb(_,v.mode,y),h.return=v,v=h}return s(v);case da:return O=_._init,x(v,h,O(_._payload),y)}if(dp(_))return m(v,h,_,y);if(Kf(_))return g(v,h,_,y);Dv(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,h!==null&&h.tag===6?(n(v,h.sibling),h=o(h,_),h.return=v,v=h):(n(v,h),h=Jw(_,v.mode,y),h.return=v,v=h),s(v)):n(v,h)}return x}var Ld=y2(!0),x2=y2(!1),l0=xl(null),c0=null,Uu=null,Zk=null;function Qk(){Zk=Uu=c0=null}function Yk(t){var e=l0.current;Ut(l0),t._currentValue=e}function z1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function td(t,e){c0=t,Zk=Uu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(zr=!0),t.firstContext=null)}function No(t){var e=t._currentValue;if(Zk!==t)if(t={context:t,memoizedValue:e,next:null},Uu===null){if(c0===null)throw Error(Q(308));Uu=t,c0.dependencies={lanes:0,firstContext:t}}else Uu=Uu.next=t;return e}var Hl=null;function Xk(t){Hl===null?Hl=[t]:Hl.push(t)}function _2(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,Xk(e)):(n.next=o.next,o.next=n),e.interleaved=n,zs(t,r)}function zs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var fa=!1;function Jk(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function w2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ns(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Va(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(St&2)!==0){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,zs(t,n)}return o=r.interleaved,o===null?(e.next=e,Xk(r)):(e.next=o.next,o.next=e),r.interleaved=e,zs(t,n)}function vy(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zk(t,n)}}function ZT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=e:i=i.next=e}else o=i=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function u0(t,e,n,r){var o=t.updateQueue;fa=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?i=u:s.next=u,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var c=o.baseState;s=0,d=u=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,g=a;switch(f=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){c=m.call(p,c,f);break e}c=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(p,c,f):m,f==null)break e;c=rn({},c,f);break e;case 2:fa=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=o.effects,f===null?o.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,l=c):d=d.next=p,s|=f;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;f=a,a=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(1);if(d===null&&(l=c),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=d,e=o.shared.interleaved,e!==null){o=e;do s|=o.lane,o=o.next;while(o!==e)}else i===null&&(o.shared.lanes=0);Ec|=s,t.lanes=s,t.memoizedState=c}}function QT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(Q(191,o));o.call(r)}}}var pg={},Wi=xl(pg),Gh=xl(pg),Zh=xl(pg);function Wl(t){if(t===pg)throw Error(Q(174));return t}function eC(t,e){switch(Ft(Zh,e),Ft(Gh,t),Ft(Wi,pg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:y1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=y1(e,t)}Ut(Wi),Ft(Wi,e)}function $d(){Ut(Wi),Ut(Gh),Ut(Zh)}function b2(t){Wl(Zh.current);var e=Wl(Wi.current),n=y1(e,t.type);e!==n&&(Ft(Gh,t),Ft(Wi,n))}function tC(t){Gh.current===t&&(Ut(Wi),Ut(Gh))}var Jt=xl(0);function d0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qw=[];function nC(){for(var t=0;t<qw.length;t++)qw[t]._workInProgressVersionPrimary=null;qw.length=0}var yy=Ws.ReactCurrentDispatcher,Gw=Ws.ReactCurrentBatchConfig,Sc=0,nn=null,kn=null,Dn=null,f0=!1,Sh=!1,Qh=0,O7=0;function qn(){throw Error(Q(321))}function rC(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!vi(t[n],e[n]))return!1;return!0}function oC(t,e,n,r,o,i){if(Sc=i,nn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yy.current=t===null||t.memoizedState===null?M7:N7,t=n(r,o),Sh){i=0;do{if(Sh=!1,Qh=0,25<=i)throw Error(Q(301));i+=1,Dn=kn=null,e.updateQueue=null,yy.current=D7,t=n(r,o)}while(Sh)}if(yy.current=p0,e=kn!==null&&kn.next!==null,Sc=0,Dn=kn=nn=null,f0=!1,e)throw Error(Q(300));return t}function iC(){var t=Qh!==0;return Qh=0,t}function Mi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?nn.memoizedState=Dn=t:Dn=Dn.next=t,Dn}function Do(){if(kn===null){var t=nn.alternate;t=t!==null?t.memoizedState:null}else t=kn.next;var e=Dn===null?nn.memoizedState:Dn.next;if(e!==null)Dn=e,kn=t;else{if(t===null)throw Error(Q(310));kn=t,t={memoizedState:kn.memoizedState,baseState:kn.baseState,baseQueue:kn.baseQueue,queue:kn.queue,next:null},Dn===null?nn.memoizedState=Dn=t:Dn=Dn.next=t}return Dn}function Yh(t,e){return typeof e=="function"?e(t):e}function Zw(t){var e=Do(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=kn,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,l=null,u=i;do{var d=u.lane;if((Sc&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var c={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=c,s=r):l=l.next=c,nn.lanes|=d,Ec|=d}u=u.next}while(u!==null&&u!==i);l===null?s=r:l.next=a,vi(r,e.memoizedState)||(zr=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do i=o.lane,nn.lanes|=i,Ec|=i,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Qw(t){var e=Do(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,i=e.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=t(i,s.action),s=s.next;while(s!==o);vi(i,e.memoizedState)||(zr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function S2(){}function E2(t,e){var n=nn,r=Do(),o=e(),i=!vi(r.memoizedState,o);if(i&&(r.memoizedState=o,zr=!0),r=r.queue,sC(O2.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Dn!==null&&Dn.memoizedState.tag&1){if(n.flags|=2048,Xh(9,C2.bind(null,n,r,o,e),void 0,null),In===null)throw Error(Q(349));(Sc&30)!==0||k2(n,e,o)}return o}function k2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=nn.updateQueue,e===null?(e={lastEffect:null,stores:null},nn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function C2(t,e,n,r){e.value=n,e.getSnapshot=r,P2(e)&&R2(t)}function O2(t,e,n){return n(function(){P2(e)&&R2(t)})}function P2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!vi(t,n)}catch{return!0}}function R2(t){var e=zs(t,1);e!==null&&di(e,t,1,-1)}function YT(t){var e=Mi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yh,lastRenderedState:t},e.queue=t,t=t.dispatch=T7.bind(null,nn,t),[e.memoizedState,t]}function Xh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=nn.updateQueue,e===null?(e={lastEffect:null,stores:null},nn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function T2(){return Do().memoizedState}function xy(t,e,n,r){var o=Mi();nn.flags|=t,o.memoizedState=Xh(1|e,n,void 0,r===void 0?null:r)}function n_(t,e,n,r){var o=Do();r=r===void 0?null:r;var i=void 0;if(kn!==null){var s=kn.memoizedState;if(i=s.destroy,r!==null&&rC(r,s.deps)){o.memoizedState=Xh(e,n,i,r);return}}nn.flags|=t,o.memoizedState=Xh(1|e,n,i,r)}function XT(t,e){return xy(8390656,8,t,e)}function sC(t,e){return n_(2048,8,t,e)}function M2(t,e){return n_(4,2,t,e)}function N2(t,e){return n_(4,4,t,e)}function D2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function A2(t,e,n){return n=n!=null?n.concat([t]):null,n_(4,4,D2.bind(null,e,t),n)}function aC(){}function I2(t,e){var n=Do();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rC(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function L2(t,e){var n=Do();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rC(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function $2(t,e,n){return(Sc&21)===0?(t.baseState&&(t.baseState=!1,zr=!0),t.memoizedState=n):(vi(n,e)||(n=V$(),nn.lanes|=n,Ec|=n,t.baseState=!0),e)}function P7(t,e){var n=Dt;Dt=n!==0&&4>n?n:4,t(!0);var r=Gw.transition;Gw.transition={};try{t(!1),e()}finally{Dt=n,Gw.transition=r}}function z2(){return Do().memoizedState}function R7(t,e,n){var r=Ha(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},F2(t))B2(e,n);else if(n=_2(t,e,n,r),n!==null){var o=vr();di(n,t,r,o),j2(n,e,r)}}function T7(t,e,n){var r=Ha(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(F2(t))B2(e,o);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,vi(a,s)){var l=e.interleaved;l===null?(o.next=o,Xk(e)):(o.next=l.next,l.next=o),e.interleaved=o;return}}catch{}finally{}n=_2(t,e,o,r),n!==null&&(o=vr(),di(n,t,r,o),j2(n,e,r))}}function F2(t){var e=t.alternate;return t===nn||e!==null&&e===nn}function B2(t,e){Sh=f0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function j2(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zk(t,n)}}var p0={readContext:No,useCallback:qn,useContext:qn,useEffect:qn,useImperativeHandle:qn,useInsertionEffect:qn,useLayoutEffect:qn,useMemo:qn,useReducer:qn,useRef:qn,useState:qn,useDebugValue:qn,useDeferredValue:qn,useTransition:qn,useMutableSource:qn,useSyncExternalStore:qn,useId:qn,unstable_isNewReconciler:!1},M7={readContext:No,useCallback:function(t,e){return Mi().memoizedState=[t,e===void 0?null:e],t},useContext:No,useEffect:XT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,xy(4194308,4,D2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xy(4194308,4,t,e)},useInsertionEffect:function(t,e){return xy(4,2,t,e)},useMemo:function(t,e){var n=Mi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=R7.bind(null,nn,t),[r.memoizedState,t]},useRef:function(t){var e=Mi();return t={current:t},e.memoizedState=t},useState:YT,useDebugValue:aC,useDeferredValue:function(t){return Mi().memoizedState=t},useTransition:function(){var t=YT(!1),e=t[0];return t=P7.bind(null,t[1]),Mi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=nn,o=Mi();if(Kt){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),In===null)throw Error(Q(349));(Sc&30)!==0||k2(r,e,n)}o.memoizedState=n;var i={value:n,getSnapshot:e};return o.queue=i,XT(O2.bind(null,r,i,t),[t]),r.flags|=2048,Xh(9,C2.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Mi(),e=In.identifierPrefix;if(Kt){var n=Ps,r=Os;n=(r&~(1<<32-ui(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Qh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=O7++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},N7={readContext:No,useCallback:I2,useContext:No,useEffect:sC,useImperativeHandle:A2,useInsertionEffect:M2,useLayoutEffect:N2,useMemo:L2,useReducer:Zw,useRef:T2,useState:function(){return Zw(Yh)},useDebugValue:aC,useDeferredValue:function(t){var e=Do();return $2(e,kn.memoizedState,t)},useTransition:function(){var t=Zw(Yh)[0],e=Do().memoizedState;return[t,e]},useMutableSource:S2,useSyncExternalStore:E2,useId:z2,unstable_isNewReconciler:!1},D7={readContext:No,useCallback:I2,useContext:No,useEffect:sC,useImperativeHandle:A2,useInsertionEffect:M2,useLayoutEffect:N2,useMemo:L2,useReducer:Qw,useRef:T2,useState:function(){return Qw(Yh)},useDebugValue:aC,useDeferredValue:function(t){var e=Do();return kn===null?e.memoizedState=t:$2(e,kn.memoizedState,t)},useTransition:function(){var t=Qw(Yh)[0],e=Do().memoizedState;return[t,e]},useMutableSource:S2,useSyncExternalStore:E2,useId:z2,unstable_isNewReconciler:!1};function Zo(t,e){if(t&&t.defaultProps){e=rn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function F1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:rn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var r_={isMounted:function(t){return(t=t._reactInternals)?qc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=vr(),o=Ha(t),i=Ns(r,o);i.payload=e,n!=null&&(i.callback=n),e=Va(t,i,o),e!==null&&(di(e,t,o,r),vy(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=vr(),o=Ha(t),i=Ns(r,o);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Va(t,i,o),e!==null&&(di(e,t,o,r),vy(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vr(),r=Ha(t),o=Ns(n,r);o.tag=2,e!=null&&(o.callback=e),e=Va(t,o,r),e!==null&&(di(e,t,r,n),vy(e,t,r))}};function JT(t,e,n,r,o,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,s):e.prototype&&e.prototype.isPureReactComponent?!Hh(n,r)||!Hh(o,i):!0}function V2(t,e,n){var r=!1,o=Ya,i=e.contextType;return typeof i=="object"&&i!==null?i=No(i):(o=Ur(e)?wc:rr.current,r=e.contextTypes,i=(r=r!=null)?Ad(t,o):Ya),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=r_,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function eM(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&r_.enqueueReplaceState(e,e.state,null)}function B1(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},Jk(t);var i=e.contextType;typeof i=="object"&&i!==null?o.context=No(i):(i=Ur(e)?wc:rr.current,o.context=Ad(t,i)),o.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(F1(t,e,i,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&r_.enqueueReplaceState(o,o.state,null),u0(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function zd(t,e){try{var n="",r=e;do n+=aK(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:o,digest:null}}function Yw(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function j1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var A7=typeof WeakMap=="function"?WeakMap:Map;function U2(t,e,n){n=Ns(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){m0||(m0=!0,Y1=r),j1(t,e)},n}function H2(t,e,n){n=Ns(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){j1(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){j1(t,e),typeof r!="function"&&(Ua===null?Ua=new Set([this]):Ua.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function tM(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new A7;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=G7.bind(null,t,e,n),e.then(t,t))}function nM(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rM(t,e,n,r,o){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ns(-1,1),e.tag=2,Va(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=o,t)}var I7=Ws.ReactCurrentOwner,zr=!1;function mr(t,e,n,r){e.child=t===null?x2(e,null,n,r):Ld(e,t.child,n,r)}function oM(t,e,n,r,o){n=n.render;var i=e.ref;return td(e,o),r=oC(t,e,n,r,i,o),n=iC(),t!==null&&!zr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,Fs(t,e,o)):(Kt&&n&&Kk(e),e.flags|=1,mr(t,e,r,o),e.child)}function iM(t,e,n,r,o){if(t===null){var i=n.type;return typeof i=="function"&&!mC(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,W2(t,e,i,r,o)):(t=Sy(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,(t.lanes&o)===0){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Hh,n(s,r)&&t.ref===e.ref)return Fs(t,e,o)}return e.flags|=1,t=Wa(i,r),t.ref=e.ref,t.return=e,e.child=t}function W2(t,e,n,r,o){if(t!==null){var i=t.memoizedProps;if(Hh(i,r)&&t.ref===e.ref)if(zr=!1,e.pendingProps=r=i,(t.lanes&o)!==0)(t.flags&131072)!==0&&(zr=!0);else return e.lanes=t.lanes,Fs(t,e,o)}return V1(t,e,n,r,o)}function K2(t,e,n){var r=e.pendingProps,o=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ft(Wu,eo),eo|=n;else{if((n&1073741824)===0)return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ft(Wu,eo),eo|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ft(Wu,eo),eo|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ft(Wu,eo),eo|=r;return mr(t,e,o,n),e.child}function q2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function V1(t,e,n,r,o){var i=Ur(n)?wc:rr.current;return i=Ad(e,i),td(e,o),n=oC(t,e,n,r,i,o),r=iC(),t!==null&&!zr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,Fs(t,e,o)):(Kt&&r&&Kk(e),e.flags|=1,mr(t,e,n,o),e.child)}function sM(t,e,n,r,o){if(Ur(n)){var i=!0;i0(e)}else i=!1;if(td(e,o),e.stateNode===null)_y(t,e),V2(e,n,r),B1(e,n,r,o),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=No(u):(u=Ur(n)?wc:rr.current,u=Ad(e,u));var d=n.getDerivedStateFromProps,c=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";c||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&eM(e,s,r,u),fa=!1;var f=e.memoizedState;s.state=f,u0(e,r,s,o),l=e.memoizedState,a!==r||f!==l||Vr.current||fa?(typeof d=="function"&&(F1(e,n,d,r),l=e.memoizedState),(a=fa||JT(e,n,a,r,f,l,u))?(c||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,w2(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Zo(e.type,a),s.props=u,c=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=No(l):(l=Ur(n)?wc:rr.current,l=Ad(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==c||f!==l)&&eM(e,s,r,l),fa=!1,f=e.memoizedState,s.state=f,u0(e,r,s,o);var m=e.memoizedState;a!==c||f!==m||Vr.current||fa?(typeof p=="function"&&(F1(e,n,p,r),m=e.memoizedState),(u=fa||JT(e,n,u,r,f,m,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return U1(t,e,n,r,i,o)}function U1(t,e,n,r,o,i){q2(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return o&&WT(e,n,!1),Fs(t,e,i);r=e.stateNode,I7.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ld(e,t.child,null,i),e.child=Ld(e,null,a,i)):mr(t,e,a,i),e.memoizedState=r.state,o&&WT(e,n,!0),e.child}function G2(t){var e=t.stateNode;e.pendingContext?HT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&HT(t,e.context,!1),eC(t,e.containerInfo)}function aM(t,e,n,r,o){return Id(),Gk(o),e.flags|=256,mr(t,e,n,r),e.child}var H1={dehydrated:null,treeContext:null,retryLane:0};function W1(t){return{baseLanes:t,cachePool:null,transitions:null}}function Z2(t,e,n){var r=e.pendingProps,o=Jt.current,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(o&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),Ft(Jt,o&1),t===null)return $1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(s=r.children,t=r.fallback,i?(r=e.mode,i=e.child,s={mode:"hidden",children:s},(r&1)===0&&i!==null?(i.childLanes=0,i.pendingProps=s):i=s_(s,r,0,null),t=dc(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=W1(n),e.memoizedState=H1,t):lC(e,s));if(o=t.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return L7(t,e,s,r,a,o,n);if(i){i=r.fallback,s=e.mode,o=t.child,a=o.sibling;var l={mode:"hidden",children:r.children};return(s&1)===0&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Wa(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=Wa(a,i):(i=dc(i,s,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,s=t.child.memoizedState,s=s===null?W1(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~n,e.memoizedState=H1,r}return i=t.child,t=i.sibling,r=Wa(i,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function lC(t,e){return e=s_({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Av(t,e,n,r){return r!==null&&Gk(r),Ld(e,t.child,null,n),t=lC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function L7(t,e,n,r,o,i,s){if(n)return e.flags&256?(e.flags&=-257,r=Yw(Error(Q(422))),Av(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,o=e.mode,r=s_({mode:"visible",children:r.children},o,0,null),i=dc(i,o,s,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,(e.mode&1)!==0&&Ld(e,t.child,null,s),e.child.memoizedState=W1(s),e.memoizedState=H1,i);if((e.mode&1)===0)return Av(t,e,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Q(419)),r=Yw(i,r,void 0),Av(t,e,s,r)}if(a=(s&t.childLanes)!==0,zr||a){if(r=In,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=(o&(r.suspendedLanes|s))!==0?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,zs(t,o),di(r,t,o,-1))}return hC(),r=Yw(Error(Q(421))),Av(t,e,s,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=Z7.bind(null,t),o._reactRetry=e,null):(t=i.treeContext,ao=ja(o.nextSibling),lo=e,Kt=!0,ni=null,t!==null&&(Eo[ko++]=Os,Eo[ko++]=Ps,Eo[ko++]=bc,Os=t.id,Ps=t.overflow,bc=e),e=lC(e,r.children),e.flags|=4096,e)}function lM(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),z1(t.return,e,n)}function Xw(t,e,n,r,o){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Q2(t,e,n){var r=e.pendingProps,o=r.revealOrder,i=r.tail;if(mr(t,e,r.children,n),r=Jt.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lM(t,n,e);else if(t.tag===19)lM(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ft(Jt,r),(e.mode&1)===0)e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&d0(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),Xw(e,!1,o,n,i);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&d0(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}Xw(e,!0,n,null,i);break;case"together":Xw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _y(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Fs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ec|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=Wa(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wa(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $7(t,e,n){switch(e.tag){case 3:G2(e),Id();break;case 5:b2(e);break;case 1:Ur(e.type)&&i0(e);break;case 4:eC(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;Ft(l0,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ft(Jt,Jt.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?Z2(t,e,n):(Ft(Jt,Jt.current&1),t=Fs(t,e,n),t!==null?t.sibling:null);Ft(Jt,Jt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return Q2(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ft(Jt,Jt.current),r)break;return null;case 22:case 23:return e.lanes=0,K2(t,e,n)}return Fs(t,e,n)}var Y2,K1,X2,J2;Y2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};K1=function(){};X2=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Wl(Wi.current);var i=null;switch(n){case"input":o=h1(t,o),r=h1(t,r),i=[];break;case"select":o=rn({},o,{value:void 0}),r=rn({},r,{value:void 0}),i=[];break;case"textarea":o=v1(t,o),r=v1(t,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=r0)}x1(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var a=o[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($h.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($h.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Vt("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};J2=function(t,e,n,r){n!==r&&(e.flags|=4)};function Xf(t,e){if(!Kt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function z7(t,e,n){var r=e.pendingProps;switch(qk(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gn(e),null;case 1:return Ur(e.type)&&o0(),Gn(e),null;case 3:return r=e.stateNode,$d(),Ut(Vr),Ut(rr),nC(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Nv(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,ni!==null&&(eS(ni),ni=null))),K1(t,e),Gn(e),null;case 5:tC(e);var o=Wl(Zh.current);if(n=e.type,t!==null&&e.stateNode!=null)X2(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return Gn(e),null}if(t=Wl(Wi.current),Nv(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Fi]=e,r[qh]=i,t=(e.mode&1)!==0,n){case"dialog":Vt("cancel",r),Vt("close",r);break;case"iframe":case"object":case"embed":Vt("load",r);break;case"video":case"audio":for(o=0;o<pp.length;o++)Vt(pp[o],r);break;case"source":Vt("error",r);break;case"img":case"image":case"link":Vt("error",r),Vt("load",r);break;case"details":Vt("toggle",r);break;case"input":vT(r,i),Vt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Vt("invalid",r);break;case"textarea":xT(r,i),Vt("invalid",r)}x1(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Mv(r.textContent,a,t),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Mv(r.textContent,a,t),o=["children",""+a]):$h.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Vt("scroll",r)}switch(n){case"input":Sv(r),yT(r,i,!0);break;case"textarea":Sv(r),_T(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=r0)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=O$(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Fi]=e,t[qh]=r,Y2(t,e,!1,!1),e.stateNode=t;e:{switch(s=_1(n,r),n){case"dialog":Vt("cancel",t),Vt("close",t),o=r;break;case"iframe":case"object":case"embed":Vt("load",t),o=r;break;case"video":case"audio":for(o=0;o<pp.length;o++)Vt(pp[o],t);o=r;break;case"source":Vt("error",t),o=r;break;case"img":case"image":case"link":Vt("error",t),Vt("load",t),o=r;break;case"details":Vt("toggle",t),o=r;break;case"input":vT(t,r),o=h1(t,r),Vt("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=rn({},r,{value:void 0}),Vt("invalid",t);break;case"textarea":xT(t,r),o=v1(t,r),Vt("invalid",t);break;default:o=r}x1(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?T$(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&P$(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&zh(t,l):typeof l=="number"&&zh(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&($h.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Vt("scroll",t):l!=null&&Nk(t,i,l,s))}switch(n){case"input":Sv(t),yT(t,r,!1);break;case"textarea":Sv(t),_T(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qa(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Yu(t,!!r.multiple,i,!1):r.defaultValue!=null&&Yu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=r0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gn(e),null;case 6:if(t&&e.stateNode!=null)J2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=Wl(Zh.current),Wl(Wi.current),Nv(e)){if(r=e.stateNode,n=e.memoizedProps,r[Fi]=e,(i=r.nodeValue!==n)&&(t=lo,t!==null))switch(t.tag){case 3:Mv(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Mv(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fi]=e,e.stateNode=r}return Gn(e),null;case 13:if(Ut(Jt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Kt&&ao!==null&&(e.mode&1)!==0&&(e.flags&128)===0)v2(),Id(),e.flags|=98560,i=!1;else if(i=Nv(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Q(317));i[Fi]=e}else Id(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Gn(e),i=!1}else ni!==null&&(eS(ni),ni=null),i=!0;if(!i)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(Jt.current&1)!==0?Cn===0&&(Cn=3):hC())),e.updateQueue!==null&&(e.flags|=4),Gn(e),null);case 4:return $d(),K1(t,e),t===null&&Wh(e.stateNode.containerInfo),Gn(e),null;case 10:return Yk(e.type._context),Gn(e),null;case 17:return Ur(e.type)&&o0(),Gn(e),null;case 19:if(Ut(Jt),i=e.memoizedState,i===null)return Gn(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)Xf(i,!1);else{if(Cn!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(s=d0(t),s!==null){for(e.flags|=128,Xf(i,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ft(Jt,Jt.current&1|2),e.child}t=t.sibling}i.tail!==null&&mn()>Fd&&(e.flags|=128,r=!0,Xf(i,!1),e.lanes=4194304)}else{if(!r)if(t=d0(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Xf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Kt)return Gn(e),null}else 2*mn()-i.renderingStartTime>Fd&&n!==1073741824&&(e.flags|=128,r=!0,Xf(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(n=i.last,n!==null?n.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=mn(),e.sibling=null,n=Jt.current,Ft(Jt,r?n&1|2:n&1),e):(Gn(e),null);case 22:case 23:return pC(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(eo&1073741824)!==0&&(Gn(e),e.subtreeFlags&6&&(e.flags|=8192)):Gn(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function F7(t,e){switch(qk(e),e.tag){case 1:return Ur(e.type)&&o0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $d(),Ut(Vr),Ut(rr),nC(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return tC(e),null;case 13:if(Ut(Jt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));Id()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ut(Jt),null;case 4:return $d(),null;case 10:return Yk(e.type._context),null;case 22:case 23:return pC(),null;case 24:return null;default:return null}}var Iv=!1,er=!1,B7=typeof WeakSet=="function"?WeakSet:Set,we=null;function Hu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ln(t,e,r)}else n.current=null}function q1(t,e,n){try{n()}catch(r){ln(t,e,r)}}var cM=!1;function j7(t,e){if(T1=e0,t=o2(),Wk(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,d=0,c=t,f=null;t:for(;;){for(var p;c!==n||o!==0&&c.nodeType!==3||(a=s+o),c!==i||r!==0&&c.nodeType!==3||(l=s+r),c.nodeType===3&&(s+=c.nodeValue.length),(p=c.firstChild)!==null;)f=c,c=p;for(;;){if(c===t)break t;if(f===n&&++u===o&&(a=s),f===i&&++d===r&&(l=s),(p=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(M1={focusedElem:t,selectionRange:n},e0=!1,we=e;we!==null;)if(e=we,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,we=t;else for(;we!==null;){e=we;try{var m=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,x=m.memoizedState,v=e.stateNode,h=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:Zo(e.type,g),x);v.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(y){ln(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,we=t;break}we=e.return}return m=cM,cM=!1,m}function Eh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var i=o.destroy;o.destroy=void 0,i!==void 0&&q1(e,n,i)}o=o.next}while(o!==r)}}function o_(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function G1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ez(t){var e=t.alternate;e!==null&&(t.alternate=null,ez(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Fi],delete e[qh],delete e[A1],delete e[S7],delete e[E7])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function tz(t){return t.tag===5||t.tag===3||t.tag===4}function uM(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tz(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Z1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=r0));else if(r!==4&&(t=t.child,t!==null))for(Z1(t,e,n),t=t.sibling;t!==null;)Z1(t,e,n),t=t.sibling}function Q1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Q1(t,e,n),t=t.sibling;t!==null;)Q1(t,e,n),t=t.sibling}var Bn=null,Xo=!1;function Qs(t,e,n){for(n=n.child;n!==null;)nz(t,e,n),n=n.sibling}function nz(t,e,n){if(Hi&&typeof Hi.onCommitFiberUnmount=="function")try{Hi.onCommitFiberUnmount(Qx,n)}catch{}switch(n.tag){case 5:er||Hu(n,e);case 6:var r=Bn,o=Xo;Bn=null,Qs(t,e,n),Bn=r,Xo=o,Bn!==null&&(Xo?(t=Bn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Bn.removeChild(n.stateNode));break;case 18:Bn!==null&&(Xo?(t=Bn,n=n.stateNode,t.nodeType===8?Ww(t.parentNode,n):t.nodeType===1&&Ww(t,n),Vh(t)):Ww(Bn,n.stateNode));break;case 4:r=Bn,o=Xo,Bn=n.stateNode.containerInfo,Xo=!0,Qs(t,e,n),Bn=r,Xo=o;break;case 0:case 11:case 14:case 15:if(!er&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&((i&2)!==0||(i&4)!==0)&&q1(n,e,s),o=o.next}while(o!==r)}Qs(t,e,n);break;case 1:if(!er&&(Hu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ln(n,e,a)}Qs(t,e,n);break;case 21:Qs(t,e,n);break;case 22:n.mode&1?(er=(r=er)||n.memoizedState!==null,Qs(t,e,n),er=r):Qs(t,e,n);break;default:Qs(t,e,n)}}function dM(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new B7),e.forEach(function(r){var o=Q7.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Ho(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Bn=a.stateNode,Xo=!1;break e;case 3:Bn=a.stateNode.containerInfo,Xo=!0;break e;case 4:Bn=a.stateNode.containerInfo,Xo=!0;break e}a=a.return}if(Bn===null)throw Error(Q(160));nz(i,s,o),Bn=null,Xo=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(u){ln(o,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)rz(e,t),e=e.sibling}function rz(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ho(e,t),Ri(t),r&4){try{Eh(3,t,t.return),o_(3,t)}catch(g){ln(t,t.return,g)}try{Eh(5,t,t.return)}catch(g){ln(t,t.return,g)}}break;case 1:Ho(e,t),Ri(t),r&512&&n!==null&&Hu(n,n.return);break;case 5:if(Ho(e,t),Ri(t),r&512&&n!==null&&Hu(n,n.return),t.flags&32){var o=t.stateNode;try{zh(o,"")}catch(g){ln(t,t.return,g)}}if(r&4&&(o=t.stateNode,o!=null)){var i=t.memoizedProps,s=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&k$(o,i),_1(a,s);var u=_1(a,i);for(s=0;s<l.length;s+=2){var d=l[s],c=l[s+1];d==="style"?T$(o,c):d==="dangerouslySetInnerHTML"?P$(o,c):d==="children"?zh(o,c):Nk(o,d,c,u)}switch(a){case"input":m1(o,i);break;case"textarea":C$(o,i);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Yu(o,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Yu(o,!!i.multiple,i.defaultValue,!0):Yu(o,!!i.multiple,i.multiple?[]:"",!1))}o[qh]=i}catch(g){ln(t,t.return,g)}}break;case 6:if(Ho(e,t),Ri(t),r&4){if(t.stateNode===null)throw Error(Q(162));o=t.stateNode,i=t.memoizedProps;try{o.nodeValue=i}catch(g){ln(t,t.return,g)}}break;case 3:if(Ho(e,t),Ri(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vh(e.containerInfo)}catch(g){ln(t,t.return,g)}break;case 4:Ho(e,t),Ri(t);break;case 13:Ho(e,t),Ri(t),o=t.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(dC=mn())),r&4&&dM(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(er=(u=er)||d,Ho(e,t),er=u):Ho(e,t),Ri(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&(t.mode&1)!==0)for(we=t,d=t.child;d!==null;){for(c=we=d;we!==null;){switch(f=we,p=f.child,f.tag){case 0:case 11:case 14:case 15:Eh(4,f,f.return);break;case 1:Hu(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){ln(r,n,g)}}break;case 5:Hu(f,f.return);break;case 22:if(f.memoizedState!==null){pM(c);continue}}p!==null?(p.return=f,we=p):pM(c)}d=d.sibling}e:for(d=null,c=t;;){if(c.tag===5){if(d===null){d=c;try{o=c.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=c.stateNode,l=c.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=R$("display",s))}catch(g){ln(t,t.return,g)}}}else if(c.tag===6){if(d===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(g){ln(t,t.return,g)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Ho(e,t),Ri(t),r&4&&dM(t);break;case 21:break;default:Ho(e,t),Ri(t)}}function Ri(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(tz(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(zh(o,""),r.flags&=-33);var i=uM(t);Q1(t,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=uM(t);Z1(t,a,s);break;default:throw Error(Q(161))}}catch(l){ln(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function V7(t,e,n){we=t,oz(t)}function oz(t,e,n){for(var r=(t.mode&1)!==0;we!==null;){var o=we,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||Iv;if(!s){var a=o.alternate,l=a!==null&&a.memoizedState!==null||er;a=Iv;var u=er;if(Iv=s,(er=l)&&!u)for(we=o;we!==null;)s=we,l=s.child,s.tag===22&&s.memoizedState!==null?hM(o):l!==null?(l.return=s,we=l):hM(o);for(;i!==null;)we=i,oz(i),i=i.sibling;we=o,Iv=a,er=u}fM(t)}else(o.subtreeFlags&8772)!==0&&i!==null?(i.return=o,we=i):fM(t)}}function fM(t){for(;we!==null;){var e=we;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:er||o_(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!er)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:Zo(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&QT(e,i,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}QT(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var c=d.dehydrated;c!==null&&Vh(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}er||e.flags&512&&G1(e)}catch(f){ln(e,e.return,f)}}if(e===t){we=null;break}if(n=e.sibling,n!==null){n.return=e.return,we=n;break}we=e.return}}function pM(t){for(;we!==null;){var e=we;if(e===t){we=null;break}var n=e.sibling;if(n!==null){n.return=e.return,we=n;break}we=e.return}}function hM(t){for(;we!==null;){var e=we;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{o_(4,e)}catch(l){ln(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(l){ln(e,o,l)}}var i=e.return;try{G1(e)}catch(l){ln(e,i,l)}break;case 5:var s=e.return;try{G1(e)}catch(l){ln(e,s,l)}}}catch(l){ln(e,e.return,l)}if(e===t){we=null;break}var a=e.sibling;if(a!==null){a.return=e.return,we=a;break}we=e.return}}var U7=Math.ceil,h0=Ws.ReactCurrentDispatcher,cC=Ws.ReactCurrentOwner,Ro=Ws.ReactCurrentBatchConfig,St=0,In=null,xn=null,Wn=0,eo=0,Wu=xl(0),Cn=0,Jh=null,Ec=0,i_=0,uC=0,kh=null,$r=null,dC=0,Fd=1/0,_s=null,m0=!1,Y1=null,Ua=null,Lv=!1,Ma=null,g0=0,Ch=0,X1=null,wy=-1,by=0;function vr(){return(St&6)!==0?mn():wy!==-1?wy:wy=mn()}function Ha(t){return(t.mode&1)===0?1:(St&2)!==0&&Wn!==0?Wn&-Wn:C7.transition!==null?(by===0&&(by=V$()),by):(t=Dt,t!==0||(t=window.event,t=t===void 0?16:Z$(t.type)),t)}function di(t,e,n,r){if(50<Ch)throw Ch=0,X1=null,Error(Q(185));ug(t,n,r),((St&2)===0||t!==In)&&(t===In&&((St&2)===0&&(i_|=n),Cn===4&&ga(t,Wn)),Hr(t,r),n===1&&St===0&&(e.mode&1)===0&&(Fd=mn()+500,t_&&_l()))}function Hr(t,e){var n=t.callbackNode;CK(t,e);var r=Jy(t,t===In?Wn:0);if(r===0)n!==null&&ST(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ST(n),e===1)t.tag===0?k7(mM.bind(null,t)):h2(mM.bind(null,t)),w7(function(){(St&6)===0&&_l()}),n=null;else{switch(U$(r)){case 1:n=$k;break;case 4:n=B$;break;case 16:n=Xy;break;case 536870912:n=j$;break;default:n=Xy}n=fz(n,iz.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function iz(t,e){if(wy=-1,by=0,(St&6)!==0)throw Error(Q(327));var n=t.callbackNode;if(nd()&&t.callbackNode!==n)return null;var r=Jy(t,t===In?Wn:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=v0(t,r);else{e=r;var o=St;St|=2;var i=az();(In!==t||Wn!==e)&&(_s=null,Fd=mn()+500,uc(t,e));do try{K7();break}catch(a){sz(t,a)}while(1);Qk(),h0.current=i,St=o,xn!==null?e=0:(In=null,Wn=0,e=Cn)}if(e!==0){if(e===2&&(o=k1(t),o!==0&&(r=o,e=J1(t,o))),e===1)throw n=Jh,uc(t,0),ga(t,r),Hr(t,mn()),n;if(e===6)ga(t,r);else{if(o=t.current.alternate,(r&30)===0&&!H7(o)&&(e=v0(t,r),e===2&&(i=k1(t),i!==0&&(r=i,e=J1(t,i))),e===1))throw n=Jh,uc(t,0),ga(t,r),Hr(t,mn()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:Il(t,$r,_s);break;case 3:if(ga(t,r),(r&130023424)===r&&(e=dC+500-mn(),10<e)){if(Jy(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){vr(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=D1(Il.bind(null,t,$r,_s),e);break}Il(t,$r,_s);break;case 4:if(ga(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var s=31-ui(r);i=1<<s,s=e[s],s>o&&(o=s),r&=~i}if(r=o,r=mn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*U7(r/1960))-r,10<r){t.timeoutHandle=D1(Il.bind(null,t,$r,_s),r);break}Il(t,$r,_s);break;case 5:Il(t,$r,_s);break;default:throw Error(Q(329))}}}return Hr(t,mn()),t.callbackNode===n?iz.bind(null,t):null}function J1(t,e){var n=kh;return t.current.memoizedState.isDehydrated&&(uc(t,e).flags|=256),t=v0(t,e),t!==2&&(e=$r,$r=n,e!==null&&eS(e)),t}function eS(t){$r===null?$r=t:$r.push.apply($r,t)}function H7(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!vi(i(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ga(t,e){for(e&=~uC,e&=~i_,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ui(e),r=1<<n;t[n]=-1,e&=~r}}function mM(t){if((St&6)!==0)throw Error(Q(327));nd();var e=Jy(t,0);if((e&1)===0)return Hr(t,mn()),null;var n=v0(t,e);if(t.tag!==0&&n===2){var r=k1(t);r!==0&&(e=r,n=J1(t,r))}if(n===1)throw n=Jh,uc(t,0),ga(t,e),Hr(t,mn()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Il(t,$r,_s),Hr(t,mn()),null}function fC(t,e){var n=St;St|=1;try{return t(e)}finally{St=n,St===0&&(Fd=mn()+500,t_&&_l())}}function kc(t){Ma!==null&&Ma.tag===0&&(St&6)===0&&nd();var e=St;St|=1;var n=Ro.transition,r=Dt;try{if(Ro.transition=null,Dt=1,t)return t()}finally{Dt=r,Ro.transition=n,St=e,(St&6)===0&&_l()}}function pC(){eo=Wu.current,Ut(Wu)}function uc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_7(n)),xn!==null)for(n=xn.return;n!==null;){var r=n;switch(qk(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&o0();break;case 3:$d(),Ut(Vr),Ut(rr),nC();break;case 5:tC(r);break;case 4:$d();break;case 13:Ut(Jt);break;case 19:Ut(Jt);break;case 10:Yk(r.type._context);break;case 22:case 23:pC()}n=n.return}if(In=t,xn=t=Wa(t.current,null),Wn=eo=e,Cn=0,Jh=null,uC=i_=Ec=0,$r=kh=null,Hl!==null){for(e=0;e<Hl.length;e++)if(n=Hl[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}Hl=null}return t}function sz(t,e){do{var n=xn;try{if(Qk(),yy.current=p0,f0){for(var r=nn.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}f0=!1}if(Sc=0,Dn=kn=nn=null,Sh=!1,Qh=0,cC.current=null,n===null||n.return===null){Cn=1,Jh=e,xn=null;break}e:{var i=t,s=n.return,a=n,l=e;if(e=Wn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,c=d.tag;if((d.mode&1)===0&&(c===0||c===11||c===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=nM(s);if(p!==null){p.flags&=-257,rM(p,s,a,i,e),p.mode&1&&tM(i,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if((e&1)===0){tM(i,u,e),hC();break e}l=Error(Q(426))}}else if(Kt&&a.mode&1){var x=nM(s);if(x!==null){(x.flags&65536)===0&&(x.flags|=256),rM(x,s,a,i,e),Gk(zd(l,a));break e}}i=l=zd(l,a),Cn!==4&&(Cn=2),kh===null?kh=[i]:kh.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=U2(i,l,e);ZT(i,v);break e;case 1:a=l;var h=i.type,_=i.stateNode;if((i.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ua===null||!Ua.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var y=H2(i,a,e);ZT(i,y);break e}}i=i.return}while(i!==null)}cz(n)}catch(S){e=S,xn===n&&n!==null&&(xn=n=n.return);continue}break}while(1)}function az(){var t=h0.current;return h0.current=p0,t===null?p0:t}function hC(){(Cn===0||Cn===3||Cn===2)&&(Cn=4),In===null||(Ec&268435455)===0&&(i_&268435455)===0||ga(In,Wn)}function v0(t,e){var n=St;St|=2;var r=az();(In!==t||Wn!==e)&&(_s=null,uc(t,e));do try{W7();break}catch(o){sz(t,o)}while(1);if(Qk(),St=n,h0.current=r,xn!==null)throw Error(Q(261));return In=null,Wn=0,Cn}function W7(){for(;xn!==null;)lz(xn)}function K7(){for(;xn!==null&&!vK();)lz(xn)}function lz(t){var e=dz(t.alternate,t,eo);t.memoizedProps=t.pendingProps,e===null?cz(t):xn=e,cC.current=null}function cz(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=z7(n,e,eo),n!==null){xn=n;return}}else{if(n=F7(n,e),n!==null){n.flags&=32767,xn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Cn=6,xn=null;return}}if(e=e.sibling,e!==null){xn=e;return}xn=e=t}while(e!==null);Cn===0&&(Cn=5)}function Il(t,e,n){var r=Dt,o=Ro.transition;try{Ro.transition=null,Dt=1,q7(t,e,n,r)}finally{Ro.transition=o,Dt=r}return null}function q7(t,e,n,r){do nd();while(Ma!==null);if((St&6)!==0)throw Error(Q(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(OK(t,i),t===In&&(xn=In=null,Wn=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Lv||(Lv=!0,fz(Xy,function(){return nd(),null})),i=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||i){i=Ro.transition,Ro.transition=null;var s=Dt;Dt=1;var a=St;St|=4,cC.current=null,j7(t,n),rz(n,t),p7(M1),e0=!!T1,M1=T1=null,t.current=n,V7(n),yK(),St=a,Dt=s,Ro.transition=i}else t.current=n;if(Lv&&(Lv=!1,Ma=t,g0=o),i=t.pendingLanes,i===0&&(Ua=null),wK(n.stateNode),Hr(t,mn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(m0)throw m0=!1,t=Y1,Y1=null,t;return(g0&1)!==0&&t.tag!==0&&nd(),i=t.pendingLanes,(i&1)!==0?t===X1?Ch++:(Ch=0,X1=t):Ch=0,_l(),null}function nd(){if(Ma!==null){var t=U$(g0),e=Ro.transition,n=Dt;try{if(Ro.transition=null,Dt=16>t?16:t,Ma===null)var r=!1;else{if(t=Ma,Ma=null,g0=0,(St&6)!==0)throw Error(Q(331));var o=St;for(St|=4,we=t.current;we!==null;){var i=we,s=i.child;if((we.flags&16)!==0){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(we=u;we!==null;){var d=we;switch(d.tag){case 0:case 11:case 15:Eh(8,d,i)}var c=d.child;if(c!==null)c.return=d,we=c;else for(;we!==null;){d=we;var f=d.sibling,p=d.return;if(ez(d),d===u){we=null;break}if(f!==null){f.return=p,we=f;break}we=p}}}var m=i.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}we=i}}if((i.subtreeFlags&2064)!==0&&s!==null)s.return=i,we=s;else e:for(;we!==null;){if(i=we,(i.flags&2048)!==0)switch(i.tag){case 0:case 11:case 15:Eh(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,we=v;break e}we=i.return}}var h=t.current;for(we=h;we!==null;){s=we;var _=s.child;if((s.subtreeFlags&2064)!==0&&_!==null)_.return=s,we=_;else e:for(s=h;we!==null;){if(a=we,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:o_(9,a)}}catch(S){ln(a,a.return,S)}if(a===s){we=null;break e}var y=a.sibling;if(y!==null){y.return=a.return,we=y;break e}we=a.return}}if(St=o,_l(),Hi&&typeof Hi.onPostCommitFiberRoot=="function")try{Hi.onPostCommitFiberRoot(Qx,t)}catch{}r=!0}return r}finally{Dt=n,Ro.transition=e}}return!1}function gM(t,e,n){e=zd(n,e),e=U2(t,e,1),t=Va(t,e,1),e=vr(),t!==null&&(ug(t,1,e),Hr(t,e))}function ln(t,e,n){if(t.tag===3)gM(t,t,n);else for(;e!==null;){if(e.tag===3){gM(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ua===null||!Ua.has(r))){t=zd(n,t),t=H2(e,t,1),e=Va(e,t,1),t=vr(),e!==null&&(ug(e,1,t),Hr(e,t));break}}e=e.return}}function G7(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=vr(),t.pingedLanes|=t.suspendedLanes&n,In===t&&(Wn&n)===n&&(Cn===4||Cn===3&&(Wn&130023424)===Wn&&500>mn()-dC?uc(t,0):uC|=n),Hr(t,e)}function uz(t,e){e===0&&((t.mode&1)===0?e=1:(e=Cv,Cv<<=1,(Cv&130023424)===0&&(Cv=4194304)));var n=vr();t=zs(t,e),t!==null&&(ug(t,e,n),Hr(t,n))}function Z7(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),uz(t,n)}function Q7(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),uz(t,n)}var dz;dz=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Vr.current)zr=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return zr=!1,$7(t,e,n);zr=(t.flags&131072)!==0}else zr=!1,Kt&&(e.flags&1048576)!==0&&m2(e,a0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_y(t,e),t=e.pendingProps;var o=Ad(e,rr.current);td(e,n),o=oC(null,e,r,t,o,n);var i=iC();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ur(r)?(i=!0,i0(e)):i=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Jk(e),o.updater=r_,e.stateNode=o,o._reactInternals=e,B1(e,r,t,n),e=U1(null,e,r,!0,i,n)):(e.tag=0,Kt&&i&&Kk(e),mr(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_y(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=X7(r),t=Zo(r,t),o){case 0:e=V1(null,e,r,t,n);break e;case 1:e=sM(null,e,r,t,n);break e;case 11:e=oM(null,e,r,t,n);break e;case 14:e=iM(null,e,r,Zo(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Zo(r,o),V1(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Zo(r,o),sM(t,e,r,o,n);case 3:e:{if(G2(e),t===null)throw Error(Q(387));r=e.pendingProps,i=e.memoizedState,o=i.element,w2(t,e),u0(e,r,null,n);var s=e.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){o=zd(Error(Q(423)),e),e=aM(t,e,r,n,o);break e}else if(r!==o){o=zd(Error(Q(424)),e),e=aM(t,e,r,n,o);break e}else for(ao=ja(e.stateNode.containerInfo.firstChild),lo=e,Kt=!0,ni=null,n=x2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Id(),r===o){e=Fs(t,e,n);break e}mr(t,e,r,n)}e=e.child}return e;case 5:return b2(e),t===null&&$1(e),r=e.type,o=e.pendingProps,i=t!==null?t.memoizedProps:null,s=o.children,N1(r,o)?s=null:i!==null&&N1(r,i)&&(e.flags|=32),q2(t,e),mr(t,e,s,n),e.child;case 6:return t===null&&$1(e),null;case 13:return Z2(t,e,n);case 4:return eC(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ld(e,null,r,n):mr(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Zo(r,o),oM(t,e,r,o,n);case 7:return mr(t,e,e.pendingProps,n),e.child;case 8:return mr(t,e,e.pendingProps.children,n),e.child;case 12:return mr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,i=e.memoizedProps,s=o.value,Ft(l0,r._currentValue),r._currentValue=s,i!==null)if(vi(i.value,s)){if(i.children===o.children&&!Vr.current){e=Fs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ns(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),z1(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(Q(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),z1(s,n,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}mr(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,td(e,n),o=No(o),r=r(o),e.flags|=1,mr(t,e,r,n),e.child;case 14:return r=e.type,o=Zo(r,e.pendingProps),o=Zo(r.type,o),iM(t,e,r,o,n);case 15:return W2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Zo(r,o),_y(t,e),e.tag=1,Ur(r)?(t=!0,i0(e)):t=!1,td(e,n),V2(e,r,o),B1(e,r,o,n),U1(null,e,r,!0,t,n);case 19:return Q2(t,e,n);case 22:return K2(t,e,n)}throw Error(Q(156,e.tag))};function fz(t,e){return F$(t,e)}function Y7(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Po(t,e,n,r){return new Y7(t,e,n,r)}function mC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function X7(t){if(typeof t=="function")return mC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ak)return 11;if(t===Ik)return 14}return 2}function Wa(t,e){var n=t.alternate;return n===null?(n=Po(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Sy(t,e,n,r,o,i){var s=2;if(r=t,typeof t=="function")mC(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Iu:return dc(n.children,o,i,e);case Dk:s=8,o|=8;break;case u1:return t=Po(12,n,e,o|2),t.elementType=u1,t.lanes=i,t;case d1:return t=Po(13,n,e,o),t.elementType=d1,t.lanes=i,t;case f1:return t=Po(19,n,e,o),t.elementType=f1,t.lanes=i,t;case b$:return s_(n,o,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _$:s=10;break e;case w$:s=9;break e;case Ak:s=11;break e;case Ik:s=14;break e;case da:s=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=Po(s,n,e,o),e.elementType=t,e.type=r,e.lanes=i,e}function dc(t,e,n,r){return t=Po(7,t,r,e),t.lanes=n,t}function s_(t,e,n,r){return t=Po(22,t,r,e),t.elementType=b$,t.lanes=n,t.stateNode={isHidden:!1},t}function Jw(t,e,n){return t=Po(6,t,null,e),t.lanes=n,t}function eb(t,e,n){return e=Po(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function J7(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Aw(0),this.expirationTimes=Aw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Aw(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function gC(t,e,n,r,o,i,s,a,l){return t=new J7(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Po(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jk(i),t}function eq(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Au,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function pz(t){if(!t)return Ya;t=t._reactInternals;e:{if(qc(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ur(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(Ur(n))return p2(t,n,e)}return e}function hz(t,e,n,r,o,i,s,a,l){return t=gC(n,r,!0,t,o,i,s,a,l),t.context=pz(null),n=t.current,r=vr(),o=Ha(n),i=Ns(r,o),i.callback=e!=null?e:null,Va(n,i,o),t.current.lanes=o,ug(t,o,r),Hr(t,r),t}function a_(t,e,n,r){var o=e.current,i=vr(),s=Ha(o);return n=pz(n),e.context===null?e.context=n:e.pendingContext=n,e=Ns(i,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Va(o,e,s),t!==null&&(di(t,o,s,i),vy(t,o,s)),s}function y0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vM(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function vC(t,e){vM(t,e),(t=t.alternate)&&vM(t,e)}function tq(){return null}var mz=typeof reportError=="function"?reportError:function(t){console.error(t)};function yC(t){this._internalRoot=t}l_.prototype.render=yC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));a_(t,e,null,null)};l_.prototype.unmount=yC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;kc(function(){a_(null,t,null,null)}),e[$s]=null}};function l_(t){this._internalRoot=t}l_.prototype.unstable_scheduleHydration=function(t){if(t){var e=K$();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ma.length&&e!==0&&e<ma[n].priority;n++);ma.splice(n,0,t),n===0&&G$(t)}};function xC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yM(){}function nq(t,e,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=y0(s);i.call(u)}}var s=hz(e,r,t,0,null,!1,!1,"",yM);return t._reactRootContainer=s,t[$s]=s.current,Wh(t.nodeType===8?t.parentNode:t),kc(),s}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var u=y0(l);a.call(u)}}var l=gC(t,0,!1,null,null,!1,!1,"",yM);return t._reactRootContainer=l,t[$s]=l.current,Wh(t.nodeType===8?t.parentNode:t),kc(function(){a_(e,l,n,r)}),l}function u_(t,e,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var l=y0(s);a.call(l)}}a_(e,s,t,o)}else s=nq(n,e,t,o,r);return y0(s)}H$=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=fp(e.pendingLanes);n!==0&&(zk(e,n|1),Hr(e,mn()),(St&6)===0&&(Fd=mn()+500,_l()))}break;case 13:kc(function(){var r=zs(t,1);if(r!==null){var o=vr();di(r,t,1,o)}}),vC(t,1)}};Fk=function(t){if(t.tag===13){var e=zs(t,134217728);if(e!==null){var n=vr();di(e,t,134217728,n)}vC(t,134217728)}};W$=function(t){if(t.tag===13){var e=Ha(t),n=zs(t,e);if(n!==null){var r=vr();di(n,t,e,r)}vC(t,e)}};K$=function(){return Dt};q$=function(t,e){var n=Dt;try{return Dt=t,e()}finally{Dt=n}};b1=function(t,e,n){switch(e){case"input":if(m1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=e_(r);if(!o)throw Error(Q(90));E$(r),m1(r,o)}}}break;case"textarea":C$(t,n);break;case"select":e=n.value,e!=null&&Yu(t,!!n.multiple,e,!1)}};D$=fC;A$=kc;var rq={usingClientEntryPoint:!1,Events:[fg,Fu,e_,M$,N$,fC]},Jf={findFiberByHostInstance:Ul,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oq={bundleType:Jf.bundleType,version:Jf.version,rendererPackageName:Jf.rendererPackageName,rendererConfig:Jf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ws.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=$$(t),t===null?null:t.stateNode},findFiberByHostInstance:Jf.findFiberByHostInstance||tq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $v=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$v.isDisabled&&$v.supportsFiber)try{Qx=$v.inject(oq),Hi=$v}catch{}}vo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rq;vo.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xC(e))throw Error(Q(200));return eq(t,e,null,n)};vo.createRoot=function(t,e){if(!xC(t))throw Error(Q(299));var n=!1,r="",o=mz;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=gC(t,1,!1,null,null,n,!1,r,o),t[$s]=e.current,Wh(t.nodeType===8?t.parentNode:t),new yC(e)};vo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=$$(e),t=t===null?null:t.stateNode,t};vo.flushSync=function(t){return kc(t)};vo.hydrate=function(t,e,n){if(!c_(e))throw Error(Q(200));return u_(null,t,e,!0,n)};vo.hydrateRoot=function(t,e,n){if(!xC(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=mz;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=hz(e,null,t,1,n!=null?n:null,o,!1,i,s),t[$s]=e.current,Wh(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new l_(e)};vo.render=function(t,e,n){if(!c_(e))throw Error(Q(200));return u_(null,t,e,!1,n)};vo.unmountComponentAtNode=function(t){if(!c_(t))throw Error(Q(40));return t._reactRootContainer?(kc(function(){u_(null,null,t,!1,function(){t._reactRootContainer=null,t[$s]=null})}),!0):!1};vo.unstable_batchedUpdates=fC;vo.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!c_(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return u_(t,e,n,!1,r)};vo.version="18.3.1-next-f1338f8080-20240426";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=vo})(zo);const gz=l$(zo.exports),iq=a$({__proto__:null,default:gz},[zo.exports]);var vz,xM=zo.exports;vz=xM.createRoot,xM.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xt(){return Xt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xt.apply(this,arguments)}var hn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(hn||(hn={}));const _M="popstate";function sq(t){t===void 0&&(t={});function e(r,o){let{pathname:i,search:s,hash:a}=r.location;return em("",{pathname:i,search:s,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:hg(o)}return lq(e,n,null,t)}function xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Bd(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aq(){return Math.random().toString(36).substr(2,8)}function wM(t,e){return{usr:t.state,key:t.key,idx:e}}function em(t,e,n,r){return n===void 0&&(n=null),Xt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ks(e):e,{state:n,key:e&&e.key||r||aq()})}function hg(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ks(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function lq(t,e,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,s=o.history,a=hn.Pop,l=null,u=d();u==null&&(u=0,s.replaceState(Xt({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function c(){a=hn.Pop;let x=d(),v=x==null?null:x-u;u=x,l&&l({action:a,location:g.location,delta:v})}function f(x,v){a=hn.Push;let h=em(g.location,x,v);n&&n(h,x),u=d()+1;let _=wM(h,u),y=g.createHref(h);try{s.pushState(_,"",y)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;o.location.assign(y)}i&&l&&l({action:a,location:g.location,delta:1})}function p(x,v){a=hn.Replace;let h=em(g.location,x,v);n&&n(h,x),u=d();let _=wM(h,u),y=g.createHref(h);s.replaceState(_,"",y),i&&l&&l({action:a,location:g.location,delta:0})}function m(x){let v=o.location.origin!=="null"?o.location.origin:o.location.href,h=typeof x=="string"?x:hg(x);return h=h.replace(/ $/,"%20"),xt(v,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,v)}let g={get action(){return a},get location(){return t(o,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(_M,c),l=x,()=>{o.removeEventListener(_M,c),l=null}},createHref(x){return e(o,x)},createURL:m,encodeLocation(x){let v=m(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(x){return s.go(x)}};return g}var It;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(It||(It={}));const cq=new Set(["lazy","caseSensitive","path","id","index","children"]);function uq(t){return t.index===!0}function tm(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((o,i)=>{let s=[...n,String(i)],a=typeof o.id=="string"?o.id:s.join("-");if(xt(o.index!==!0||!o.children,"Cannot specify children on an index route"),xt(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),uq(o)){let l=Xt({},o,e(o),{id:a});return r[a]=l,l}else{let l=Xt({},o,e(o),{id:a,children:void 0});return r[a]=l,o.children&&(l.children=tm(o.children,e,s,r)),l}})}function jl(t,e,n){return n===void 0&&(n="/"),Ey(t,e,n,!1)}function Ey(t,e,n,r){let o=typeof e=="string"?Ks(e):e,i=mg(o.pathname||"/",n);if(i==null)return null;let s=yz(t);fq(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=Sq(i);a=wq(s[l],u,r)}return a}function dq(t,e){let{route:n,pathname:r,params:o}=t;return{id:n.id,pathname:r,params:o,data:e[n.id],handle:n.handle}}function yz(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(i,s,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(xt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=fc([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(xt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),yz(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:xq(u,i.index),routesMeta:d})};return t.forEach((i,s)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))o(i,s);else for(let l of xz(i.path))o(i,s,l)}),e}function xz(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let s=xz(r.join("/")),a=[];return a.push(...s.map(l=>l===""?i:[i,l].join("/"))),o&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function fq(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_q(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const pq=/^:[\w-]+$/,hq=3,mq=2,gq=1,vq=10,yq=-2,bM=t=>t==="*";function xq(t,e){let n=t.split("/"),r=n.length;return n.some(bM)&&(r+=yq),e&&(r+=mq),n.filter(o=>!bM(o)).reduce((o,i)=>o+(pq.test(i)?hq:i===""?gq:vq),r)}function _q(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function wq(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,o={},i="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",c=SM({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!c&&u&&n&&!r[r.length-1].route.index&&(c=SM({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!c)return null;Object.assign(o,c.params),s.push({params:o,pathname:fc([i,c.pathname]),pathnameBase:Pq(fc([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=fc([i,c.pathnameBase]))}return s}function SM(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=bq(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce((u,d,c)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let g=a[c]||"";s=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const m=a[c];return p&&!m?u[f]=void 0:u[f]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:t}}function bq(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Bd(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function Sq(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bd(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function mg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Eq(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?Ks(t):t;return{pathname:n?n.startsWith("/")?n:kq(n,e):e,search:Rq(r),hash:Tq(o)}}function kq(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function tb(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _z(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Cq(t,e){let n=_z(t);return e?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Oq(t,e,n,r){r===void 0&&(r=!1);let o;typeof t=="string"?o=Ks(t):(o=Xt({},t),xt(!o.pathname||!o.pathname.includes("?"),tb("?","pathname","search",o)),xt(!o.pathname||!o.pathname.includes("#"),tb("#","pathname","hash",o)),xt(!o.search||!o.search.includes("#"),tb("#","search","hash",o)));let i=t===""||o.pathname==="",s=i?"/":o.pathname,a;if(s==null)a=n;else{let c=e.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),c-=1;o.pathname=f.join("/")}a=c>=0?e[c]:"/"}let l=Eq(o,a),u=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const fc=t=>t.join("/").replace(/\/\/+/g,"/"),Pq=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Rq=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Tq=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class x0{constructor(e,n,r,o){o===void 0&&(o=!1),this.status=e,this.statusText=n||"",this.internal=o,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function d_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const wz=["post","put","patch","delete"],Mq=new Set(wz),Nq=["get",...wz],Dq=new Set(Nq),Aq=new Set([301,302,303,307,308]),Iq=new Set([307,308]),nb={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Lq={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ep={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},_C=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$q=t=>({hasErrorBoundary:Boolean(t.hasErrorBoundary)}),bz="remix-router-transitions";function zq(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;xt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let o;if(t.mapRouteProperties)o=t.mapRouteProperties;else if(t.detectErrorBoundary){let R=t.detectErrorBoundary;o=M=>({hasErrorBoundary:R(M)})}else o=$q;let i={},s=tm(t.routes,o,void 0,i),a,l=t.basename||"/",u=t.unstable_dataStrategy||Hq,d=t.unstable_patchRoutesOnNavigation,c=Xt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,p=new Set,m=1e3,g=new Set,x=null,v=null,h=null,_=t.hydrationData!=null,y=jl(s,t.history.location,l),S=null;if(y==null&&!d){let R=hr(404,{pathname:t.history.location.pathname}),{matches:M,route:L}=NM(s);y=M,S={[L.id]:R}}y&&!t.hydrationData&&hv(y,s,t.history.location.pathname).active&&(y=null);let O;if(y)if(y.some(R=>R.route.lazy))O=!1;else if(!y.some(R=>R.route.loader))O=!0;else if(c.v7_partialHydration){let R=t.hydrationData?t.hydrationData.loaderData:null,M=t.hydrationData?t.hydrationData.errors:null,L=W=>W.route.loader?typeof W.route.loader=="function"&&W.route.loader.hydrate===!0?!1:R&&R[W.route.id]!==void 0||M&&M[W.route.id]!==void 0:!0;if(M){let W=y.findIndex(_e=>M[_e.route.id]!==void 0);O=y.slice(0,W+1).every(L)}else O=y.every(L)}else O=t.hydrationData!=null;else if(O=!1,y=[],c.v7_partialHydration){let R=hv(null,s,t.history.location.pathname);R.active&&R.matches&&(y=R.matches)}let k,E={historyAction:t.history.action,location:t.history.location,matches:y,initialized:O,navigation:nb,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||S,fetchers:new Map,blockers:new Map},T=hn.Pop,D=!1,j,A=!1,K=new Map,H=null,ee=!1,X=!1,ye=[],z=new Set,I=new Map,J=0,xe=-1,Be=new Map,Z=new Set,he=new Map,ke=new Map,ae=new Set,U=new Map,F=new Map,q=new Map,re;function de(){if(f=t.history.listen(R=>{let{action:M,location:L,delta:W}=R;if(re){re(),re=void 0;return}Bd(F.size===0||W!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let _e=iT({currentLocation:E.location,nextLocation:L,historyAction:M});if(_e&&W!=null){let Fe=new Promise(Je=>{re=Je});t.history.go(W*-1),fv(_e,{state:"blocked",location:L,proceed(){fv(_e,{state:"proceeding",proceed:void 0,reset:void 0,location:L}),Fe.then(()=>t.history.go(W))},reset(){let Je=new Map(E.blockers);Je.set(_e,ep),Pe({blockers:Je})}});return}return C(M,L)}),n){iG(e,K);let R=()=>sG(e,K);e.addEventListener("pagehide",R),H=()=>e.removeEventListener("pagehide",R)}return E.initialized||C(hn.Pop,E.location,{initialHydration:!0}),k}function fe(){f&&f(),H&&H(),p.clear(),j&&j.abort(),E.fetchers.forEach((R,M)=>Tl(M)),E.blockers.forEach((R,M)=>oT(M))}function Oe(R){return p.add(R),()=>p.delete(R)}function Pe(R,M){M===void 0&&(M={}),E=Xt({},E,R);let L=[],W=[];c.v7_fetcherPersist&&E.fetchers.forEach((_e,Fe)=>{_e.state==="idle"&&(ae.has(Fe)?W.push(Fe):L.push(Fe))}),[...p].forEach(_e=>_e(E,{deletedFetchers:W,unstable_viewTransitionOpts:M.viewTransitionOpts,unstable_flushSync:M.flushSync===!0})),c.v7_fetcherPersist&&(L.forEach(_e=>E.fetchers.delete(_e)),W.forEach(_e=>Tl(_e)))}function vt(R,M,L){var W,_e;let{flushSync:Fe}=L===void 0?{}:L,Je=E.actionData!=null&&E.navigation.formMethod!=null&&Jo(E.navigation.formMethod)&&E.navigation.state==="loading"&&((W=R.state)==null?void 0:W._isRedirect)!==!0,pe;M.actionData?Object.keys(M.actionData).length>0?pe=M.actionData:pe=null:Je?pe=E.actionData:pe=null;let He=M.loaderData?TM(E.loaderData,M.loaderData,M.matches||[],M.errors):E.loaderData,Ne=E.blockers;Ne.size>0&&(Ne=new Map(Ne),Ne.forEach((Nt,Bt)=>Ne.set(Bt,ep)));let Ae=D===!0||E.navigation.formMethod!=null&&Jo(E.navigation.formMethod)&&((_e=R.state)==null?void 0:_e._isRedirect)!==!0;a&&(s=a,a=void 0),ee||T===hn.Pop||(T===hn.Push?t.history.push(R,R.state):T===hn.Replace&&t.history.replace(R,R.state));let Ot;if(T===hn.Pop){let Nt=K.get(E.location.pathname);Nt&&Nt.has(R.pathname)?Ot={currentLocation:E.location,nextLocation:R}:K.has(R.pathname)&&(Ot={currentLocation:R,nextLocation:E.location})}else if(A){let Nt=K.get(E.location.pathname);Nt?Nt.add(R.pathname):(Nt=new Set([R.pathname]),K.set(E.location.pathname,Nt)),Ot={currentLocation:E.location,nextLocation:R}}Pe(Xt({},M,{actionData:pe,loaderData:He,historyAction:T,location:R,initialized:!0,navigation:nb,revalidation:"idle",restoreScrollPosition:aT(R,M.matches||E.matches),preventScrollReset:Ae,blockers:Ne}),{viewTransitionOpts:Ot,flushSync:Fe===!0}),T=hn.Pop,D=!1,A=!1,ee=!1,X=!1,ye=[]}async function ot(R,M){if(typeof R=="number"){t.history.go(R);return}let L=tS(E.location,E.matches,l,c.v7_prependBasename,R,c.v7_relativeSplatPath,M==null?void 0:M.fromRouteId,M==null?void 0:M.relative),{path:W,submission:_e,error:Fe}=EM(c.v7_normalizeFormMethod,!1,L,M),Je=E.location,pe=em(E.location,W,M&&M.state);pe=Xt({},pe,t.history.encodeLocation(pe));let He=M&&M.replace!=null?M.replace:void 0,Ne=hn.Push;He===!0?Ne=hn.Replace:He===!1||_e!=null&&Jo(_e.formMethod)&&_e.formAction===E.location.pathname+E.location.search&&(Ne=hn.Replace);let Ae=M&&"preventScrollReset"in M?M.preventScrollReset===!0:void 0,Ot=(M&&M.unstable_flushSync)===!0,Nt=iT({currentLocation:Je,nextLocation:pe,historyAction:Ne});if(Nt){fv(Nt,{state:"blocked",location:pe,proceed(){fv(Nt,{state:"proceeding",proceed:void 0,reset:void 0,location:pe}),ot(R,M)},reset(){let Bt=new Map(E.blockers);Bt.set(Nt,ep),Pe({blockers:Bt})}});return}return await C(Ne,pe,{submission:_e,pendingError:Fe,preventScrollReset:Ae,replace:M&&M.replace,enableViewTransition:M&&M.unstable_viewTransition,flushSync:Ot})}function Ht(){if(Hf(),Pe({revalidation:"loading"}),E.navigation.state!=="submitting"){if(E.navigation.state==="idle"){C(E.historyAction,E.location,{startUninterruptedRevalidation:!0});return}C(T||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation,enableViewTransition:A===!0})}}async function C(R,M,L){j&&j.abort(),j=null,T=R,ee=(L&&L.startUninterruptedRevalidation)===!0,A9(E.location,E.matches),D=(L&&L.preventScrollReset)===!0,A=(L&&L.enableViewTransition)===!0;let W=a||s,_e=L&&L.overrideNavigation,Fe=jl(W,M,l),Je=(L&&L.flushSync)===!0,pe=hv(Fe,W,M.pathname);if(pe.active&&pe.matches&&(Fe=pe.matches),!Fe){let{error:bt,notFoundMatches:Mn,route:gn}=Cw(M.pathname);vt(M,{matches:Mn,loaderData:{},errors:{[gn.id]:bt}},{flushSync:Je});return}if(E.initialized&&!X&&Qq(E.location,M)&&!(L&&L.submission&&Jo(L.submission.formMethod))){vt(M,{matches:Fe},{flushSync:Je});return}j=new AbortController;let He=cu(t.history,M,j.signal,L&&L.submission),Ne;if(L&&L.pendingError)Ne=[Ku(Fe).route.id,{type:It.error,error:L.pendingError}];else if(L&&L.submission&&Jo(L.submission.formMethod)){let bt=await N(He,M,L.submission,Fe,pe.active,{replace:L.replace,flushSync:Je});if(bt.shortCircuited)return;if(bt.pendingActionResult){let[Mn,gn]=bt.pendingActionResult;if(no(gn)&&d_(gn.error)&&gn.error.status===404){j=null,vt(M,{matches:bt.matches,loaderData:{},errors:{[Mn]:gn.error}});return}}Fe=bt.matches||Fe,Ne=bt.pendingActionResult,_e=rb(M,L.submission),Je=!1,pe.active=!1,He=cu(t.history,He.url,He.signal)}let{shortCircuited:Ae,matches:Ot,loaderData:Nt,errors:Bt}=await $(He,M,Fe,pe.active,_e,L&&L.submission,L&&L.fetcherSubmission,L&&L.replace,L&&L.initialHydration===!0,Je,Ne);Ae||(j=null,vt(M,Xt({matches:Ot||Fe},MM(Ne),{loaderData:Nt,errors:Bt})))}async function N(R,M,L,W,_e,Fe){Fe===void 0&&(Fe={}),Hf();let Je=rG(M,L);if(Pe({navigation:Je},{flushSync:Fe.flushSync===!0}),_e){let Ne=await mv(W,M.pathname,R.signal);if(Ne.type==="aborted")return{shortCircuited:!0};if(Ne.type==="error"){let{boundaryId:Ae,error:Ot}=pv(M.pathname,Ne);return{matches:Ne.partialMatches,pendingActionResult:[Ae,{type:It.error,error:Ot}]}}else if(Ne.matches)W=Ne.matches;else{let{notFoundMatches:Ae,error:Ot,route:Nt}=Cw(M.pathname);return{matches:Ae,pendingActionResult:[Nt.id,{type:It.error,error:Ot}]}}}let pe,He=hp(W,M);if(!He.route.action&&!He.route.lazy)pe={type:It.error,error:hr(405,{method:R.method,pathname:M.pathname,routeId:He.route.id})};else if(pe=(await Wt("action",E,R,[He],W,null))[He.route.id],R.signal.aborted)return{shortCircuited:!0};if(Kl(pe)){let Ne;return Fe&&Fe.replace!=null?Ne=Fe.replace:Ne=OM(pe.response.headers.get("Location"),new URL(R.url),l)===E.location.pathname+E.location.search,await $t(R,pe,!0,{submission:L,replace:Ne}),{shortCircuited:!0}}if(Na(pe))throw hr(400,{type:"defer-action"});if(no(pe)){let Ne=Ku(W,He.route.id);return(Fe&&Fe.replace)!==!0&&(T=hn.Push),{matches:W,pendingActionResult:[Ne.route.id,pe]}}return{matches:W,pendingActionResult:[He.route.id,pe]}}async function $(R,M,L,W,_e,Fe,Je,pe,He,Ne,Ae){let Ot=_e||rb(M,Fe),Nt=Fe||Je||AM(Ot),Bt=!ee&&(!c.v7_partialHydration||!He);if(W){if(Bt){let on=oe(Ae);Pe(Xt({navigation:Ot},on!==void 0?{actionData:on}:{}),{flushSync:Ne})}let lt=await mv(L,M.pathname,R.signal);if(lt.type==="aborted")return{shortCircuited:!0};if(lt.type==="error"){let{boundaryId:on,error:Gr}=pv(M.pathname,lt);return{matches:lt.partialMatches,loaderData:{},errors:{[on]:Gr}}}else if(lt.matches)L=lt.matches;else{let{error:on,notFoundMatches:Gr,route:sn}=Cw(M.pathname);return{matches:Gr,loaderData:{},errors:{[sn.id]:on}}}}let bt=a||s,[Mn,gn]=kM(t.history,E,L,Nt,M,c.v7_partialHydration&&He===!0,c.v7_skipActionErrorRevalidation,X,ye,z,ae,he,Z,bt,l,Ae);if(Ow(lt=>!(L&&L.some(on=>on.route.id===lt))||Mn&&Mn.some(on=>on.route.id===lt)),xe=++J,Mn.length===0&&gn.length===0){let lt=nT();return vt(M,Xt({matches:L,loaderData:{},errors:Ae&&no(Ae[1])?{[Ae[0]]:Ae[1].error}:null},MM(Ae),lt?{fetchers:new Map(E.fetchers)}:{}),{flushSync:Ne}),{shortCircuited:!0}}if(Bt){let lt={};if(!W){lt.navigation=Ot;let on=oe(Ae);on!==void 0&&(lt.actionData=on)}gn.length>0&&(lt.fetchers=ie(gn)),Pe(lt,{flushSync:Ne})}gn.forEach(lt=>{I.has(lt.key)&&Uo(lt.key),lt.controller&&I.set(lt.key,lt.controller)});let Wf=()=>gn.forEach(lt=>Uo(lt.key));j&&j.signal.addEventListener("abort",Wf);let{loaderResults:as,fetcherResults:au}=await Pi(E,L,Mn,gn,R);if(R.signal.aborted)return{shortCircuited:!0};j&&j.signal.removeEventListener("abort",Wf),gn.forEach(lt=>I.delete(lt.key));let Zs=zv(as);if(Zs)return await $t(R,Zs.result,!0,{replace:pe}),{shortCircuited:!0};if(Zs=zv(au),Zs)return Z.add(Zs.key),await $t(R,Zs.result,!0,{replace:pe}),{shortCircuited:!0};let{loaderData:gv,errors:ls}=RM(E,L,Mn,as,Ae,gn,au,U);U.forEach((lt,on)=>{lt.subscribe(Gr=>{(Gr||lt.done)&&U.delete(on)})}),c.v7_partialHydration&&He&&E.errors&&Object.entries(E.errors).filter(lt=>{let[on]=lt;return!Mn.some(Gr=>Gr.route.id===on)}).forEach(lt=>{let[on,Gr]=lt;ls=Object.assign(ls||{},{[on]:Gr})});let vv=nT(),yv=rT(xe),xv=vv||yv||gn.length>0;return Xt({matches:L,loaderData:gv,errors:ls},xv?{fetchers:new Map(E.fetchers)}:{})}function oe(R){if(R&&!no(R[1]))return{[R[0]]:R[1].data};if(E.actionData)return Object.keys(E.actionData).length===0?null:E.actionData}function ie(R){return R.forEach(M=>{let L=E.fetchers.get(M.key),W=tp(void 0,L?L.data:void 0);E.fetchers.set(M.key,W)}),new Map(E.fetchers)}function G(R,M,L,W){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");I.has(R)&&Uo(R);let _e=(W&&W.unstable_flushSync)===!0,Fe=a||s,Je=tS(E.location,E.matches,l,c.v7_prependBasename,L,c.v7_relativeSplatPath,M,W==null?void 0:W.relative),pe=jl(Fe,Je,l),He=hv(pe,Fe,Je);if(He.active&&He.matches&&(pe=He.matches),!pe){qr(R,M,hr(404,{pathname:Je}),{flushSync:_e});return}let{path:Ne,submission:Ae,error:Ot}=EM(c.v7_normalizeFormMethod,!0,Je,W);if(Ot){qr(R,M,Ot,{flushSync:_e});return}let Nt=hp(pe,Ne);if(D=(W&&W.preventScrollReset)===!0,Ae&&Jo(Ae.formMethod)){Ie(R,M,Ne,Nt,pe,He.active,_e,Ae);return}he.set(R,{routeId:M,path:Ne}),Ct(R,M,Ne,Nt,pe,He.active,_e,Ae)}async function Ie(R,M,L,W,_e,Fe,Je,pe){Hf(),he.delete(R);function He(sn){if(!sn.route.action&&!sn.route.lazy){let cs=hr(405,{method:pe.formMethod,pathname:L,routeId:M});return qr(R,M,cs,{flushSync:Je}),!0}return!1}if(!Fe&&He(W))return;let Ne=E.fetchers.get(R);xo(R,oG(pe,Ne),{flushSync:Je});let Ae=new AbortController,Ot=cu(t.history,L,Ae.signal,pe);if(Fe){let sn=await mv(_e,L,Ot.signal);if(sn.type==="aborted")return;if(sn.type==="error"){let{error:cs}=pv(L,sn);qr(R,M,cs,{flushSync:Je});return}else if(sn.matches){if(_e=sn.matches,W=hp(_e,L),He(W))return}else{qr(R,M,hr(404,{pathname:L}),{flushSync:Je});return}}I.set(R,Ae);let Nt=J,bt=(await Wt("action",E,Ot,[W],_e,R))[W.route.id];if(Ot.signal.aborted){I.get(R)===Ae&&I.delete(R);return}if(c.v7_fetcherPersist&&ae.has(R)){if(Kl(bt)||no(bt)){xo(R,ra(void 0));return}}else{if(Kl(bt))if(I.delete(R),xe>Nt){xo(R,ra(void 0));return}else return Z.add(R),xo(R,tp(pe)),$t(Ot,bt,!1,{fetcherSubmission:pe});if(no(bt)){qr(R,M,bt.error);return}}if(Na(bt))throw hr(400,{type:"defer-action"});let Mn=E.navigation.location||E.location,gn=cu(t.history,Mn,Ae.signal),Wf=a||s,as=E.navigation.state!=="idle"?jl(Wf,E.navigation.location,l):E.matches;xt(as,"Didn't find any matches after fetcher action");let au=++J;Be.set(R,au);let Zs=tp(pe,bt.data);E.fetchers.set(R,Zs);let[gv,ls]=kM(t.history,E,as,pe,Mn,!1,c.v7_skipActionErrorRevalidation,X,ye,z,ae,he,Z,Wf,l,[W.route.id,bt]);ls.filter(sn=>sn.key!==R).forEach(sn=>{let cs=sn.key,cT=E.fetchers.get(cs),$9=tp(void 0,cT?cT.data:void 0);E.fetchers.set(cs,$9),I.has(cs)&&Uo(cs),sn.controller&&I.set(cs,sn.controller)}),Pe({fetchers:new Map(E.fetchers)});let vv=()=>ls.forEach(sn=>Uo(sn.key));Ae.signal.addEventListener("abort",vv);let{loaderResults:yv,fetcherResults:xv}=await Pi(E,as,gv,ls,gn);if(Ae.signal.aborted)return;Ae.signal.removeEventListener("abort",vv),Be.delete(R),I.delete(R),ls.forEach(sn=>I.delete(sn.key));let lt=zv(yv);if(lt)return $t(gn,lt.result,!1);if(lt=zv(xv),lt)return Z.add(lt.key),$t(gn,lt.result,!1);let{loaderData:on,errors:Gr}=RM(E,as,gv,yv,void 0,ls,xv,U);if(E.fetchers.has(R)){let sn=ra(bt.data);E.fetchers.set(R,sn)}rT(au),E.navigation.state==="loading"&&au>xe?(xt(T,"Expected pending action"),j&&j.abort(),vt(E.navigation.location,{matches:as,loaderData:on,errors:Gr,fetchers:new Map(E.fetchers)})):(Pe({errors:Gr,loaderData:TM(E.loaderData,on,as,Gr),fetchers:new Map(E.fetchers)}),X=!1)}async function Ct(R,M,L,W,_e,Fe,Je,pe){let He=E.fetchers.get(R);xo(R,tp(pe,He?He.data:void 0),{flushSync:Je});let Ne=new AbortController,Ae=cu(t.history,L,Ne.signal);if(Fe){let bt=await mv(_e,L,Ae.signal);if(bt.type==="aborted")return;if(bt.type==="error"){let{error:Mn}=pv(L,bt);qr(R,M,Mn,{flushSync:Je});return}else if(bt.matches)_e=bt.matches,W=hp(_e,L);else{qr(R,M,hr(404,{pathname:L}),{flushSync:Je});return}}I.set(R,Ne);let Ot=J,Bt=(await Wt("loader",E,Ae,[W],_e,R))[W.route.id];if(Na(Bt)&&(Bt=await wC(Bt,Ae.signal,!0)||Bt),I.get(R)===Ne&&I.delete(R),!Ae.signal.aborted){if(ae.has(R)){xo(R,ra(void 0));return}if(Kl(Bt))if(xe>Ot){xo(R,ra(void 0));return}else{Z.add(R),await $t(Ae,Bt,!1);return}if(no(Bt)){qr(R,M,Bt.error);return}xt(!Na(Bt),"Unhandled fetcher deferred data"),xo(R,ra(Bt.data))}}async function $t(R,M,L,W){let{submission:_e,fetcherSubmission:Fe,replace:Je}=W===void 0?{}:W;M.response.headers.has("X-Remix-Revalidate")&&(X=!0);let pe=M.response.headers.get("Location");xt(pe,"Expected a Location header on the redirect Response"),pe=OM(pe,new URL(R.url),l);let He=em(E.location,pe,{_isRedirect:!0});if(n){let bt=!1;if(M.response.headers.has("X-Remix-Reload-Document"))bt=!0;else if(_C.test(pe)){const Mn=t.history.createURL(pe);bt=Mn.origin!==e.location.origin||mg(Mn.pathname,l)==null}if(bt){Je?e.location.replace(pe):e.location.assign(pe);return}}j=null;let Ne=Je===!0||M.response.headers.has("X-Remix-Replace")?hn.Replace:hn.Push,{formMethod:Ae,formAction:Ot,formEncType:Nt}=E.navigation;!_e&&!Fe&&Ae&&Ot&&Nt&&(_e=AM(E.navigation));let Bt=_e||Fe;if(Iq.has(M.response.status)&&Bt&&Jo(Bt.formMethod))await C(Ne,He,{submission:Xt({},Bt,{formAction:pe}),preventScrollReset:D,enableViewTransition:L?A:void 0});else{let bt=rb(He,_e);await C(Ne,He,{overrideNavigation:bt,fetcherSubmission:Fe,preventScrollReset:D,enableViewTransition:L?A:void 0})}}async function Wt(R,M,L,W,_e,Fe){let Je,pe={};try{Je=await Wq(u,R,M,L,W,_e,Fe,i,o)}catch(He){return W.forEach(Ne=>{pe[Ne.route.id]={type:It.error,error:He}}),pe}for(let[He,Ne]of Object.entries(Je))if(Xq(Ne)){let Ae=Ne.result;pe[He]={type:It.redirect,response:Gq(Ae,L,He,_e,l,c.v7_relativeSplatPath)}}else pe[He]=await qq(Ne);return pe}async function Pi(R,M,L,W,_e){let Fe=R.matches,Je=Wt("loader",R,_e,L,M,null),pe=Promise.all(W.map(async Ae=>{if(Ae.matches&&Ae.match&&Ae.controller){let Nt=(await Wt("loader",R,cu(t.history,Ae.path,Ae.controller.signal),[Ae.match],Ae.matches,Ae.key))[Ae.match.route.id];return{[Ae.key]:Nt}}else return Promise.resolve({[Ae.key]:{type:It.error,error:hr(404,{pathname:Ae.path})}})})),He=await Je,Ne=(await pe).reduce((Ae,Ot)=>Object.assign(Ae,Ot),{});return await Promise.all([tG(M,He,_e.signal,Fe,R.loaderData),nG(M,Ne,W)]),{loaderResults:He,fetcherResults:Ne}}function Hf(){X=!0,ye.push(...Ow()),he.forEach((R,M)=>{I.has(M)&&(z.add(M),Uo(M))})}function xo(R,M,L){L===void 0&&(L={}),E.fetchers.set(R,M),Pe({fetchers:new Map(E.fetchers)},{flushSync:(L&&L.flushSync)===!0})}function qr(R,M,L,W){W===void 0&&(W={});let _e=Ku(E.matches,M);Tl(R),Pe({errors:{[_e.route.id]:L},fetchers:new Map(E.fetchers)},{flushSync:(W&&W.flushSync)===!0})}function dv(R){return c.v7_fetcherPersist&&(ke.set(R,(ke.get(R)||0)+1),ae.has(R)&&ae.delete(R)),E.fetchers.get(R)||Lq}function Tl(R){let M=E.fetchers.get(R);I.has(R)&&!(M&&M.state==="loading"&&Be.has(R))&&Uo(R),he.delete(R),Be.delete(R),Z.delete(R),ae.delete(R),z.delete(R),E.fetchers.delete(R)}function kw(R){if(c.v7_fetcherPersist){let M=(ke.get(R)||0)-1;M<=0?(ke.delete(R),ae.add(R)):ke.set(R,M)}else Tl(R);Pe({fetchers:new Map(E.fetchers)})}function Uo(R){let M=I.get(R);xt(M,"Expected fetch controller: "+R),M.abort(),I.delete(R)}function tT(R){for(let M of R){let L=dv(M),W=ra(L.data);E.fetchers.set(M,W)}}function nT(){let R=[],M=!1;for(let L of Z){let W=E.fetchers.get(L);xt(W,"Expected fetcher: "+L),W.state==="loading"&&(Z.delete(L),R.push(L),M=!0)}return tT(R),M}function rT(R){let M=[];for(let[L,W]of Be)if(W<R){let _e=E.fetchers.get(L);xt(_e,"Expected fetcher: "+L),_e.state==="loading"&&(Uo(L),Be.delete(L),M.push(L))}return tT(M),M.length>0}function N9(R,M){let L=E.blockers.get(R)||ep;return F.get(R)!==M&&F.set(R,M),L}function oT(R){E.blockers.delete(R),F.delete(R)}function fv(R,M){let L=E.blockers.get(R)||ep;xt(L.state==="unblocked"&&M.state==="blocked"||L.state==="blocked"&&M.state==="blocked"||L.state==="blocked"&&M.state==="proceeding"||L.state==="blocked"&&M.state==="unblocked"||L.state==="proceeding"&&M.state==="unblocked","Invalid blocker state transition: "+L.state+" -> "+M.state);let W=new Map(E.blockers);W.set(R,M),Pe({blockers:W})}function iT(R){let{currentLocation:M,nextLocation:L,historyAction:W}=R;if(F.size===0)return;F.size>1&&Bd(!1,"A router only supports one blocker at a time");let _e=Array.from(F.entries()),[Fe,Je]=_e[_e.length-1],pe=E.blockers.get(Fe);if(!(pe&&pe.state==="proceeding")&&Je({currentLocation:M,nextLocation:L,historyAction:W}))return Fe}function Cw(R){let M=hr(404,{pathname:R}),L=a||s,{matches:W,route:_e}=NM(L);return Ow(),{notFoundMatches:W,route:_e,error:M}}function pv(R,M){return{boundaryId:Ku(M.partialMatches).route.id,error:hr(400,{type:"route-discovery",pathname:R,message:M.error!=null&&"message"in M.error?M.error:String(M.error)})}}function Ow(R){let M=[];return U.forEach((L,W)=>{(!R||R(W))&&(L.cancel(),M.push(W),U.delete(W))}),M}function D9(R,M,L){if(x=R,h=M,v=L||null,!_&&E.navigation===nb){_=!0;let W=aT(E.location,E.matches);W!=null&&Pe({restoreScrollPosition:W})}return()=>{x=null,h=null,v=null}}function sT(R,M){return v&&v(R,M.map(W=>dq(W,E.loaderData)))||R.key}function A9(R,M){if(x&&h){let L=sT(R,M);x[L]=h()}}function aT(R,M){if(x){let L=sT(R,M),W=x[L];if(typeof W=="number")return W}return null}function hv(R,M,L){if(d){if(g.has(L))return{active:!1,matches:R};if(R){if(Object.keys(R[0].params).length>0)return{active:!0,matches:Ey(M,L,l,!0)}}else return{active:!0,matches:Ey(M,L,l,!0)||[]}}return{active:!1,matches:null}}async function mv(R,M,L){let W=R;for(;;){let _e=a==null,Fe=a||s;try{await Vq(d,M,W,Fe,i,o,q,L)}catch(He){return{type:"error",error:He,partialMatches:W}}finally{_e&&(s=[...s])}if(L.aborted)return{type:"aborted"};let Je=jl(Fe,M,l);if(Je)return lT(M,g),{type:"success",matches:Je};let pe=Ey(Fe,M,l,!0);if(!pe||W.length===pe.length&&W.every((He,Ne)=>He.route.id===pe[Ne].route.id))return lT(M,g),{type:"success",matches:null};W=pe}}function lT(R,M){if(M.size>=m){let L=M.values().next().value;M.delete(L)}M.add(R)}function I9(R){i={},a=tm(R,o,void 0,i)}function L9(R,M){let L=a==null;Ez(R,M,a||s,i,o),L&&(s=[...s],Pe({}))}return k={get basename(){return l},get future(){return c},get state(){return E},get routes(){return s},get window(){return e},initialize:de,subscribe:Oe,enableScrollRestoration:D9,navigate:ot,fetch:G,revalidate:Ht,createHref:R=>t.history.createHref(R),encodeLocation:R=>t.history.encodeLocation(R),getFetcher:dv,deleteFetcher:kw,dispose:fe,getBlocker:N9,deleteBlocker:oT,patchRoutes:L9,_internalFetchControllers:I,_internalActiveDeferreds:U,_internalSetRoutes:I9},k}function Fq(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function tS(t,e,n,r,o,i,s,a){let l,u;if(s){l=[];for(let c of e)if(l.push(c),c.route.id===s){u=c;break}}else l=e,u=e[e.length-1];let d=Oq(o||".",Cq(l,i),mg(t.pathname,n)||t.pathname,a==="path");return o==null&&(d.search=t.search,d.hash=t.hash),(o==null||o===""||o===".")&&u&&u.route.index&&!bC(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:fc([n,d.pathname])),hg(d)}function EM(t,e,n,r){if(!r||!Fq(r))return{path:n};if(r.formMethod&&!eG(r.formMethod))return{path:n,error:hr(405,{method:r.formMethod})};let o=()=>({path:n,error:hr(400,{type:"invalid-body"})}),i=r.formMethod||"get",s=t?i.toUpperCase():i.toLowerCase(),a=kz(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Jo(s))return o();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,m)=>{let[g,x]=m;return""+p+g+"="+x+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!Jo(s))return o();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return o()}}}xt(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=nS(r.formData),u=r.formData;else if(r.body instanceof FormData)l=nS(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=PM(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=PM(l)}catch{return o()}let d={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Jo(d.formMethod))return{path:n,submission:d};let c=Ks(n);return e&&c.search&&bC(c.search)&&l.append("index",""),c.search="?"+l,{path:hg(c),submission:d}}function Bq(t,e){let n=t;if(e){let r=t.findIndex(o=>o.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function kM(t,e,n,r,o,i,s,a,l,u,d,c,f,p,m,g){let x=g?no(g[1])?g[1].error:g[1].data:void 0,v=t.createURL(e.location),h=t.createURL(o),_=g&&no(g[1])?g[0]:void 0,y=_?Bq(n,_):n,S=g?g[1].statusCode:void 0,O=s&&S&&S>=400,k=y.filter((T,D)=>{let{route:j}=T;if(j.lazy)return!0;if(j.loader==null)return!1;if(i)return typeof j.loader!="function"||j.loader.hydrate?!0:e.loaderData[j.id]===void 0&&(!e.errors||e.errors[j.id]===void 0);if(jq(e.loaderData,e.matches[D],T)||l.some(H=>H===T.route.id))return!0;let A=e.matches[D],K=T;return CM(T,Xt({currentUrl:v,currentParams:A.params,nextUrl:h,nextParams:K.params},r,{actionResult:x,actionStatus:S,defaultShouldRevalidate:O?!1:a||v.pathname+v.search===h.pathname+h.search||v.search!==h.search||Sz(A,K)}))}),E=[];return c.forEach((T,D)=>{if(i||!n.some(ee=>ee.route.id===T.routeId)||d.has(D))return;let j=jl(p,T.path,m);if(!j){E.push({key:D,routeId:T.routeId,path:T.path,matches:null,match:null,controller:null});return}let A=e.fetchers.get(D),K=hp(j,T.path),H=!1;f.has(D)?H=!1:u.has(D)?(u.delete(D),H=!0):A&&A.state!=="idle"&&A.data===void 0?H=a:H=CM(K,Xt({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:h,nextParams:n[n.length-1].params},r,{actionResult:x,actionStatus:S,defaultShouldRevalidate:O?!1:a})),H&&E.push({key:D,routeId:T.routeId,path:T.path,matches:j,match:K,controller:new AbortController})}),[k,E]}function jq(t,e,n){let r=!e||n.route.id!==e.route.id,o=t[n.route.id]===void 0;return r||o}function Sz(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function CM(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function Vq(t,e,n,r,o,i,s,a){let l=[e,...n.map(u=>u.route.id)].join("-");try{let u=s.get(l);u||(u=t({path:e,matches:n,patch:(d,c)=>{a.aborted||Ez(d,c,r,o,i)}}),s.set(l,u)),u&&Yq(u)&&await u}finally{s.delete(l)}}function Ez(t,e,n,r,o){if(t){var i;let s=r[t];xt(s,"No route found to patch children into: routeId = "+t);let a=tm(e,o,[t,"patch",String(((i=s.children)==null?void 0:i.length)||"0")],r);s.children?s.children.push(...a):s.children=a}else{let s=tm(e,o,["patch",String(n.length||"0")],r);n.push(...s)}}async function Uq(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let o=n[t.id];xt(o,"No route found in manifest");let i={};for(let s in r){let l=o[s]!==void 0&&s!=="hasErrorBoundary";Bd(!l,'Route "'+o.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!cq.has(s)&&(i[s]=r[s])}Object.assign(o,i),Object.assign(o,Xt({},e(o),{lazy:void 0}))}async function Hq(t){let{matches:e}=t,n=e.filter(o=>o.shouldLoad);return(await Promise.all(n.map(o=>o.resolve()))).reduce((o,i,s)=>Object.assign(o,{[n[s].route.id]:i}),{})}async function Wq(t,e,n,r,o,i,s,a,l,u){let d=i.map(p=>p.route.lazy?Uq(p.route,l,a):void 0),c=i.map((p,m)=>{let g=d[m],x=o.some(h=>h.route.id===p.route.id);return Xt({},p,{shouldLoad:x,resolve:async h=>(h&&r.method==="GET"&&(p.route.lazy||p.route.loader)&&(x=!0),x?Kq(e,r,p,g,h,u):Promise.resolve({type:It.data,result:void 0}))})}),f=await t({matches:c,request:r,params:i[0].params,fetcherKey:s,context:u});try{await Promise.all(d)}catch{}return f}async function Kq(t,e,n,r,o,i){let s,a,l=u=>{let d,c=new Promise((m,g)=>d=g);a=()=>d(),e.signal.addEventListener("abort",a);let f=m=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):u({request:e,params:n.params,context:i},...m!==void 0?[m]:[]),p=(async()=>{try{return{type:"data",result:await(o?o(g=>f(g)):f())}}catch(m){return{type:"error",result:m}}})();return Promise.race([p,c])};try{let u=n.route[t];if(r)if(u){let d,[c]=await Promise.all([l(u).catch(f=>{d=f}),r]);if(d!==void 0)throw d;s=c}else if(await r,u=n.route[t],u)s=await l(u);else if(t==="action"){let d=new URL(e.url),c=d.pathname+d.search;throw hr(405,{method:e.method,pathname:c,routeId:n.route.id})}else return{type:It.data,result:void 0};else if(u)s=await l(u);else{let d=new URL(e.url),c=d.pathname+d.search;throw hr(404,{pathname:c})}xt(s.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:It.error,result:u}}finally{a&&e.signal.removeEventListener("abort",a)}return s}async function qq(t){let{result:e,type:n}=t;if(Cz(e)){let u;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(d){return{type:It.error,error:d}}return n===It.error?{type:It.error,error:new x0(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:It.data,data:u,statusCode:e.status,headers:e.headers}}if(n===It.error){if(DM(e)){var r;if(e.data instanceof Error){var o;return{type:It.error,error:e.data,statusCode:(o=e.init)==null?void 0:o.status}}e=new x0(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:It.error,error:e,statusCode:d_(e)?e.status:void 0}}if(Jq(e)){var i,s;return{type:It.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}if(DM(e)){var a,l;return{type:It.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:It.data,data:e}}function Gq(t,e,n,r,o,i){let s=t.headers.get("Location");if(xt(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!_C.test(s)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);s=tS(new URL(e.url),a,o,!0,s,i),t.headers.set("Location",s)}return t}function OM(t,e,n){if(_C.test(t)){let r=t,o=r.startsWith("//")?new URL(e.protocol+r):new URL(r),i=mg(o.pathname,n)!=null;if(o.origin===e.origin&&i)return o.pathname+o.search+o.hash}return t}function cu(t,e,n,r){let o=t.createURL(kz(e)).toString(),i={signal:n};if(r&&Jo(r.formMethod)){let{formMethod:s,formEncType:a}=r;i.method=s.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(r.json)):a==="text/plain"?i.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?i.body=nS(r.formData):i.body=r.formData}return new Request(o,i)}function nS(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function PM(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function Zq(t,e,n,r,o){let i={},s=null,a,l=!1,u={},d=n&&no(n[1])?n[1].error:void 0;return t.forEach(c=>{if(!(c.route.id in e))return;let f=c.route.id,p=e[f];if(xt(!Kl(p),"Cannot handle redirect results in processLoaderData"),no(p)){let m=p.error;if(d!==void 0&&(m=d,d=void 0),s=s||{},o)s[f]=m;else{let g=Ku(t,f);s[g.route.id]==null&&(s[g.route.id]=m)}i[f]=void 0,l||(l=!0,a=d_(p.error)?p.error.status:500),p.headers&&(u[f]=p.headers)}else Na(p)?(r.set(f,p.deferredData),i[f]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(u[f]=p.headers)):(i[f]=p.data,p.statusCode&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(u[f]=p.headers))}),d!==void 0&&n&&(s={[n[0]]:d},i[n[0]]=void 0),{loaderData:i,errors:s,statusCode:a||200,loaderHeaders:u}}function RM(t,e,n,r,o,i,s,a){let{loaderData:l,errors:u}=Zq(e,r,o,a,!1);return i.forEach(d=>{let{key:c,match:f,controller:p}=d,m=s[c];if(xt(m,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(no(m)){let g=Ku(t.matches,f==null?void 0:f.route.id);u&&u[g.route.id]||(u=Xt({},u,{[g.route.id]:m.error})),t.fetchers.delete(c)}else if(Kl(m))xt(!1,"Unhandled fetcher revalidation redirect");else if(Na(m))xt(!1,"Unhandled fetcher deferred data");else{let g=ra(m.data);t.fetchers.set(c,g)}}),{loaderData:l,errors:u}}function TM(t,e,n,r){let o=Xt({},e);for(let i of n){let s=i.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(o[s]=e[s]):t[s]!==void 0&&i.route.loader&&(o[s]=t[s]),r&&r.hasOwnProperty(s))break}return o}function MM(t){return t?no(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Ku(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function NM(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function hr(t,e){let{pathname:n,routeId:r,method:o,type:i,message:s}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+s):o&&n&&r?l="You made a "+o+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",o&&n&&r?l="You made a "+o.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":o&&(l='Invalid request method "'+o.toUpperCase()+'"')),new x0(t||500,a,new Error(l),!0)}function zv(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,o]=e[n];if(Kl(o))return{key:r,result:o}}}function kz(t){let e=typeof t=="string"?Ks(t):t;return hg(Xt({},e,{hash:""}))}function Qq(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Yq(t){return typeof t=="object"&&t!=null&&"then"in t}function Xq(t){return Cz(t.result)&&Aq.has(t.result.status)}function Na(t){return t.type===It.deferred}function no(t){return t.type===It.error}function Kl(t){return(t&&t.type)===It.redirect}function DM(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Jq(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Cz(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function eG(t){return Dq.has(t.toLowerCase())}function Jo(t){return Mq.has(t.toLowerCase())}async function tG(t,e,n,r,o){let i=Object.entries(e);for(let s=0;s<i.length;s++){let[a,l]=i[s],u=t.find(f=>(f==null?void 0:f.route.id)===a);if(!u)continue;let d=r.find(f=>f.route.id===u.route.id),c=d!=null&&!Sz(d,u)&&(o&&o[u.route.id])!==void 0;Na(l)&&c&&await wC(l,n,!1).then(f=>{f&&(e[a]=f)})}}async function nG(t,e,n){for(let r=0;r<n.length;r++){let{key:o,routeId:i,controller:s}=n[r],a=e[o];!t.find(u=>(u==null?void 0:u.route.id)===i)||Na(a)&&(xt(s,"Expected an AbortController for revalidating fetcher deferred result"),await wC(a,s.signal,!0).then(u=>{u&&(e[o]=u)}))}}async function wC(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:It.data,data:t.deferredData.unwrappedData}}catch(o){return{type:It.error,error:o}}return{type:It.data,data:t.deferredData.data}}}function bC(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function hp(t,e){let n=typeof e=="string"?Ks(e).search:e.search;if(t[t.length-1].route.index&&bC(n||""))return t[t.length-1];let r=_z(t);return r[r.length-1]}function AM(t){let{formMethod:e,formAction:n,formEncType:r,text:o,formData:i,json:s}=t;if(!(!e||!n||!r)){if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:o};if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function rb(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function rG(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function tp(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function oG(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ra(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function iG(t,e){try{let n=t.sessionStorage.getItem(bz);if(n){let r=JSON.parse(n);for(let[o,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(o,new Set(i||[]))}}catch{}}function sG(t,e){if(e.size>0){let n={};for(let[r,o]of e)n[r]=[...o];try{t.sessionStorage.setItem(bz,JSON.stringify(n))}catch(r){Bd(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}var f_={exports:{}},p_={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aG=b.exports,lG=Symbol.for("react.element"),cG=Symbol.for("react.fragment"),uG=Object.prototype.hasOwnProperty,dG=aG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fG={key:!0,ref:!0,__self:!0,__source:!0};function Oz(t,e,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)uG.call(e,r)&&!fG.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:lG,type:t,key:i,ref:s,props:o,_owner:dG.current}}p_.Fragment=cG;p_.jsx=Oz;p_.jsxs=Oz;(function(t){t.exports=p_})(f_);const ho=f_.exports.Fragment,w=f_.exports.jsx,B=f_.exports.jsxs;/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _0(){return _0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_0.apply(this,arguments)}const Pz=b.exports.createContext(null),Rz=b.exports.createContext(null),Tz=b.exports.createContext(null),h_=b.exports.createContext(null),m_=b.exports.createContext({outlet:null,matches:[],isDataRoute:!1}),Mz=b.exports.createContext(null);function SC(){return b.exports.useContext(h_)!=null}function pG(){return SC()||xt(!1),b.exports.useContext(h_).location}function hG(t,e,n,r){SC()||xt(!1);let{navigator:o}=b.exports.useContext(Tz),{matches:i}=b.exports.useContext(m_),s=i[i.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=pG(),d;if(e){var c;let x=typeof e=="string"?Ks(e):e;l==="/"||((c=x.pathname)==null?void 0:c.startsWith(l))||xt(!1),d=x}else d=u;let f=d.pathname||"/",p=f;if(l!=="/"){let x=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let m=jl(t,{pathname:p}),g=xG(m&&m.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:fc([l,o.encodeLocation?o.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:fc([l,o.encodeLocation?o.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&g?w(h_.Provider,{value:{location:_0({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:hn.Pop},children:g}):g}function mG(){let t=SG(),e=d_(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null;return B(ho,{children:[w("h2",{children:"Unexpected Application Error!"}),w("h3",{style:{fontStyle:"italic"},children:e}),n?w("pre",{style:{padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},children:n}):null,null]})}const gG=w(mG,{});class vG extends b.exports.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w(m_.Provider,{value:this.props.routeContext,children:w(Mz.Provider,{value:this.state.error,children:this.props.component})}):this.props.children}}function yG(t){let{routeContext:e,match:n,children:r}=t,o=b.exports.useContext(Pz);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),w(m_.Provider,{value:e,children:r})}function xG(t,e,n,r){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(o=n)==null?void 0:o.errors;if(a!=null){let d=s.findIndex(c=>c.route.id&&(a==null?void 0:a[c.route.id])!==void 0);d>=0||xt(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<s.length;d++){let c=s[d];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(u=d),c.route.id){let{loaderData:f,errors:p}=n,m=c.route.loader&&f[c.route.id]===void 0&&(!p||p[c.route.id]===void 0);if(c.route.lazy||m){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,c,f)=>{let p,m=!1,g=null,x=null;n&&(p=a&&c.route.id?a[c.route.id]:void 0,g=c.route.errorElement||gG,l&&(u<0&&f===0?(EG("route-fallback",!1),m=!0,x=null):u===f&&(m=!0,x=c.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,f+1)),h=()=>{let _;return p?_=g:m?_=x:c.route.Component?_=b.exports.createElement(c.route.Component,null):c.route.element?_=c.route.element:_=d,w(yG,{match:c,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:_})};return n&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?w(vG,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:h(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):h()},null)}var rS=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(rS||{});function _G(t){let e=b.exports.useContext(Rz);return e||xt(!1),e}function wG(t){let e=b.exports.useContext(m_);return e||xt(!1),e}function bG(t){let e=wG(),n=e.matches[e.matches.length-1];return n.route.id||xt(!1),n.route.id}function SG(){var t;let e=b.exports.useContext(Mz),n=_G(rS.UseRouteError),r=bG(rS.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}const IM={};function EG(t,e,n){!e&&!IM[t]&&(IM[t]=!0)}const kG="startTransition";vf[kG];function CG(t){let{basename:e="/",children:n=null,location:r,navigationType:o=hn.Pop,navigator:i,static:s=!1,future:a}=t;SC()&&xt(!1);let l=e.replace(/^\/*/,"/"),u=b.exports.useMemo(()=>({basename:l,navigator:i,static:s,future:_0({v7_relativeSplatPath:!1},a)}),[l,a,i,s]);typeof r=="string"&&(r=Ks(r));let{pathname:d="/",search:c="",hash:f="",state:p=null,key:m="default"}=r,g=b.exports.useMemo(()=>{let x=mg(d,l);return x==null?null:{location:{pathname:x,search:c,hash:f,state:p,key:m},navigationType:o}},[l,d,c,f,p,m,o]);return g==null?null:w(Tz.Provider,{value:u,children:w(h_.Provider,{children:n,value:g})})}new Promise(()=>{});function OG(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:b.exports.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:b.exports.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:b.exports.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function w0(){return w0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w0.apply(this,arguments)}const PG="6";try{window.__reactRouterVersion=PG}catch{}function RG(t,e){return zq({basename:e==null?void 0:e.basename,future:w0({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:sq({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||TG(),routes:t,mapRouteProperties:OG,unstable_dataStrategy:e==null?void 0:e.unstable_dataStrategy,unstable_patchRoutesOnNavigation:e==null?void 0:e.unstable_patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function TG(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=w0({},e,{errors:MG(e.errors)})),e}function MG(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,o]of e)if(o&&o.__type==="RouteErrorResponse")n[r]=new x0(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let i=window[o.__subType];if(typeof i=="function")try{let s=new i(o.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let i=new Error(o.message);i.stack="",n[r]=i}}else n[r]=o;return n}const NG=b.exports.createContext({isTransitioning:!1}),DG=b.exports.createContext(new Map),AG="startTransition",LM=vf[AG],IG="flushSync",$M=iq[IG],LG="useId";vf[LG];function $G(t){LM?LM(t):t()}function np(t){$M?$M(t):t()}class zG{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function FG(t){let{fallbackElement:e,router:n,future:r}=t,[o,i]=b.exports.useState(n.state),[s,a]=b.exports.useState(),[l,u]=b.exports.useState({isTransitioning:!1}),[d,c]=b.exports.useState(),[f,p]=b.exports.useState(),[m,g]=b.exports.useState(),x=b.exports.useRef(new Map),{v7_startTransition:v}=r||{},h=b.exports.useCallback(E=>{v?$G(E):E()},[v]),_=b.exports.useCallback((E,T)=>{let{deletedFetchers:D,unstable_flushSync:j,unstable_viewTransitionOpts:A}=T;D.forEach(H=>x.current.delete(H)),E.fetchers.forEach((H,ee)=>{H.data!==void 0&&x.current.set(ee,H.data)});let K=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!A||K){j?np(()=>i(E)):h(()=>i(E));return}if(j){np(()=>{f&&(d&&d.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:A.currentLocation,nextLocation:A.nextLocation})});let H=n.window.document.startViewTransition(()=>{np(()=>i(E))});H.finished.finally(()=>{np(()=>{c(void 0),p(void 0),a(void 0),u({isTransitioning:!1})})}),np(()=>p(H));return}f?(d&&d.resolve(),f.skipTransition(),g({state:E,currentLocation:A.currentLocation,nextLocation:A.nextLocation})):(a(E),u({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}))},[n.window,f,d,x,h]);b.exports.useLayoutEffect(()=>n.subscribe(_),[n,_]),b.exports.useEffect(()=>{l.isTransitioning&&!l.flushSync&&c(new zG)},[l]),b.exports.useEffect(()=>{if(d&&s&&n.window){let E=s,T=d.promise,D=n.window.document.startViewTransition(async()=>{h(()=>i(E)),await T});D.finished.finally(()=>{c(void 0),p(void 0),a(void 0),u({isTransitioning:!1})}),p(D)}},[h,s,d,n.window]),b.exports.useEffect(()=>{d&&s&&o.location.key===s.location.key&&d.resolve()},[d,f,o.location,s]),b.exports.useEffect(()=>{!l.isTransitioning&&m&&(a(m.state),u({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),g(void 0))},[l.isTransitioning,m]),b.exports.useEffect(()=>{},[]);let y=b.exports.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:E=>n.navigate(E),push:(E,T,D)=>n.navigate(E,{state:T,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(E,T,D)=>n.navigate(E,{replace:!0,state:T,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[n]),S=n.basename||"/",O=b.exports.useMemo(()=>({router:n,navigator:y,static:!1,basename:S}),[n,y,S]),k=b.exports.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return w(ho,{children:w(Pz.Provider,{value:O,children:w(Rz.Provider,{value:o,children:w(DG.Provider,{value:x.current,children:w(NG.Provider,{value:l,children:w(CG,{basename:S,location:o.location,navigationType:o.historyAction,navigator:y,future:k,children:o.initialized||n.future.v7_partialHydration?w(BG,{routes:n.routes,future:n.future,state:o}):e})})})})})})}const BG=b.exports.memo(jG);function jG(t){let{routes:e,future:n,state:r}=t;return hG(e,void 0,r,n)}var zM;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(zM||(zM={}));var FM;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(FM||(FM={}));function BM(t,[e,n]){return Math.min(n,Math.max(e,t))}function Re(t,e,{checkForDefaultPrevented:n=!0}={}){return function(o){if(t==null||t(o),n===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function VG(t,e){const n=b.exports.createContext(e);function r(i){const{children:s,...a}=i,l=b.exports.useMemo(()=>a,Object.values(a));return w(n.Provider,{value:l,children:s})}function o(i){const s=b.exports.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return r.displayName=t+"Provider",[r,o]}function es(t,e=[]){let n=[];function r(i,s){const a=b.exports.createContext(s),l=n.length;n=[...n,s];function u(c){const{scope:f,children:p,...m}=c,g=(f==null?void 0:f[t][l])||a,x=b.exports.useMemo(()=>m,Object.values(m));return w(g.Provider,{value:x,children:p})}function d(c,f){const p=(f==null?void 0:f[t][l])||a,m=b.exports.useContext(p);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${c}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const o=()=>{const i=n.map(s=>b.exports.createContext(s));return function(a){const l=(a==null?void 0:a[t])||i;return b.exports.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return o.scopeName=t,[r,UG(o,...e)]}function UG(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const s=r.reduce((a,{useScope:l,scopeName:u})=>{const c=l(i)[`__scope${u}`];return{...a,...c}},{});return b.exports.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function HG(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function g_(...t){return e=>t.forEach(n=>HG(n,e))}function Mt(...t){return b.exports.useCallback(g_(...t),t)}var qi=b.exports.forwardRef((t,e)=>{const{children:n,...r}=t,o=b.exports.Children.toArray(n),i=o.find(KG);if(i){const s=i.props.children,a=o.map(l=>l===i?b.exports.Children.count(s)>1?b.exports.Children.only(null):b.exports.isValidElement(s)?s.props.children:null:l);return w(oS,{...r,ref:e,children:b.exports.isValidElement(s)?b.exports.cloneElement(s,void 0,a):null})}return w(oS,{...r,ref:e,children:n})});qi.displayName="Slot";var oS=b.exports.forwardRef((t,e)=>{const{children:n,...r}=t;if(b.exports.isValidElement(n)){const o=GG(n);return b.exports.cloneElement(n,{...qG(r,n.props),ref:e?g_(e,o):o})}return b.exports.Children.count(n)>1?b.exports.Children.only(null):null});oS.displayName="SlotClone";var WG=({children:t})=>w(ho,{children:t});function KG(t){return b.exports.isValidElement(t)&&t.type===WG}function qG(t,e){const n={...e};for(const r in e){const o=t[r],i=e[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...a)=>{i(...a),o(...a)}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...t,...n}}function GG(t){var r,o;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function EC(t){const e=t+"CollectionProvider",[n,r]=es(e),[o,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=p=>{const{scope:m,children:g}=p,x=$e.useRef(null),v=$e.useRef(new Map).current;return w(o,{scope:m,itemMap:v,collectionRef:x,children:g})};s.displayName=e;const a=t+"CollectionSlot",l=$e.forwardRef((p,m)=>{const{scope:g,children:x}=p,v=i(a,g),h=Mt(m,v.collectionRef);return w(qi,{ref:h,children:x})});l.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",c=$e.forwardRef((p,m)=>{const{scope:g,children:x,...v}=p,h=$e.useRef(null),_=Mt(m,h),y=i(u,g);return $e.useEffect(()=>(y.itemMap.set(h,{ref:h,...v}),()=>void y.itemMap.delete(h))),w(qi,{[d]:"",ref:_,children:x})});c.displayName=u;function f(p){const m=i(t+"CollectionConsumer",p);return $e.useCallback(()=>{const x=m.collectionRef.current;if(!x)return[];const v=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(m.itemMap.values()).sort((y,S)=>v.indexOf(y.ref.current)-v.indexOf(S.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:s,Slot:l,ItemSlot:c},f,r]}var ZG=b.exports.createContext(void 0);function v_(t){const e=b.exports.useContext(ZG);return t||e||"ltr"}var QG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],rt=QG.reduce((t,e)=>{const n=b.exports.forwardRef((r,o)=>{const{asChild:i,...s}=r,a=i?qi:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w(a,{...s,ref:o})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Nz(t,e){t&&zo.exports.flushSync(()=>t.dispatchEvent(e))}function Ao(t){const e=b.exports.useRef(t);return b.exports.useEffect(()=>{e.current=t}),b.exports.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function YG(t,e=globalThis==null?void 0:globalThis.document){const n=Ao(t);b.exports.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var XG="DismissableLayer",iS="dismissableLayer.update",JG="dismissableLayer.pointerDownOutside",eZ="dismissableLayer.focusOutside",jM,Dz=b.exports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gg=b.exports.forwardRef((t,e)=>{var k;const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:s,onDismiss:a,...l}=t,u=b.exports.useContext(Dz),[d,c]=b.exports.useState(null),f=(k=d==null?void 0:d.ownerDocument)!=null?k:globalThis==null?void 0:globalThis.document,[,p]=b.exports.useState({}),m=Mt(e,E=>c(E)),g=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(x),h=d?g.indexOf(d):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,y=h>=v,S=rZ(E=>{const T=E.target,D=[...u.branches].some(j=>j.contains(T));!y||D||(o==null||o(E),s==null||s(E),E.defaultPrevented||a==null||a())},f),O=oZ(E=>{const T=E.target;[...u.branches].some(j=>j.contains(T))||(i==null||i(E),s==null||s(E),E.defaultPrevented||a==null||a())},f);return YG(E=>{h===u.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&a&&(E.preventDefault(),a()))},f),b.exports.useEffect(()=>{if(!!d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(jM=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),VM(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=jM)}},[d,f,n,u]),b.exports.useEffect(()=>()=>{!d||(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),VM())},[d,u]),b.exports.useEffect(()=>{const E=()=>p({});return document.addEventListener(iS,E),()=>document.removeEventListener(iS,E)},[]),w(rt.div,{...l,ref:m,style:{pointerEvents:_?y?"auto":"none":void 0,...t.style},onFocusCapture:Re(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Re(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Re(t.onPointerDownCapture,S.onPointerDownCapture)})});gg.displayName=XG;var tZ="DismissableLayerBranch",nZ=b.exports.forwardRef((t,e)=>{const n=b.exports.useContext(Dz),r=b.exports.useRef(null),o=Mt(e,r);return b.exports.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),w(rt.div,{...t,ref:o})});nZ.displayName=tZ;function rZ(t,e=globalThis==null?void 0:globalThis.document){const n=Ao(t),r=b.exports.useRef(!1),o=b.exports.useRef(()=>{});return b.exports.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){Az(JG,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=l,e.addEventListener("click",o.current,{once:!0})):l()}else e.removeEventListener("click",o.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",i),e.removeEventListener("click",o.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function oZ(t,e=globalThis==null?void 0:globalThis.document){const n=Ao(t),r=b.exports.useRef(!1);return b.exports.useEffect(()=>{const o=i=>{i.target&&!r.current&&Az(eZ,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function VM(){const t=new CustomEvent(iS);document.dispatchEvent(t)}function Az(t,e,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),r?Nz(o,i):o.dispatchEvent(i)}var ob=0;function y_(){b.exports.useEffect(()=>{var e,n;const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=t[0])!=null?e:UM()),document.body.insertAdjacentElement("beforeend",(n=t[1])!=null?n:UM()),ob++,()=>{ob===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),ob--}},[])}function UM(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}var ib="focusScope.autoFocusOnMount",sb="focusScope.autoFocusOnUnmount",HM={bubbles:!1,cancelable:!0},iZ="FocusScope",vg=b.exports.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...s}=t,[a,l]=b.exports.useState(null),u=Ao(o),d=Ao(i),c=b.exports.useRef(null),f=Mt(e,g=>l(g)),p=b.exports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.exports.useEffect(()=>{if(r){let g=function(_){if(p.paused||!a)return;const y=_.target;a.contains(y)?c.current=y:oa(c.current,{select:!0})},x=function(_){if(p.paused||!a)return;const y=_.relatedTarget;y!==null&&(a.contains(y)||oa(c.current,{select:!0}))},v=function(_){if(document.activeElement===document.body)for(const S of _)S.removedNodes.length>0&&oa(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const h=new MutationObserver(v);return a&&h.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),h.disconnect()}}},[r,a,p.paused]),b.exports.useEffect(()=>{if(a){KM.add(p);const g=document.activeElement;if(!a.contains(g)){const v=new CustomEvent(ib,HM);a.addEventListener(ib,u),a.dispatchEvent(v),v.defaultPrevented||(sZ(dZ(Iz(a)),{select:!0}),document.activeElement===g&&oa(a))}return()=>{a.removeEventListener(ib,u),setTimeout(()=>{const v=new CustomEvent(sb,HM);a.addEventListener(sb,d),a.dispatchEvent(v),v.defaultPrevented||oa(g!=null?g:document.body,{select:!0}),a.removeEventListener(sb,d),KM.remove(p)},0)}}},[a,u,d,p]);const m=b.exports.useCallback(g=>{if(!n&&!r||p.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(x&&v){const h=g.currentTarget,[_,y]=aZ(h);_&&y?!g.shiftKey&&v===y?(g.preventDefault(),n&&oa(_,{select:!0})):g.shiftKey&&v===_&&(g.preventDefault(),n&&oa(y,{select:!0})):v===h&&g.preventDefault()}},[n,r,p.paused]);return w(rt.div,{tabIndex:-1,...s,ref:f,onKeyDown:m})});vg.displayName=iZ;function sZ(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(oa(r,{select:e}),document.activeElement!==n)return}function aZ(t){const e=Iz(t),n=WM(e,t),r=WM(e.reverse(),t);return[n,r]}function Iz(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function WM(t,e){for(const n of t)if(!lZ(n,{upTo:e}))return n}function lZ(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function cZ(t){return t instanceof HTMLInputElement&&"select"in t}function oa(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&cZ(t)&&e&&t.select()}}var KM=uZ();function uZ(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=qM(t,e),t.unshift(e)},remove(e){var n;t=qM(t,e),(n=t[0])==null||n.resume()}}}function qM(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function dZ(t){return t.filter(e=>e.tagName!=="A")}var xr=Boolean(globalThis==null?void 0:globalThis.document)?b.exports.useLayoutEffect:()=>{},fZ=vf["useId".toString()]||(()=>{}),pZ=0;function fi(t){const[e,n]=b.exports.useState(fZ());return xr(()=>{t||n(r=>r!=null?r:String(pZ++))},[t]),t||(e?`radix-${e}`:"")}const hZ=["top","right","bottom","left"];const Xa=Math.min,ro=Math.max,b0=Math.round,Fv=Math.floor,Ja=t=>({x:t,y:t}),mZ={left:"right",right:"left",bottom:"top",top:"bottom"},gZ={start:"end",end:"start"};function sS(t,e,n){return ro(t,Xa(e,n))}function Bs(t,e){return typeof t=="function"?t(e):t}function js(t){return t.split("-")[0]}function _f(t){return t.split("-")[1]}function kC(t){return t==="x"?"y":"x"}function CC(t){return t==="y"?"height":"width"}function el(t){return["top","bottom"].includes(js(t))?"y":"x"}function OC(t){return kC(el(t))}function vZ(t,e,n){n===void 0&&(n=!1);const r=_f(t),o=OC(t),i=CC(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(s=S0(s)),[s,S0(s)]}function yZ(t){const e=S0(t);return[aS(t),e,aS(e)]}function aS(t){return t.replace(/start|end/g,e=>gZ[e])}function xZ(t,e,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?o:r:e?r:o;case"left":case"right":return e?i:s;default:return[]}}function _Z(t,e,n,r){const o=_f(t);let i=xZ(js(t),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),e&&(i=i.concat(i.map(aS)))),i}function S0(t){return t.replace(/left|right|bottom|top/g,e=>mZ[e])}function wZ(t){return{top:0,right:0,bottom:0,left:0,...t}}function Lz(t){return typeof t!="number"?wZ(t):{top:t,right:t,bottom:t,left:t}}function E0(t){const{x:e,y:n,width:r,height:o}=t;return{width:r,height:o,top:n,left:e,right:e+r,bottom:n+o,x:e,y:n}}function GM(t,e,n){let{reference:r,floating:o}=t;const i=el(e),s=OC(e),a=CC(s),l=js(e),u=i==="y",d=r.x+r.width/2-o.width/2,c=r.y+r.height/2-o.height/2,f=r[a]/2-o[a]/2;let p;switch(l){case"top":p={x:d,y:r.y-o.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:c};break;case"left":p={x:r.x-o.width,y:c};break;default:p={x:r.x,y:r.y}}switch(_f(e)){case"start":p[s]-=f*(n&&u?-1:1);break;case"end":p[s]+=f*(n&&u?-1:1);break}return p}const bZ=async(t,e,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,a=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:o}),{x:d,y:c}=GM(u,r,l),f=r,p={},m=0;for(let g=0;g<a.length;g++){const{name:x,fn:v}=a[g],{x:h,y:_,data:y,reset:S}=await v({x:d,y:c,initialPlacement:r,placement:f,strategy:o,middlewareData:p,rects:u,platform:s,elements:{reference:t,floating:e}});d=h!=null?h:d,c=_!=null?_:c,p={...p,[x]:{...p[x],...y}},S&&m<=50&&(m++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(u=S.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:o}):S.rects),{x:d,y:c}=GM(u,f,l)),g=-1)}return{x:d,y:c,placement:f,strategy:o,middlewareData:p}};async function nm(t,e){var n;e===void 0&&(e={});const{x:r,y:o,platform:i,rects:s,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:c="floating",altBoundary:f=!1,padding:p=0}=Bs(e,t),m=Lz(p),x=a[f?c==="floating"?"reference":"floating":c],v=E0(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),h=c==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),y=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},S=E0(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:h,offsetParent:_,strategy:l}):h);return{top:(v.top-S.top+m.top)/y.y,bottom:(S.bottom-v.bottom+m.bottom)/y.y,left:(v.left-S.left+m.left)/y.x,right:(S.right-v.right+m.right)/y.x}}const SZ=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:o,rects:i,platform:s,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=Bs(t,e)||{};if(u==null)return{};const c=Lz(d),f={x:n,y:r},p=OC(o),m=CC(p),g=await s.getDimensions(u),x=p==="y",v=x?"top":"left",h=x?"bottom":"right",_=x?"clientHeight":"clientWidth",y=i.reference[m]+i.reference[p]-f[p]-i.floating[m],S=f[p]-i.reference[p],O=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let k=O?O[_]:0;(!k||!await(s.isElement==null?void 0:s.isElement(O)))&&(k=a.floating[_]||i.floating[m]);const E=y/2-S/2,T=k/2-g[m]/2-1,D=Xa(c[v],T),j=Xa(c[h],T),A=D,K=k-g[m]-j,H=k/2-g[m]/2+E,ee=sS(A,H,K),X=!l.arrow&&_f(o)!=null&&H!==ee&&i.reference[m]/2-(H<A?D:j)-g[m]/2<0,ye=X?H<A?H-A:H-K:0;return{[p]:f[p]+ye,data:{[p]:ee,centerOffset:H-ee-ye,...X&&{alignmentOffset:ye}},reset:X}}});const EZ=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:c=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...x}=Bs(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=js(o),h=el(a),_=js(a)===a,y=await(l.isRTL==null?void 0:l.isRTL(u.floating)),S=f||(_||!g?[S0(a)]:yZ(a)),O=m!=="none";!f&&O&&S.push(..._Z(a,g,m,y));const k=[a,...S],E=await nm(e,x),T=[];let D=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&T.push(E[v]),c){const H=vZ(o,s,y);T.push(E[H[0]],E[H[1]])}if(D=[...D,{placement:o,overflows:T}],!T.every(H=>H<=0)){var j,A;const H=(((j=i.flip)==null?void 0:j.index)||0)+1,ee=k[H];if(ee)return{data:{index:H,overflows:D},reset:{placement:ee}};let X=(A=D.filter(ye=>ye.overflows[0]<=0).sort((ye,z)=>ye.overflows[1]-z.overflows[1])[0])==null?void 0:A.placement;if(!X)switch(p){case"bestFit":{var K;const ye=(K=D.filter(z=>{if(O){const I=el(z.placement);return I===h||I==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(I=>I>0).reduce((I,J)=>I+J,0)]).sort((z,I)=>z[1]-I[1])[0])==null?void 0:K[0];ye&&(X=ye);break}case"initialPlacement":X=a;break}if(o!==X)return{reset:{placement:X}}}return{}}}};function ZM(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function QM(t){return hZ.some(e=>t[e]>=0)}const kZ=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...o}=Bs(t,e);switch(r){case"referenceHidden":{const i=await nm(e,{...o,elementContext:"reference"}),s=ZM(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:QM(s)}}}case"escaped":{const i=await nm(e,{...o,altBoundary:!0}),s=ZM(i,n.floating);return{data:{escapedOffsets:s,escaped:QM(s)}}}default:return{}}}}};async function CZ(t,e){const{placement:n,platform:r,elements:o}=t,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=js(n),a=_f(n),l=el(n)==="y",u=["left","top"].includes(s)?-1:1,d=i&&l?-1:1,c=Bs(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:c.mainAxis||0,crossAxis:c.crossAxis||0,alignmentAxis:c.alignmentAxis};return a&&typeof m=="number"&&(p=a==="end"?m*-1:m),l?{x:p*d,y:f*u}:{x:f*u,y:p*d}}const OZ=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:o,y:i,placement:s,middlewareData:a}=e,l=await CZ(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:{...l,placement:s}}}}},PZ=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:o}=e,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:x=>{let{x:v,y:h}=x;return{x:v,y:h}}},...l}=Bs(t,e),u={x:n,y:r},d=await nm(e,l),c=el(js(o)),f=kC(c);let p=u[f],m=u[c];if(i){const x=f==="y"?"top":"left",v=f==="y"?"bottom":"right",h=p+d[x],_=p-d[v];p=sS(h,p,_)}if(s){const x=c==="y"?"top":"left",v=c==="y"?"bottom":"right",h=m+d[x],_=m-d[v];m=sS(h,m,_)}const g=a.fn({...e,[f]:p,[c]:m});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:i,[c]:s}}}}}},RZ=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:o,rects:i,middlewareData:s}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Bs(t,e),d={x:n,y:r},c=el(o),f=kC(c);let p=d[f],m=d[c];const g=Bs(a,e),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const _=f==="y"?"height":"width",y=i.reference[f]-i.floating[_]+x.mainAxis,S=i.reference[f]+i.reference[_]-x.mainAxis;p<y?p=y:p>S&&(p=S)}if(u){var v,h;const _=f==="y"?"width":"height",y=["top","left"].includes(js(o)),S=i.reference[c]-i.floating[_]+(y&&((v=s.offset)==null?void 0:v[c])||0)+(y?0:x.crossAxis),O=i.reference[c]+i.reference[_]+(y?0:((h=s.offset)==null?void 0:h[c])||0)-(y?x.crossAxis:0);m<S?m=S:m>O&&(m=O)}return{[f]:p,[c]:m}}}},TZ=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:o,rects:i,platform:s,elements:a}=e,{apply:l=()=>{},...u}=Bs(t,e),d=await nm(e,u),c=js(o),f=_f(o),p=el(o)==="y",{width:m,height:g}=i.floating;let x,v;c==="top"||c==="bottom"?(x=c,v=f===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(v=c,x=f==="end"?"top":"bottom");const h=g-d.top-d.bottom,_=m-d.left-d.right,y=Xa(g-d[x],h),S=Xa(m-d[v],_),O=!e.middlewareData.shift;let k=y,E=S;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=h),O&&!f){const D=ro(d.left,0),j=ro(d.right,0),A=ro(d.top,0),K=ro(d.bottom,0);p?E=m-2*(D!==0||j!==0?D+j:ro(d.left,d.right)):k=g-2*(A!==0||K!==0?A+K:ro(d.top,d.bottom))}await l({...e,availableWidth:E,availableHeight:k});const T=await s.getDimensions(a.floating);return m!==T.width||g!==T.height?{reset:{rects:!0}}:{}}}};function x_(){return typeof window<"u"}function wf(t){return $z(t)?(t.nodeName||"").toLowerCase():"#document"}function co(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ts(t){var e;return(e=($z(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function $z(t){return x_()?t instanceof Node||t instanceof co(t).Node:!1}function yi(t){return x_()?t instanceof Element||t instanceof co(t).Element:!1}function Gi(t){return x_()?t instanceof HTMLElement||t instanceof co(t).HTMLElement:!1}function YM(t){return!x_()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof co(t).ShadowRoot}function yg(t){const{overflow:e,overflowX:n,overflowY:r,display:o}=xi(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(o)}function MZ(t){return["table","td","th"].includes(wf(t))}function __(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function PC(t){const e=RC(),n=yi(t)?xi(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function NZ(t){let e=tl(t);for(;Gi(e)&&!jd(e);){if(PC(e))return e;if(__(e))return null;e=tl(e)}return null}function RC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function jd(t){return["html","body","#document"].includes(wf(t))}function xi(t){return co(t).getComputedStyle(t)}function w_(t){return yi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function tl(t){if(wf(t)==="html")return t;const e=t.assignedSlot||t.parentNode||YM(t)&&t.host||ts(t);return YM(e)?e.host:e}function zz(t){const e=tl(t);return jd(e)?t.ownerDocument?t.ownerDocument.body:t.body:Gi(e)&&yg(e)?e:zz(e)}function rm(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=zz(t),i=o===((r=t.ownerDocument)==null?void 0:r.body),s=co(o);if(i){const a=lS(s);return e.concat(s,s.visualViewport||[],yg(o)?o:[],a&&n?rm(a):[])}return e.concat(o,rm(o,[],n))}function lS(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Fz(t){const e=xi(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=Gi(t),i=o?t.offsetWidth:n,s=o?t.offsetHeight:r,a=b0(n)!==i||b0(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function TC(t){return yi(t)?t:t.contextElement}function rd(t){const e=TC(t);if(!Gi(e))return Ja(1);const n=e.getBoundingClientRect(),{width:r,height:o,$:i}=Fz(e);let s=(i?b0(n.width):n.width)/r,a=(i?b0(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const DZ=Ja(0);function Bz(t){const e=co(t);return!RC()||!e.visualViewport?DZ:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function AZ(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==co(t)?!1:e}function Cc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),i=TC(t);let s=Ja(1);e&&(r?yi(r)&&(s=rd(r)):s=rd(t));const a=AZ(i,n,r)?Bz(i):Ja(0);let l=(o.left+a.x)/s.x,u=(o.top+a.y)/s.y,d=o.width/s.x,c=o.height/s.y;if(i){const f=co(i),p=r&&yi(r)?co(r):r;let m=f,g=lS(m);for(;g&&r&&p!==m;){const x=rd(g),v=g.getBoundingClientRect(),h=xi(g),_=v.left+(g.clientLeft+parseFloat(h.paddingLeft))*x.x,y=v.top+(g.clientTop+parseFloat(h.paddingTop))*x.y;l*=x.x,u*=x.y,d*=x.x,c*=x.y,l+=_,u+=y,m=co(g),g=lS(m)}}return E0({width:d,height:c,x:l,y:u})}function IZ(t){let{elements:e,rect:n,offsetParent:r,strategy:o}=t;const i=o==="fixed",s=ts(r),a=e?__(e.floating):!1;if(r===s||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=Ja(1);const d=Ja(0),c=Gi(r);if((c||!c&&!i)&&((wf(r)!=="body"||yg(s))&&(l=w_(r)),Gi(r))){const f=Cc(r);u=rd(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x,y:n.y*u.y-l.scrollTop*u.y+d.y}}function LZ(t){return Array.from(t.getClientRects())}function cS(t,e){const n=w_(t).scrollLeft;return e?e.left+n:Cc(ts(t)).left+n}function $Z(t){const e=ts(t),n=w_(t),r=t.ownerDocument.body,o=ro(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=ro(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+cS(t);const a=-n.scrollTop;return xi(r).direction==="rtl"&&(s+=ro(e.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}function zZ(t,e){const n=co(t),r=ts(t),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;const u=RC();(!u||u&&e==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:a,y:l}}function FZ(t,e){const n=Cc(t,!0,e==="fixed"),r=n.top+t.clientTop,o=n.left+t.clientLeft,i=Gi(t)?rd(t):Ja(1),s=t.clientWidth*i.x,a=t.clientHeight*i.y,l=o*i.x,u=r*i.y;return{width:s,height:a,x:l,y:u}}function XM(t,e,n){let r;if(e==="viewport")r=zZ(t,n);else if(e==="document")r=$Z(ts(t));else if(yi(e))r=FZ(e,n);else{const o=Bz(t);r={...e,x:e.x-o.x,y:e.y-o.y}}return E0(r)}function jz(t,e){const n=tl(t);return n===e||!yi(n)||jd(n)?!1:xi(n).position==="fixed"||jz(n,e)}function BZ(t,e){const n=e.get(t);if(n)return n;let r=rm(t,[],!1).filter(a=>yi(a)&&wf(a)!=="body"),o=null;const i=xi(t).position==="fixed";let s=i?tl(t):t;for(;yi(s)&&!jd(s);){const a=xi(s),l=PC(s);!l&&a.position==="fixed"&&(o=null),(i?!l&&!o:!l&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||yg(s)&&!l&&jz(t,s))?r=r.filter(d=>d!==s):o=a,s=tl(s)}return e.set(t,r),r}function jZ(t){let{element:e,boundary:n,rootBoundary:r,strategy:o}=t;const s=[...n==="clippingAncestors"?__(e)?[]:BZ(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((u,d)=>{const c=XM(e,d,o);return u.top=ro(c.top,u.top),u.right=Xa(c.right,u.right),u.bottom=Xa(c.bottom,u.bottom),u.left=ro(c.left,u.left),u},XM(e,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function VZ(t){const{width:e,height:n}=Fz(t);return{width:e,height:n}}function UZ(t,e,n){const r=Gi(e),o=ts(e),i=n==="fixed",s=Cc(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Ja(0);if(r||!r&&!i)if((wf(e)!=="body"||yg(o))&&(a=w_(e)),r){const p=Cc(e,!0,i,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else o&&(l.x=cS(o));let u=0,d=0;if(o&&!r&&!i){const p=o.getBoundingClientRect();d=p.top+a.scrollTop,u=p.left+a.scrollLeft-cS(o,p)}const c=s.left+a.scrollLeft-l.x-u,f=s.top+a.scrollTop-l.y-d;return{x:c,y:f,width:s.width,height:s.height}}function ab(t){return xi(t).position==="static"}function JM(t,e){if(!Gi(t)||xi(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ts(t)===n&&(n=n.ownerDocument.body),n}function Vz(t,e){const n=co(t);if(__(t))return n;if(!Gi(t)){let o=tl(t);for(;o&&!jd(o);){if(yi(o)&&!ab(o))return o;o=tl(o)}return n}let r=JM(t,e);for(;r&&MZ(r)&&ab(r);)r=JM(r,e);return r&&jd(r)&&ab(r)&&!PC(r)?n:r||NZ(t)||n}const HZ=async function(t){const e=this.getOffsetParent||Vz,n=this.getDimensions,r=await n(t.floating);return{reference:UZ(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function WZ(t){return xi(t).direction==="rtl"}const KZ={convertOffsetParentRelativeRectToViewportRelativeRect:IZ,getDocumentElement:ts,getClippingRect:jZ,getOffsetParent:Vz,getElementRects:HZ,getClientRects:LZ,getDimensions:VZ,getScale:rd,isElement:yi,isRTL:WZ};function qZ(t,e){let n=null,r;const o=ts(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:u,top:d,width:c,height:f}=t.getBoundingClientRect();if(a||e(),!c||!f)return;const p=Fv(d),m=Fv(o.clientWidth-(u+c)),g=Fv(o.clientHeight-(d+f)),x=Fv(u),h={rootMargin:-p+"px "+-m+"px "+-g+"px "+-x+"px",threshold:ro(0,Xa(1,l))||1};let _=!0;function y(S){const O=S[0].intersectionRatio;if(O!==l){if(!_)return s();O?s(!1,O):r=setTimeout(()=>{s(!1,1e-7)},1e3)}_=!1}try{n=new IntersectionObserver(y,{...h,root:o.ownerDocument})}catch{n=new IntersectionObserver(y,h)}n.observe(t)}return s(!0),i}function GZ(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=TC(t),d=o||i?[...u?rm(u):[],...rm(e)]:[];d.forEach(v=>{o&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const c=u&&a?qZ(u,n):null;let f=-1,p=null;s&&(p=new ResizeObserver(v=>{let[h]=v;h&&h.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(e)})),n()}),u&&!l&&p.observe(u),p.observe(e));let m,g=l?Cc(t):null;l&&x();function x(){const v=Cc(t);g&&(v.x!==g.x||v.y!==g.y||v.width!==g.width||v.height!==g.height)&&n(),g=v,m=requestAnimationFrame(x)}return n(),()=>{var v;d.forEach(h=>{o&&h.removeEventListener("scroll",n),i&&h.removeEventListener("resize",n)}),c==null||c(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const ZZ=OZ,QZ=PZ,YZ=EZ,XZ=TZ,JZ=kZ,eN=SZ,eQ=RZ,tQ=(t,e,n)=>{const r=new Map,o={platform:KZ,...n},i={...o.platform,_c:r};return bZ(t,e,{...o,platform:i})};var ky=typeof document<"u"?b.exports.useLayoutEffect:b.exports.useEffect;function k0(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!k0(t[r],e[r]))return!1;return!0}if(o=Object.keys(t),n=o.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&t.$$typeof)&&!k0(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Uz(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function tN(t,e){const n=Uz(t);return Math.round(e*n)/n}function lb(t){const e=b.exports.useRef(t);return ky(()=>{e.current=t}),e}function nQ(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,c]=b.exports.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=b.exports.useState(r);k0(f,r)||p(r);const[m,g]=b.exports.useState(null),[x,v]=b.exports.useState(null),h=b.exports.useCallback(z=>{z!==O.current&&(O.current=z,g(z))},[]),_=b.exports.useCallback(z=>{z!==k.current&&(k.current=z,v(z))},[]),y=i||m,S=s||x,O=b.exports.useRef(null),k=b.exports.useRef(null),E=b.exports.useRef(d),T=l!=null,D=lb(l),j=lb(o),A=lb(u),K=b.exports.useCallback(()=>{if(!O.current||!k.current)return;const z={placement:e,strategy:n,middleware:f};j.current&&(z.platform=j.current),tQ(O.current,k.current,z).then(I=>{const J={...I,isPositioned:A.current!==!1};H.current&&!k0(E.current,J)&&(E.current=J,zo.exports.flushSync(()=>{c(J)}))})},[f,e,n,j,A]);ky(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,c(z=>({...z,isPositioned:!1})))},[u]);const H=b.exports.useRef(!1);ky(()=>(H.current=!0,()=>{H.current=!1}),[]),ky(()=>{if(y&&(O.current=y),S&&(k.current=S),y&&S){if(D.current)return D.current(y,S,K);K()}},[y,S,K,D,T]);const ee=b.exports.useMemo(()=>({reference:O,floating:k,setReference:h,setFloating:_}),[h,_]),X=b.exports.useMemo(()=>({reference:y,floating:S}),[y,S]),ye=b.exports.useMemo(()=>{const z={position:n,left:0,top:0};if(!X.floating)return z;const I=tN(X.floating,d.x),J=tN(X.floating,d.y);return a?{...z,transform:"translate("+I+"px, "+J+"px)",...Uz(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:I,top:J}},[n,a,X.floating,d.x,d.y]);return b.exports.useMemo(()=>({...d,update:K,refs:ee,elements:X,floatingStyles:ye}),[d,K,ee,X,ye])}const rQ=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:o}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?eN({element:r.current,padding:o}).fn(n):{}:r?eN({element:r,padding:o}).fn(n):{}}}},oQ=(t,e)=>({...ZZ(t),options:[t,e]}),iQ=(t,e)=>({...QZ(t),options:[t,e]}),sQ=(t,e)=>({...eQ(t),options:[t,e]}),aQ=(t,e)=>({...YZ(t),options:[t,e]}),lQ=(t,e)=>({...XZ(t),options:[t,e]}),cQ=(t,e)=>({...JZ(t),options:[t,e]}),uQ=(t,e)=>({...rQ(t),options:[t,e]});var dQ="Arrow",Hz=b.exports.forwardRef((t,e)=>{const{children:n,width:r=10,height:o=5,...i}=t;return w(rt.svg,{...i,ref:e,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:w("polygon",{points:"0,0 30,0 15,10"})})});Hz.displayName=dQ;var fQ=Hz;function Wz(t){const[e,n]=b.exports.useState(void 0);return xr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let s,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;s=u.inlineSize,a=u.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var MC="Popper",[Kz,bf]=es(MC),[pQ,qz]=Kz(MC),Gz=t=>{const{__scopePopper:e,children:n}=t,[r,o]=b.exports.useState(null);return w(pQ,{scope:e,anchor:r,onAnchorChange:o,children:n})};Gz.displayName=MC;var Zz="PopperAnchor",Qz=b.exports.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...o}=t,i=qz(Zz,n),s=b.exports.useRef(null),a=Mt(e,s);return b.exports.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:w(rt.div,{...o,ref:a})});Qz.displayName=Zz;var NC="PopperContent",[hQ,mQ]=Kz(NC),Yz=b.exports.forwardRef((t,e)=>{var U,F,q,re,de,fe,Oe,Pe;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:i="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:c="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:m,...g}=t,x=qz(NC,n),[v,h]=b.exports.useState(null),_=Mt(e,vt=>h(vt)),[y,S]=b.exports.useState(null),O=Wz(y),k=(U=O==null?void 0:O.width)!=null?U:0,E=(F=O==null?void 0:O.height)!=null?F:0,T=r+(i!=="center"?"-"+i:""),D=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},j=Array.isArray(u)?u:[u],A=j.length>0,K={padding:D,boundary:j.filter(vQ),altBoundary:A},{refs:H,floatingStyles:ee,placement:X,isPositioned:ye,middlewareData:z}=nQ({strategy:"fixed",placement:T,whileElementsMounted:(...vt)=>GZ(...vt,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[oQ({mainAxis:o+E,alignmentAxis:s}),l&&iQ({mainAxis:!0,crossAxis:!1,limiter:c==="partial"?sQ():void 0,...K}),l&&aQ({...K}),lQ({...K,apply:({elements:vt,rects:ot,availableWidth:Ht,availableHeight:C})=>{const{width:N,height:$}=ot.reference,oe=vt.floating.style;oe.setProperty("--radix-popper-available-width",`${Ht}px`),oe.setProperty("--radix-popper-available-height",`${C}px`),oe.setProperty("--radix-popper-anchor-width",`${N}px`),oe.setProperty("--radix-popper-anchor-height",`${$}px`)}}),y&&uQ({element:y,padding:a}),yQ({arrowWidth:k,arrowHeight:E}),f&&cQ({strategy:"referenceHidden",...K})]}),[I,J]=eF(X),xe=Ao(m);xr(()=>{ye&&(xe==null||xe())},[ye,xe]);const Be=(q=z.arrow)==null?void 0:q.x,Z=(re=z.arrow)==null?void 0:re.y,he=((de=z.arrow)==null?void 0:de.centerOffset)!==0,[ke,ae]=b.exports.useState();return xr(()=>{v&&ae(window.getComputedStyle(v).zIndex)},[v]),w("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:ye?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,["--radix-popper-transform-origin"]:[(fe=z.transformOrigin)==null?void 0:fe.x,(Oe=z.transformOrigin)==null?void 0:Oe.y].join(" "),...((Pe=z.hide)==null?void 0:Pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:w(hQ,{scope:n,placedSide:I,onArrowChange:S,arrowX:Be,arrowY:Z,shouldHideArrow:he,children:w(rt.div,{"data-side":I,"data-align":J,...g,ref:_,style:{...g.style,animation:ye?void 0:"none"}})})})});Yz.displayName=NC;var Xz="PopperArrow",gQ={top:"bottom",right:"left",bottom:"top",left:"right"},Jz=b.exports.forwardRef(function(e,n){const{__scopePopper:r,...o}=e,i=mQ(Xz,r),s=gQ[i.placedSide];return w("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:w(fQ,{...o,ref:n,style:{...o.style,display:"block"}})})});Jz.displayName=Xz;function vQ(t){return t!==null}var yQ=t=>({name:"transformOrigin",options:t,fn(e){var x,v,h,_,y;const{placement:n,rects:r,middlewareData:o}=e,s=((x=o.arrow)==null?void 0:x.centerOffset)!==0,a=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[u,d]=eF(n),c={start:"0%",center:"50%",end:"100%"}[d],f=((h=(v=o.arrow)==null?void 0:v.x)!=null?h:0)+a/2,p=((y=(_=o.arrow)==null?void 0:_.y)!=null?y:0)+l/2;let m="",g="";return u==="bottom"?(m=s?c:`${f}px`,g=`${-l}px`):u==="top"?(m=s?c:`${f}px`,g=`${r.floating.height+l}px`):u==="right"?(m=`${-l}px`,g=s?c:`${p}px`):u==="left"&&(m=`${r.floating.width+l}px`,g=s?c:`${p}px`),{data:{x:m,y:g}}}});function eF(t){const[e,n="center"]=t.split("-");return[e,n]}var DC=Gz,b_=Qz,AC=Yz,IC=Jz,xQ="Portal",xg=b.exports.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[o,i]=b.exports.useState(!1);xr(()=>i(!0),[]);const s=n||o&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?gz.createPortal(w(rt.div,{...r,ref:e}),s):null});xg.displayName=xQ;function nl({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,o]=_Q({defaultProp:e,onChange:n}),i=t!==void 0,s=i?t:r,a=Ao(n),l=b.exports.useCallback(u=>{if(i){const c=typeof u=="function"?u(t):u;c!==t&&a(c)}else o(u)},[i,t,o,a]);return[s,l]}function _Q({defaultProp:t,onChange:e}){const n=b.exports.useState(t),[r]=n,o=b.exports.useRef(r),i=Ao(e);return b.exports.useEffect(()=>{o.current!==r&&(i(r),o.current=r)},[r,o,i]),n}function tF(t){const e=b.exports.useRef({value:t,previous:t});return b.exports.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var wQ="VisuallyHidden",nF=b.exports.forwardRef((t,e)=>w(rt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));nF.displayName=wQ;var bQ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},uu=new WeakMap,Bv=new WeakMap,jv={},cb=0,rF=function(t){return t&&(t.host||rF(t.parentNode))},SQ=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=rF(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return Boolean(n)})},EQ=function(t,e,n,r){var o=SQ(e,Array.isArray(t)?t:[t]);jv[n]||(jv[n]=new WeakMap);var i=jv[n],s=[],a=new Set,l=new Set(o),u=function(c){!c||a.has(c)||(a.add(c),u(c.parentNode))};o.forEach(u);var d=function(c){!c||l.has(c)||Array.prototype.forEach.call(c.children,function(f){if(a.has(f))d(f);else try{var p=f.getAttribute(r),m=p!==null&&p!=="false",g=(uu.get(f)||0)+1,x=(i.get(f)||0)+1;uu.set(f,g),i.set(f,x),s.push(f),g===1&&m&&Bv.set(f,!0),x===1&&f.setAttribute(n,"true"),m||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return d(e),a.clear(),cb++,function(){s.forEach(function(c){var f=uu.get(c)-1,p=i.get(c)-1;uu.set(c,f),i.set(c,p),f||(Bv.has(c)||c.removeAttribute(r),Bv.delete(c)),p||c.removeAttribute(n)}),cb--,cb||(uu=new WeakMap,uu=new WeakMap,Bv=new WeakMap,jv={})}},S_=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),o=e||bQ(t);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),EQ(r,o,n,"aria-hidden")):function(){return null}},Bi=function(){return Bi=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Bi.apply(this,arguments)};function oF(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function kQ(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Cy="right-scroll-bar-position",Oy="width-before-scroll-bar",CQ="with-scroll-bars-hidden",OQ="--removed-body-scroll-bar-size";function ub(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function PQ(t,e){var n=b.exports.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=e,n.facade}var RQ=typeof window<"u"?b.exports.useLayoutEffect:b.exports.useEffect,nN=new WeakMap;function TQ(t,e){var n=PQ(e||null,function(r){return t.forEach(function(o){return ub(o,r)})});return RQ(function(){var r=nN.get(n);if(r){var o=new Set(r),i=new Set(t),s=n.current;o.forEach(function(a){i.has(a)||ub(a,null)}),i.forEach(function(a){o.has(a)||ub(a,s)})}nN.set(n,t)},[t]),n}function MQ(t){return t}function NQ(t,e){e===void 0&&(e=MQ);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var s=e(i,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(i){for(r=!0;n.length;){var s=n;n=[],s.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(i),s=n}var l=function(){var d=s;s=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),n}}}};return o}function DQ(t){t===void 0&&(t={});var e=NQ(null);return e.options=Bi({async:!0,ssr:!1},t),e}var iF=function(t){var e=t.sideCar,n=oF(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w(r,{...Bi({},n)})};iF.isSideCarExport=!0;function AQ(t,e){return t.useMedium(e),iF}var sF=DQ(),db=function(){},E_=b.exports.forwardRef(function(t,e){var n=b.exports.useRef(null),r=b.exports.useState({onScrollCapture:db,onWheelCapture:db,onTouchMoveCapture:db}),o=r[0],i=r[1],s=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,c=t.shards,f=t.sideCar,p=t.noIsolation,m=t.inert,g=t.allowPinchZoom,x=t.as,v=x===void 0?"div":x,h=t.gapMode,_=oF(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),y=f,S=TQ([n,e]),O=Bi(Bi({},_),o);return B(ho,{children:[d&&w(y,{sideCar:sF,removeScrollBar:u,shards:c,noIsolation:p,inert:m,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:h}),s?b.exports.cloneElement(b.exports.Children.only(a),Bi(Bi({},O),{ref:S})):w(v,{...Bi({},O,{className:l,ref:S}),children:a})]})});E_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};E_.classNames={fullWidth:Oy,zeroRight:Cy};var IQ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function LQ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=IQ();return e&&t.setAttribute("nonce",e),t}function $Q(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function zQ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var FQ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=LQ())&&($Q(e,n),zQ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},BQ=function(){var t=FQ();return function(e,n){b.exports.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},aF=function(){var t=BQ(),e=function(n){var r=n.styles,o=n.dynamic;return t(r,o),null};return e},jQ={left:0,top:0,right:0,gap:0},fb=function(t){return parseInt(t||"",10)||0},VQ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],o=e[t==="padding"?"paddingRight":"marginRight"];return[fb(n),fb(r),fb(o)]},UQ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return jQ;var e=VQ(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},HQ=aF(),od="data-scroll-locked",WQ=function(t,e,n,r){var o=t.left,i=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(CQ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(od,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cy,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Oy,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Cy," .").concat(Cy,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Oy," .").concat(Oy,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(od,`] {
    `).concat(OQ,": ").concat(a,`px;
  }
`)},rN=function(){var t=parseInt(document.body.getAttribute(od)||"0",10);return isFinite(t)?t:0},KQ=function(){b.exports.useEffect(function(){return document.body.setAttribute(od,(rN()+1).toString()),function(){var t=rN()-1;t<=0?document.body.removeAttribute(od):document.body.setAttribute(od,t.toString())}},[])},qQ=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,o=r===void 0?"margin":r;KQ();var i=b.exports.useMemo(function(){return UQ(o)},[o]);return w(HQ,{styles:WQ(i,!e,o,n?"":"!important")})},uS=!1;if(typeof window<"u")try{var Vv=Object.defineProperty({},"passive",{get:function(){return uS=!0,!0}});window.addEventListener("test",Vv,Vv),window.removeEventListener("test",Vv,Vv)}catch{uS=!1}var du=uS?{passive:!1}:!1,GQ=function(t){return t.tagName==="TEXTAREA"},lF=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!GQ(t)&&n[e]==="visible")},ZQ=function(t){return lF(t,"overflowY")},QQ=function(t){return lF(t,"overflowX")},oN=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=cF(t,r);if(o){var i=uF(t,r),s=i[1],a=i[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},YQ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},XQ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},cF=function(t,e){return t==="v"?ZQ(e):QQ(e)},uF=function(t,e){return t==="v"?YQ(e):XQ(e)},JQ=function(t,e){return t==="h"&&e==="rtl"?-1:1},eY=function(t,e,n,r,o){var i=JQ(t,window.getComputedStyle(e).direction),s=i*r,a=n.target,l=e.contains(a),u=!1,d=s>0,c=0,f=0;do{var p=uF(t,a),m=p[0],g=p[1],x=p[2],v=g-x-i*m;(m||v)&&cF(t,a)&&(c+=v,f+=m),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(o&&Math.abs(c)<1||!o&&s>c)||!d&&(o&&Math.abs(f)<1||!o&&-s>f))&&(u=!0),u},Uv=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},iN=function(t){return[t.deltaX,t.deltaY]},sN=function(t){return t&&"current"in t?t.current:t},tY=function(t,e){return t[0]===e[0]&&t[1]===e[1]},nY=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},rY=0,fu=[];function oY(t){var e=b.exports.useRef([]),n=b.exports.useRef([0,0]),r=b.exports.useRef(),o=b.exports.useState(rY++)[0],i=b.exports.useState(aF)[0],s=b.exports.useRef(t);b.exports.useEffect(function(){s.current=t},[t]),b.exports.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var g=kQ([t.lockRef.current],(t.shards||[]).map(sN),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var a=b.exports.useCallback(function(g,x){if("touches"in g&&g.touches.length===2)return!s.current.allowPinchZoom;var v=Uv(g),h=n.current,_="deltaX"in g?g.deltaX:h[0]-v[0],y="deltaY"in g?g.deltaY:h[1]-v[1],S,O=g.target,k=Math.abs(_)>Math.abs(y)?"h":"v";if("touches"in g&&k==="h"&&O.type==="range")return!1;var E=oN(k,O);if(!E)return!0;if(E?S=k:(S=k==="v"?"h":"v",E=oN(k,O)),!E)return!1;if(!r.current&&"changedTouches"in g&&(_||y)&&(r.current=S),!S)return!0;var T=r.current||S;return eY(T,x,g,T==="h"?_:y,!0)},[]),l=b.exports.useCallback(function(g){var x=g;if(!(!fu.length||fu[fu.length-1]!==i)){var v="deltaY"in x?iN(x):Uv(x),h=e.current.filter(function(S){return S.name===x.type&&(S.target===x.target||x.target===S.shadowParent)&&tY(S.delta,v)})[0];if(h&&h.should){x.cancelable&&x.preventDefault();return}if(!h){var _=(s.current.shards||[]).map(sN).filter(Boolean).filter(function(S){return S.contains(x.target)}),y=_.length>0?a(x,_[0]):!s.current.noIsolation;y&&x.cancelable&&x.preventDefault()}}},[]),u=b.exports.useCallback(function(g,x,v,h){var _={name:g,delta:x,target:v,should:h,shadowParent:iY(v)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(y){return y!==_})},1)},[]),d=b.exports.useCallback(function(g){n.current=Uv(g),r.current=void 0},[]),c=b.exports.useCallback(function(g){u(g.type,iN(g),g.target,a(g,t.lockRef.current))},[]),f=b.exports.useCallback(function(g){u(g.type,Uv(g),g.target,a(g,t.lockRef.current))},[]);b.exports.useEffect(function(){return fu.push(i),t.setCallbacks({onScrollCapture:c,onWheelCapture:c,onTouchMoveCapture:f}),document.addEventListener("wheel",l,du),document.addEventListener("touchmove",l,du),document.addEventListener("touchstart",d,du),function(){fu=fu.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,du),document.removeEventListener("touchmove",l,du),document.removeEventListener("touchstart",d,du)}},[]);var p=t.removeScrollBar,m=t.inert;return B(ho,{children:[m?w(i,{styles:nY(o)}):null,p?w(qQ,{gapMode:t.gapMode}):null]})}function iY(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const sY=AQ(sF,oY);var dF=b.exports.forwardRef(function(t,e){return w(E_,{...Bi({},t,{ref:e,sideCar:sY})})});dF.classNames=E_.classNames;const k_=dF;var aY=[" ","Enter","ArrowUp","ArrowDown"],lY=[" ","Enter"],_g="Select",[C_,O_,cY]=EC(_g),[Sf,V1e]=es(_g,[cY,bf]),P_=bf(),[uY,wl]=Sf(_g),[dY,fY]=Sf(_g),fF=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:o,onOpenChange:i,value:s,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:c,disabled:f,required:p}=t,m=P_(e),[g,x]=b.exports.useState(null),[v,h]=b.exports.useState(null),[_,y]=b.exports.useState(!1),S=v_(u),[O=!1,k]=nl({prop:r,defaultProp:o,onChange:i}),[E,T]=nl({prop:s,defaultProp:a,onChange:l}),D=b.exports.useRef(null),j=g?Boolean(g.closest("form")):!0,[A,K]=b.exports.useState(new Set),H=Array.from(A).map(ee=>ee.props.value).join(";");return w(DC,{...m,children:B(uY,{required:p,scope:e,trigger:g,onTriggerChange:x,valueNode:v,onValueNodeChange:h,valueNodeHasChildren:_,onValueNodeHasChildrenChange:y,contentId:fi(),value:E,onValueChange:T,open:O,onOpenChange:k,dir:S,triggerPointerDownPosRef:D,disabled:f,children:[w(C_.Provider,{scope:e,children:w(dY,{scope:t.__scopeSelect,onNativeOptionAdd:b.exports.useCallback(ee=>{K(X=>new Set(X).add(ee))},[]),onNativeOptionRemove:b.exports.useCallback(ee=>{K(X=>{const ye=new Set(X);return ye.delete(ee),ye})},[]),children:n})}),j?B($F,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:c,value:E,onChange:ee=>T(ee.target.value),disabled:f,children:[E===void 0?w("option",{value:""}):null,Array.from(A)]},H):null]})})};fF.displayName=_g;var pF="SelectTrigger",hF=b.exports.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...o}=t,i=P_(n),s=wl(pF,n),a=s.disabled||r,l=Mt(e,s.onTriggerChange),u=O_(n),[d,c,f]=zF(m=>{const g=u().filter(h=>!h.disabled),x=g.find(h=>h.value===s.value),v=FF(g,m,x);v!==void 0&&s.onValueChange(v.value)}),p=()=>{a||(s.onOpenChange(!0),f())};return w(b_,{asChild:!0,...i,children:w(rt.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":LF(s.value)?"":void 0,...o,ref:l,onClick:Re(o.onClick,m=>{m.currentTarget.focus()}),onPointerDown:Re(o.onPointerDown,m=>{const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&(p(),s.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)},m.preventDefault())}),onKeyDown:Re(o.onKeyDown,m=>{const g=d.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&c(m.key),!(g&&m.key===" ")&&aY.includes(m.key)&&(p(),m.preventDefault())})})})});hF.displayName=pF;var mF="SelectValue",gF=b.exports.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:o,children:i,placeholder:s="",...a}=t,l=wl(mF,n),{onValueNodeHasChildrenChange:u}=l,d=i!==void 0,c=Mt(e,l.onValueNodeChange);return xr(()=>{u(d)},[u,d]),w(rt.span,{...a,ref:c,style:{pointerEvents:"none"},children:LF(l.value)?w(ho,{children:s}):i})});gF.displayName=mF;var pY="SelectIcon",vF=b.exports.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...o}=t;return w(rt.span,{"aria-hidden":!0,...o,ref:e,children:r||"\u25BC"})});vF.displayName=pY;var hY="SelectPortal",yF=t=>w(xg,{asChild:!0,...t});yF.displayName=hY;var Oc="SelectContent",xF=b.exports.forwardRef((t,e)=>{const n=wl(Oc,t.__scopeSelect),[r,o]=b.exports.useState();if(xr(()=>{o(new DocumentFragment)},[]),!n.open){const i=r;return i?zo.exports.createPortal(w(_F,{scope:t.__scopeSelect,children:w(C_.Slot,{scope:t.__scopeSelect,children:w("div",{children:t.children})})}),i):null}return w(wF,{...t,ref:e})});xF.displayName=Oc;var ws=10,[_F,bl]=Sf(Oc),mY="SelectContentImpl",wF=b.exports.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:i,onPointerDownOutside:s,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:c,collisionBoundary:f,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:x,...v}=t,h=wl(Oc,n),[_,y]=b.exports.useState(null),[S,O]=b.exports.useState(null),k=Mt(e,U=>y(U)),[E,T]=b.exports.useState(null),[D,j]=b.exports.useState(null),A=O_(n),[K,H]=b.exports.useState(!1),ee=b.exports.useRef(!1);b.exports.useEffect(()=>{if(_)return S_(_)},[_]),y_();const X=b.exports.useCallback(U=>{const[F,...q]=A().map(fe=>fe.ref.current),[re]=q.slice(-1),de=document.activeElement;for(const fe of U)if(fe===de||(fe==null||fe.scrollIntoView({block:"nearest"}),fe===F&&S&&(S.scrollTop=0),fe===re&&S&&(S.scrollTop=S.scrollHeight),fe==null||fe.focus(),document.activeElement!==de))return},[A,S]),ye=b.exports.useCallback(()=>X([E,_]),[X,E,_]);b.exports.useEffect(()=>{K&&ye()},[K,ye]);const{onOpenChange:z,triggerPointerDownPosRef:I}=h;b.exports.useEffect(()=>{if(_){let U={x:0,y:0};const F=re=>{var de,fe,Oe,Pe;U={x:Math.abs(Math.round(re.pageX)-((fe=(de=I.current)==null?void 0:de.x)!=null?fe:0)),y:Math.abs(Math.round(re.pageY)-((Pe=(Oe=I.current)==null?void 0:Oe.y)!=null?Pe:0))}},q=re=>{U.x<=10&&U.y<=10?re.preventDefault():_.contains(re.target)||z(!1),document.removeEventListener("pointermove",F),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",F),document.addEventListener("pointerup",q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",F),document.removeEventListener("pointerup",q,{capture:!0})}}},[_,z,I]),b.exports.useEffect(()=>{const U=()=>z(!1);return window.addEventListener("blur",U),window.addEventListener("resize",U),()=>{window.removeEventListener("blur",U),window.removeEventListener("resize",U)}},[z]);const[J,xe]=zF(U=>{const F=A().filter(de=>!de.disabled),q=F.find(de=>de.ref.current===document.activeElement),re=FF(F,U,q);re&&setTimeout(()=>re.ref.current.focus())}),Be=b.exports.useCallback((U,F,q)=>{const re=!ee.current&&!q;(h.value!==void 0&&h.value===F||re)&&(T(U),re&&(ee.current=!0))},[h.value]),Z=b.exports.useCallback(()=>_==null?void 0:_.focus(),[_]),he=b.exports.useCallback((U,F,q)=>{const re=!ee.current&&!q;(h.value!==void 0&&h.value===F||re)&&j(U)},[h.value]),ke=r==="popper"?dS:bF,ae=ke===dS?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:c,collisionBoundary:f,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:x}:{};return w(_F,{scope:n,content:_,viewport:S,onViewportChange:O,itemRefCallback:Be,selectedItem:E,onItemLeave:Z,itemTextRefCallback:he,focusSelectedItem:ye,selectedItemText:D,position:r,isPositioned:K,searchRef:J,children:w(k_,{as:qi,allowPinchZoom:!0,children:w(vg,{asChild:!0,trapped:h.open,onMountAutoFocus:U=>{U.preventDefault()},onUnmountAutoFocus:Re(o,U=>{var F;(F=h.trigger)==null||F.focus({preventScroll:!0}),U.preventDefault()}),children:w(gg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:U=>U.preventDefault(),onDismiss:()=>h.onOpenChange(!1),children:w(ke,{role:"listbox",id:h.contentId,"data-state":h.open?"open":"closed",dir:h.dir,onContextMenu:U=>U.preventDefault(),...v,...ae,onPlaced:()=>H(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Re(v.onKeyDown,U=>{const F=U.ctrlKey||U.altKey||U.metaKey;if(U.key==="Tab"&&U.preventDefault(),!F&&U.key.length===1&&xe(U.key),["ArrowUp","ArrowDown","Home","End"].includes(U.key)){let re=A().filter(de=>!de.disabled).map(de=>de.ref.current);if(["ArrowUp","End"].includes(U.key)&&(re=re.slice().reverse()),["ArrowUp","ArrowDown"].includes(U.key)){const de=U.target,fe=re.indexOf(de);re=re.slice(fe+1)}setTimeout(()=>X(re)),U.preventDefault()}})})})})})})});wF.displayName=mY;var gY="SelectItemAlignedPosition",bF=b.exports.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...o}=t,i=wl(Oc,n),s=bl(Oc,n),[a,l]=b.exports.useState(null),[u,d]=b.exports.useState(null),c=Mt(e,k=>d(k)),f=O_(n),p=b.exports.useRef(!1),m=b.exports.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:v,focusSelectedItem:h}=s,_=b.exports.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&g&&x&&v){const k=i.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),T=i.valueNode.getBoundingClientRect(),D=v.getBoundingClientRect();if(i.dir!=="rtl"){const de=D.left-E.left,fe=T.left-de,Oe=k.left-fe,Pe=k.width+Oe,vt=Math.max(Pe,E.width),ot=window.innerWidth-ws,Ht=BM(fe,[ws,ot-vt]);a.style.minWidth=Pe+"px",a.style.left=Ht+"px"}else{const de=E.right-D.right,fe=window.innerWidth-T.right-de,Oe=window.innerWidth-k.right-fe,Pe=k.width+Oe,vt=Math.max(Pe,E.width),ot=window.innerWidth-ws,Ht=BM(fe,[ws,ot-vt]);a.style.minWidth=Pe+"px",a.style.right=Ht+"px"}const j=f(),A=window.innerHeight-ws*2,K=g.scrollHeight,H=window.getComputedStyle(u),ee=parseInt(H.borderTopWidth,10),X=parseInt(H.paddingTop,10),ye=parseInt(H.borderBottomWidth,10),z=parseInt(H.paddingBottom,10),I=ee+X+K+z+ye,J=Math.min(x.offsetHeight*5,I),xe=window.getComputedStyle(g),Be=parseInt(xe.paddingTop,10),Z=parseInt(xe.paddingBottom,10),he=k.top+k.height/2-ws,ke=A-he,ae=x.offsetHeight/2,U=x.offsetTop+ae,F=ee+X+U,q=I-F;if(F<=he){const de=x===j[j.length-1].ref.current;a.style.bottom="0px";const fe=u.clientHeight-g.offsetTop-g.offsetHeight,Oe=Math.max(ke,ae+(de?Z:0)+fe+ye),Pe=F+Oe;a.style.height=Pe+"px"}else{const de=x===j[0].ref.current;a.style.top="0px";const Oe=Math.max(he,ee+g.offsetTop+(de?Be:0)+ae)+q;a.style.height=Oe+"px",g.scrollTop=F-he+g.offsetTop}a.style.margin=`${ws}px 0`,a.style.minHeight=J+"px",a.style.maxHeight=A+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[f,i.trigger,i.valueNode,a,u,g,x,v,i.dir,r]);xr(()=>_(),[_]);const[y,S]=b.exports.useState();xr(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const O=b.exports.useCallback(k=>{k&&m.current===!0&&(_(),h==null||h(),m.current=!1)},[_,h]);return w(yY,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:O,children:w("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:y},children:w(rt.div,{...o,ref:c,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});bF.displayName=gY;var vY="SelectPopperPosition",dS=b.exports.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=ws,...i}=t,s=P_(n);return w(AC,{...s,...i,ref:e,align:r,collisionPadding:o,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});dS.displayName=vY;var[yY,LC]=Sf(Oc,{}),fS="SelectViewport",SF=b.exports.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...o}=t,i=bl(fS,n),s=LC(fS,n),a=Mt(e,i.onViewportChange),l=b.exports.useRef(0);return B(ho,{children:[w("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),w(C_.Slot,{scope:n,children:w(rt.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:a,style:{position:"relative",flex:1,overflow:"auto",...o.style},onScroll:Re(o.onScroll,u=>{const d=u.currentTarget,{contentWrapper:c,shouldExpandOnScrollRef:f}=s;if((f==null?void 0:f.current)&&c){const p=Math.abs(l.current-d.scrollTop);if(p>0){const m=window.innerHeight-ws*2,g=parseFloat(c.style.minHeight),x=parseFloat(c.style.height),v=Math.max(g,x);if(v<m){const h=v+p,_=Math.min(m,h),y=h-_;c.style.height=_+"px",c.style.bottom==="0px"&&(d.scrollTop=y>0?y:0,c.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});SF.displayName=fS;var EF="SelectGroup",[xY,_Y]=Sf(EF),wY=b.exports.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,o=fi();return w(xY,{scope:n,id:o,children:w(rt.div,{role:"group","aria-labelledby":o,...r,ref:e})})});wY.displayName=EF;var kF="SelectLabel",CF=b.exports.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,o=_Y(kF,n);return w(rt.div,{id:o.id,...r,ref:e})});CF.displayName=kF;var C0="SelectItem",[bY,OF]=Sf(C0),PF=b.exports.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:i,...s}=t,a=wl(C0,n),l=bl(C0,n),u=a.value===r,[d,c]=b.exports.useState(i!=null?i:""),[f,p]=b.exports.useState(!1),m=Mt(e,v=>{var h;return(h=l.itemRefCallback)==null?void 0:h.call(l,v,r,o)}),g=fi(),x=()=>{o||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return w(bY,{scope:n,value:r,disabled:o,textId:g,isSelected:u,onItemTextChange:b.exports.useCallback(v=>{c(h=>{var _;return h||((_=v==null?void 0:v.textContent)!=null?_:"").trim()})},[]),children:w(C_.ItemSlot,{scope:n,value:r,disabled:o,textValue:d,children:w(rt.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...s,ref:m,onFocus:Re(s.onFocus,()=>p(!0)),onBlur:Re(s.onBlur,()=>p(!1)),onPointerUp:Re(s.onPointerUp,x),onPointerMove:Re(s.onPointerMove,v=>{var h;o?(h=l.onItemLeave)==null||h.call(l):v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Re(s.onPointerLeave,v=>{var h;v.currentTarget===document.activeElement&&((h=l.onItemLeave)==null||h.call(l))}),onKeyDown:Re(s.onKeyDown,v=>{var _;((_=l.searchRef)==null?void 0:_.current)!==""&&v.key===" "||(lY.includes(v.key)&&x(),v.key===" "&&v.preventDefault())})})})})});PF.displayName=C0;var mp="SelectItemText",RF=b.exports.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:o,...i}=t,s=wl(mp,n),a=bl(mp,n),l=OF(mp,n),u=fY(mp,n),[d,c]=b.exports.useState(null),f=Mt(e,v=>c(v),l.onItemTextChange,v=>{var h;return(h=a.itemTextRefCallback)==null?void 0:h.call(a,v,l.value,l.disabled)}),p=d==null?void 0:d.textContent,m=b.exports.useMemo(()=>w("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=u;return xr(()=>(g(m),()=>x(m)),[g,x,m]),B(ho,{children:[w(rt.span,{id:l.textId,...i,ref:f}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?zo.exports.createPortal(i.children,s.valueNode):null]})});RF.displayName=mp;var TF="SelectItemIndicator",MF=b.exports.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return OF(TF,n).isSelected?w(rt.span,{"aria-hidden":!0,...r,ref:e}):null});MF.displayName=TF;var pS="SelectScrollUpButton",NF=b.exports.forwardRef((t,e)=>{const n=bl(pS,t.__scopeSelect),r=LC(pS,t.__scopeSelect),[o,i]=b.exports.useState(!1),s=Mt(e,r.onScrollButtonChange);return xr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),o?w(AF,{...t,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});NF.displayName=pS;var hS="SelectScrollDownButton",DF=b.exports.forwardRef((t,e)=>{const n=bl(hS,t.__scopeSelect),r=LC(hS,t.__scopeSelect),[o,i]=b.exports.useState(!1),s=Mt(e,r.onScrollButtonChange);return xr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),o?w(AF,{...t,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});DF.displayName=hS;var AF=b.exports.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=t,i=bl("SelectScrollButton",n),s=b.exports.useRef(null),a=O_(n),l=b.exports.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return b.exports.useEffect(()=>()=>l(),[l]),xr(()=>{var d;const u=a().find(c=>c.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),w(rt.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:Re(o.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:Re(o.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:Re(o.onPointerLeave,()=>{l()})})}),SY="SelectSeparator",IF=b.exports.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return w(rt.div,{"aria-hidden":!0,...r,ref:e})});IF.displayName=SY;var mS="SelectArrow",EY=b.exports.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,o=P_(n),i=wl(mS,n),s=bl(mS,n);return i.open&&s.position==="popper"?w(IC,{...o,...r,ref:e}):null});EY.displayName=mS;function LF(t){return t===""||t===void 0}var $F=b.exports.forwardRef((t,e)=>{const{value:n,...r}=t,o=b.exports.useRef(null),i=Mt(e,o),s=tF(n);return b.exports.useEffect(()=>{const a=o.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==n&&d){const c=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(c)}},[s,n]),w(nF,{asChild:!0,children:w("select",{...r,ref:i,defaultValue:n})})});$F.displayName="BubbleSelect";function zF(t){const e=Ao(t),n=b.exports.useRef(""),r=b.exports.useRef(0),o=b.exports.useCallback(s=>{const a=n.current+s;e(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=b.exports.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.exports.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,i]}function FF(t,e,n){const o=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let s=kY(t,Math.max(i,0));o.length===1&&(s=s.filter(u=>u!==n));const l=s.find(u=>u.textValue.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function kY(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var CY=fF,BF=hF,OY=gF,PY=vF,RY=yF,jF=xF,TY=SF,VF=CF,UF=PF,MY=RF,NY=MF,HF=NF,WF=DF,O0=IF;/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DY=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KF=(...t)=>t.filter((e,n,r)=>Boolean(e)&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IY=b.exports.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:i,iconNode:s,...a},l)=>b.exports.createElement("svg",{ref:l,...AY,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:KF("lucide",o),...a},[...s.map(([u,d])=>b.exports.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=(t,e)=>{const n=b.exports.forwardRef(({className:r,...o},i)=>b.exports.createElement(IY,{ref:i,iconNode:e,className:KF(`lucide-${DY(t)}`,r),...o}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LY=et("AlignCenter",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"17",x2:"7",y1:"12",y2:"12",key:"rsh8ii"}],["line",{x1:"19",x2:"5",y1:"18",y2:"18",key:"1t0tuv"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Y=et("AlignJustify",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["line",{x1:"3",x2:"21",y1:"18",y2:"18",key:"kwyyxn"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zY=et("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FY=et("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BY=et("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=et("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jY=et("BoxSelect",[["path",{d:"M5 3a2 2 0 0 0-2 2",key:"y57alp"}],["path",{d:"M19 3a2 2 0 0 1 2 2",key:"18rm91"}],["path",{d:"M21 19a2 2 0 0 1-2 2",key:"1j7049"}],["path",{d:"M5 21a2 2 0 0 1-2-2",key:"sbafld"}],["path",{d:"M9 3h1",key:"1yesri"}],["path",{d:"M9 21h1",key:"15o7lz"}],["path",{d:"M14 3h1",key:"1ec4yj"}],["path",{d:"M14 21h1",key:"v9vybs"}],["path",{d:"M3 9v1",key:"1r0deq"}],["path",{d:"M21 9v1",key:"mxsmne"}],["path",{d:"M3 14v1",key:"vnatye"}],["path",{d:"M21 14v1",key:"169vum"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=et("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=et("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VY=et("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UY=et("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HY=et("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WY=et("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KY=et("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=et("Cuboid",[["path",{d:"m21.12 6.4-6.05-4.06a2 2 0 0 0-2.17-.05L2.95 8.41a2 2 0 0 0-.95 1.7v5.82a2 2 0 0 0 .88 1.66l6.05 4.07a2 2 0 0 0 2.17.05l9.95-6.12a2 2 0 0 0 .95-1.7V8.06a2 2 0 0 0-.88-1.66Z",key:"1u2ovd"}],["path",{d:"M10 22v-8L2.25 9.15",key:"11pn4q"}],["path",{d:"m10 14 11.77-6.87",key:"1kt1wh"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qY=et("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=et("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GY=et("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZY=et("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QY=et("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YY=et("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XY=et("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JY=et("LetterText",[["path",{d:"M15 12h6",key:"upa0zy"}],["path",{d:"M15 6h6",key:"1jlkvy"}],["path",{d:"m3 13 3.553-7.724a.5.5 0 0 1 .894 0L11 13",key:"blevx4"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M4 11h6",key:"olkgv1"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eX=et("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tX=et("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nX=et("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rX=et("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oX=et("Paintbrush",[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iX=et("PanelLeftClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sX=et("PanelLeftOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aX=et("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lX=et("PanelRightClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cX=et("PanelRight",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uX=et("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dX=et("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=et("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fX=et("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pX=et("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hX=et("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mX=et("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gX=et("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vX=et("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yX=et("Text",[["path",{d:"M17 6.1H3",key:"wptmhv"}],["path",{d:"M21 12.1H3",key:"1j38uz"}],["path",{d:"M15.1 18H3",key:"1nb16a"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xX=et("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=et("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function YF(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=YF(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function R0(){for(var t,e,n=0,r="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=YF(t))&&(r&&(r+=" "),r+=e);return r}const _X=Object.freeze(Object.defineProperty({__proto__:null,clsx:R0,default:R0},Symbol.toStringTag,{value:"Module"})),FC="-",wX=t=>{const e=SX(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const a=s.split(FC);return a[0]===""&&a.length!==1&&a.shift(),XF(a,e)||bX(s)},getConflictingClassGroupIds:(s,a)=>{const l=n[s]||[];return a&&r[s]?[...l,...r[s]]:l}}},XF=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),o=r?XF(t.slice(1),r):void 0;if(o)return o;if(e.validators.length===0)return;const i=t.join(FC);return(s=e.validators.find(({validator:a})=>a(i)))==null?void 0:s.classGroupId},aN=/^\[(.+)\]$/,bX=t=>{if(aN.test(t)){const e=aN.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},SX=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return kX(Object.entries(t.classGroups),n).forEach(([i,s])=>{gS(s,r,i,e)}),r},gS=(t,e,n,r)=>{t.forEach(o=>{if(typeof o=="string"){const i=o===""?e:lN(e,o);i.classGroupId=n;return}if(typeof o=="function"){if(EX(o)){gS(o(r),e,n,r);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([i,s])=>{gS(s,lN(e,i),n,r)})})},lN=(t,e)=>{let n=t;return e.split(FC).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},EX=t=>t.isThemeGetter,kX=(t,e)=>e?t.map(([n,r])=>{const o=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([s,a])=>[e+s,a])):i);return[n,o]}):t,CX=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const o=(i,s)=>{n.set(i,s),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let s=n.get(i);if(s!==void 0)return s;if((s=r.get(i))!==void 0)return o(i,s),s},set(i,s){n.has(i)?n.set(i,s):o(i,s)}}},JF="!",OX=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,o=e[0],i=e.length,s=a=>{const l=[];let u=0,d=0,c;for(let x=0;x<a.length;x++){let v=a[x];if(u===0){if(v===o&&(r||a.slice(x,x+i)===e)){l.push(a.slice(d,x)),d=x+i;continue}if(v==="/"){c=x;continue}}v==="["?u++:v==="]"&&u--}const f=l.length===0?a:a.substring(d),p=f.startsWith(JF),m=p?f.substring(1):f,g=c&&c>d?c-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:s}):s},PX=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},RX=t=>({cache:CX(t.cacheSize),parseClassName:OX(t),...wX(t)}),TX=/\s+/,MX=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=e,i=[],s=t.trim().split(TX);let a="";for(let l=s.length-1;l>=0;l-=1){const u=s[l],{modifiers:d,hasImportantModifier:c,baseClassName:f,maybePostfixModifierPosition:p}=n(u);let m=Boolean(p),g=r(m?f.substring(0,p):f);if(!g){if(!m){a=u+(a.length>0?" "+a:a);continue}if(g=r(f),!g){a=u+(a.length>0?" "+a:a);continue}m=!1}const x=PX(d).join(":"),v=c?x+JF:x,h=v+g;if(i.includes(h))continue;i.push(h);const _=o(g,m);for(let y=0;y<_.length;++y){const S=_[y];i.push(v+S)}a=u+(a.length>0?" "+a:a)}return a};function NX(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=eB(e))&&(r&&(r+=" "),r+=n);return r}const eB=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=eB(t[r]))&&(n&&(n+=" "),n+=e);return n};function DX(t,...e){let n,r,o,i=s;function s(l){const u=e.reduce((d,c)=>c(d),t());return n=RX(u),r=n.cache.get,o=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=MX(l,n);return o(l,d),d}return function(){return i(NX.apply(null,arguments))}}const jt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},tB=/^\[(?:([a-z-]+):)?(.+)\]$/i,AX=/^\d+\/\d+$/,IX=new Set(["px","full","screen"]),LX=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$X=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zX=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,FX=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,BX=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,us=t=>id(t)||IX.has(t)||AX.test(t),Ys=t=>Ef(t,"length",GX),id=t=>Boolean(t)&&!Number.isNaN(Number(t)),pb=t=>Ef(t,"number",id),rp=t=>Boolean(t)&&Number.isInteger(Number(t)),jX=t=>t.endsWith("%")&&id(t.slice(0,-1)),st=t=>tB.test(t),Xs=t=>LX.test(t),VX=new Set(["length","size","percentage"]),UX=t=>Ef(t,VX,nB),HX=t=>Ef(t,"position",nB),WX=new Set(["image","url"]),KX=t=>Ef(t,WX,QX),qX=t=>Ef(t,"",ZX),op=()=>!0,Ef=(t,e,n)=>{const r=tB.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},GX=t=>$X.test(t)&&!zX.test(t),nB=()=>!1,ZX=t=>FX.test(t),QX=t=>BX.test(t),YX=()=>{const t=jt("colors"),e=jt("spacing"),n=jt("blur"),r=jt("brightness"),o=jt("borderColor"),i=jt("borderRadius"),s=jt("borderSpacing"),a=jt("borderWidth"),l=jt("contrast"),u=jt("grayscale"),d=jt("hueRotate"),c=jt("invert"),f=jt("gap"),p=jt("gradientColorStops"),m=jt("gradientColorStopPositions"),g=jt("inset"),x=jt("margin"),v=jt("opacity"),h=jt("padding"),_=jt("saturate"),y=jt("scale"),S=jt("sepia"),O=jt("skew"),k=jt("space"),E=jt("translate"),T=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",st,e],A=()=>[st,e],K=()=>["",us,Ys],H=()=>["auto",id,st],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],ye=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",st],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],xe=()=>[id,st];return{cacheSize:500,separator:":",theme:{colors:[op],spacing:[us,Ys],blur:["none","",Xs,st],brightness:xe(),borderColor:[t],borderRadius:["none","","full",Xs,st],borderSpacing:A(),borderWidth:K(),contrast:xe(),grayscale:I(),hueRotate:xe(),invert:I(),gap:A(),gradientColorStops:[t],gradientColorStopPositions:[jX,Ys],inset:j(),margin:j(),opacity:xe(),padding:A(),saturate:xe(),scale:xe(),sepia:I(),skew:xe(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",st]}],container:["container"],columns:[{columns:[Xs]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),st]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",rp,st]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",st]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",rp,st]}],"grid-cols":[{"grid-cols":[op]}],"col-start-end":[{col:["auto",{span:["full",rp,st]},st]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[op]}],"row-start-end":[{row:["auto",{span:[rp,st]},st]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",st]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",st]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[h]}],px:[{px:[h]}],py:[{py:[h]}],ps:[{ps:[h]}],pe:[{pe:[h]}],pt:[{pt:[h]}],pr:[{pr:[h]}],pb:[{pb:[h]}],pl:[{pl:[h]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",st,e]}],"min-w":[{"min-w":[st,e,"min","max","fit"]}],"max-w":[{"max-w":[st,e,"none","full","min","max","fit","prose",{screen:[Xs]},Xs]}],h:[{h:[st,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[st,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[st,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[st,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Xs,Ys]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",pb]}],"font-family":[{font:[op]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",st]}],"line-clamp":[{"line-clamp":["none",id,pb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",us,st]}],"list-image":[{"list-image":["none",st]}],"list-style-type":[{list:["none","disc","decimal",st]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",us,Ys]}],"underline-offset":[{"underline-offset":["auto",us,st]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",st]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",st]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),HX]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",UX]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},KX]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:X()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[us,st]}],"outline-w":[{outline:[us,Ys]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[us,Ys]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Xs,qX]}],"shadow-color":[{shadow:[op]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...ye(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ye()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Xs,st]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[c]}],saturate:[{saturate:[_]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",st]}],duration:[{duration:xe()}],ease:[{ease:["linear","in","out","in-out",st]}],delay:[{delay:xe()}],animate:[{animate:["none","spin","ping","pulse","bounce",st]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[y]}],"scale-x":[{"scale-x":[y]}],"scale-y":[{"scale-y":[y]}],rotate:[{rotate:[rp,st]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",st]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",st]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",st]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[us,Ys,pb]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},XX=DX(YX);function Te(...t){return XX(R0(t))}const rB=CY,oB=OY,BC=b.exports.forwardRef(({className:t,children:e,...n},r)=>B(BF,{ref:r,className:Te("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus:outline-none focus:border-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,w(PY,{asChild:!0,children:w(ZF,{className:"h-4 w-4 opacity-50"})})]}));BC.displayName=BF.displayName;const iB=b.exports.forwardRef(({className:t,...e},n)=>w(HF,{ref:n,className:Te("flex cursor-default items-center justify-center py-1",t),...e,children:w(UY,{className:"h-4 w-4"})}));iB.displayName=HF.displayName;const sB=b.exports.forwardRef(({className:t,...e},n)=>w(WF,{ref:n,className:Te("flex cursor-default items-center justify-center py-1",t),...e,children:w(ZF,{className:"h-4 w-4"})}));sB.displayName=WF.displayName;const jC=b.exports.forwardRef(({className:t,children:e,position:n="popper",...r},o)=>w(RY,{children:B(jF,{ref:o,className:Te("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[w(iB,{}),w(TY,{className:Te("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),w(sB,{})]})}));jC.displayName=jF.displayName;const JX=b.exports.forwardRef(({className:t,...e},n)=>w(VF,{ref:n,className:Te("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));JX.displayName=VF.displayName;const va=b.exports.forwardRef(({className:t,children:e,...n},r)=>B(UF,{ref:r,className:Te("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[w("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:w(NY,{children:w(GF,{className:"h-4 w-4"})})}),w(MY,{children:e})]}));va.displayName=UF.displayName;const aB=b.exports.forwardRef(({className:t,...e},n)=>w(O0,{ref:n,className:Te("-mx-1 my-1 h-px bg-muted",t),...e}));aB.displayName=O0.displayName;function lB(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=lB(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function eJ(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=lB(t))&&(r&&(r+=" "),r+=e);return r}const cN=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,uN=eJ,VC=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return uN(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:i}=e,s=Object.keys(o).map(u=>{const d=n==null?void 0:n[u],c=i==null?void 0:i[u];if(d===null)return null;const f=cN(d)||cN(c);return o[u][f]}),a=n&&Object.entries(n).reduce((u,d)=>{let[c,f]=d;return f===void 0||(u[c]=f),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:c,className:f,...p}=d;return Object.entries(p).every(m=>{let[g,x]=m;return Array.isArray(x)?x.includes({...i,...a}[g]):{...i,...a}[g]===x})?[...u,c,f]:u},[]);return uN(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)},tJ=VC("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-secondary hover:text-secondary-foreground",invisible:"",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10",iconSm:"h-8 w-8"}},defaultVariants:{variant:"default",size:"default"}}),We=b.exports.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...o},i)=>w(r?qi:"button",{className:Te(tJ({variant:e,size:n,className:t})),ref:i,...o}));We.displayName="Button";var nJ=Object.defineProperty,dN=Object.getOwnPropertySymbols,rJ=Object.prototype.hasOwnProperty,oJ=Object.prototype.propertyIsEnumerable,fN=(t,e,n)=>e in t?nJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,iJ=(t,e)=>{for(var n in e||(e={}))rJ.call(e,n)&&fN(t,n,e[n]);if(dN)for(var n of dN(e))oJ.call(e,n)&&fN(t,n,e[n]);return t},cB=Symbol.for("immer-nothing"),pN=Symbol.for("immer-draftable"),mo=Symbol.for("immer-state");function ii(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Vd=Object.getPrototypeOf;function Ud(t){return!!t&&!!t[mo]}function Pc(t){var e;return t?uB(t)||Array.isArray(t)||!!t[pN]||!!((e=t.constructor)!=null&&e[pN])||T_(t)||M_(t):!1}var sJ=Object.prototype.constructor.toString();function uB(t){if(!t||typeof t!="object")return!1;const e=Vd(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===sJ}function T0(t,e){R_(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function R_(t){const e=t[mo];return e?e.type_:Array.isArray(t)?1:T_(t)?2:M_(t)?3:0}function vS(t,e){return R_(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function dB(t,e,n){const r=R_(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function aJ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function T_(t){return t instanceof Map}function M_(t){return t instanceof Set}function Ll(t){return t.copy_||t.base_}function yS(t,e){if(T_(t))return new Map(t);if(M_(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=uB(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[mo];let o=Reflect.ownKeys(r);for(let i=0;i<o.length;i++){const s=o[i],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[s]})}return Object.create(Vd(t),r)}else{const r=Vd(t);if(r!==null&&n)return iJ({},t);const o=Object.create(r);return Object.assign(o,t)}}function UC(t,e=!1){return N_(t)||Ud(t)||!Pc(t)||(R_(t)>1&&(t.set=t.add=t.clear=t.delete=lJ),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>UC(r,!0))),t}function lJ(){ii(2)}function N_(t){return Object.isFrozen(t)}var cJ={};function Rc(t){const e=cJ[t];return e||ii(0,t),e}var om;function fB(){return om}function uJ(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function hN(t,e){e&&(Rc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function xS(t){_S(t),t.drafts_.forEach(dJ),t.drafts_=null}function _S(t){t===om&&(om=t.parent_)}function mN(t){return om=uJ(om,t)}function dJ(t){const e=t[mo];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function gN(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[mo].modified_&&(xS(e),ii(4)),Pc(t)&&(t=M0(e,t),e.parent_||N0(e,t)),e.patches_&&Rc("Patches").generateReplacementPatches_(n[mo].base_,t,e.patches_,e.inversePatches_)):t=M0(e,n,[]),xS(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==cB?t:void 0}function M0(t,e,n){if(N_(e))return e;const r=e[mo];if(!r)return T0(e,(o,i)=>vN(t,r,e,o,i,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return N0(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const o=r.copy_;let i=o,s=!1;r.type_===3&&(i=new Set(o),o.clear(),s=!0),T0(i,(a,l)=>vN(t,r,o,a,l,n,s)),N0(t,o,!1),n&&t.patches_&&Rc("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function vN(t,e,n,r,o,i,s){if(Ud(o)){const a=i&&e&&e.type_!==3&&!vS(e.assigned_,r)?i.concat(r):void 0,l=M0(t,o,a);if(dB(n,r,l),Ud(l))t.canAutoFreeze_=!1;else return}else s&&n.add(o);if(Pc(o)&&!N_(o)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;M0(t,o),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&N0(t,o)}}function N0(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&UC(e,n)}function fJ(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:fB(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,i=HC;n&&(o=[r],i=im);const{revoke:s,proxy:a}=Proxy.revocable(o,i);return r.draft_=a,r.revoke_=s,a}var HC={get(t,e){if(e===mo)return t;const n=Ll(t);if(!vS(n,e))return pJ(t,n,e);const r=n[e];return t.finalized_||!Pc(r)?r:r===hb(t.base_,e)?(mb(t),t.copy_[e]=bS(r,t)):r},has(t,e){return e in Ll(t)},ownKeys(t){return Reflect.ownKeys(Ll(t))},set(t,e,n){const r=pB(Ll(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const o=hb(Ll(t),e),i=o==null?void 0:o[mo];if(i&&i.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(aJ(n,o)&&(n!==void 0||vS(t.base_,e)))return!0;mb(t),wS(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return hb(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,mb(t),wS(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ll(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ii(11)},getPrototypeOf(t){return Vd(t.base_)},setPrototypeOf(){ii(12)}},im={};T0(HC,(t,e)=>{im[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});im.deleteProperty=function(t,e){return im.set.call(this,t,e,void 0)};im.set=function(t,e,n){return HC.set.call(this,t[0],e,n,t[0])};function hb(t,e){const n=t[mo];return(n?Ll(n):t)[e]}function pJ(t,e,n){var r;const o=pB(e,n);return o?"value"in o?o.value:(r=o.get)==null?void 0:r.call(t.draft_):void 0}function pB(t,e){if(!(e in t))return;let n=Vd(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Vd(n)}}function wS(t){t.modified_||(t.modified_=!0,t.parent_&&wS(t.parent_))}function mb(t){t.copy_||(t.copy_=yS(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var hJ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const i=n;n=e;const s=this;return function(l=i,...u){return s.produce(l,d=>n.call(this,d,...u))}}typeof n!="function"&&ii(6),r!==void 0&&typeof r!="function"&&ii(7);let o;if(Pc(e)){const i=mN(this),s=bS(e,void 0);let a=!0;try{o=n(s),a=!1}finally{a?xS(i):_S(i)}return hN(i,r),gN(o,i)}else if(!e||typeof e!="object"){if(o=n(e),o===void 0&&(o=e),o===cB&&(o=void 0),this.autoFreeze_&&UC(o,!0),r){const i=[],s=[];Rc("Patches").generateReplacementPatches_(e,o,i,s),r(i,s)}return o}else ii(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...a)=>this.produceWithPatches(s,l=>e(l,...a));let r,o;return[this.produce(e,n,(s,a)=>{r=s,o=a}),r,o]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Pc(t)||ii(8),Ud(t)&&(t=mJ(t));const e=mN(this),n=bS(t,void 0);return n[mo].isManual_=!0,_S(e),n}finishDraft(t,e){const n=t&&t[mo];(!n||!n.isManual_)&&ii(9);const{scope_:r}=n;return hN(r,e),gN(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const o=e[n];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}n>-1&&(e=e.slice(n+1));const r=Rc("Patches").applyPatches_;return Ud(t)?r(t,e):this.produce(t,o=>r(o,e))}};function bS(t,e){const n=T_(t)?Rc("MapSet").proxyMap_(t,e):M_(t)?Rc("MapSet").proxySet_(t,e):fJ(t,e);return(e?e.scope_:fB()).drafts_.push(n),n}function mJ(t){return Ud(t)||ii(10,t),hB(t)}function hB(t){if(!Pc(t)||N_(t))return t;const e=t[mo];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=yS(t,e.scope_.immer_.useStrictShallowCopy_)}else n=yS(t,!0);return T0(n,(r,o)=>{dB(n,r,hB(o))}),e&&(e.finalized_=!1),n}var go=new hJ,Fr=go.produce;go.produceWithPatches.bind(go);go.setAutoFreeze.bind(go);go.setUseStrictShallowCopy.bind(go);go.applyPatches.bind(go);go.createDraft.bind(go);go.finishDraft.bind(go);function gJ(t){return window.go.main.App.DeleteObjectFile(t)}function vJ(){return window.go.main.App.GetAllObjectTypeFiles()}function yJ(){return window.go.main.App.GetAllObjects()}function xJ(t){return window.go.main.App.GetChat(t)}function _J(t){return window.go.main.App.GetSummary(t)}function mB(t){return window.go.main.App.ReadObjectFile(t)}function wJ(t){return window.go.main.App.ReadObjectTypeFile(t)}function bJ(){return window.go.main.App.ReadStateFile()}function gB(t,e){return window.go.main.App.WriteObjectFile(t,e)}function SJ(t,e){return window.go.main.App.WriteObjectTypeFile(t,e)}function EJ(t){return window.go.main.App.WriteStateFile(t)}var Gc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Hd=typeof window>"u"||"Deno"in globalThis;function wo(){}function kJ(t,e){return typeof t=="function"?t(e):t}function SS(t){return typeof t=="number"&&t>=0&&t!==1/0}function vB(t,e){return Math.max(t+(e||0)-Date.now(),0)}function sd(t,e){return typeof t=="function"?t(e):t}function ri(t,e){return typeof t=="function"?t(e):t}function yN(t,e){const{type:n="all",exact:r,fetchStatus:o,predicate:i,queryKey:s,stale:a}=t;if(s){if(r){if(e.queryHash!==WC(s,e.options))return!1}else if(!sm(e.queryKey,s))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||o&&o!==e.state.fetchStatus||i&&!i(e))}function xN(t,e){const{exact:n,status:r,predicate:o,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Tc(e.options.mutationKey)!==Tc(i))return!1}else if(!sm(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||o&&!o(e))}function WC(t,e){return((e==null?void 0:e.queryKeyHashFn)||Tc)(t)}function Tc(t){return JSON.stringify(t,(e,n)=>ES(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function sm(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!sm(t[n],e[n])):!1}function KC(t,e){if(t===e)return t;const n=_N(t)&&_N(e);if(n||ES(t)&&ES(e)){const r=n?t:Object.keys(t),o=r.length,i=n?e:Object.keys(e),s=i.length,a=n?[]:{};let l=0;for(let u=0;u<s;u++){const d=n?u:i[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=KC(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return o===s&&l===o?t:a}return e}function D0(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function _N(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ES(t){if(!wN(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!wN(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function wN(t){return Object.prototype.toString.call(t)==="[object Object]"}function CJ(t){return new Promise(e=>{setTimeout(e,t)})}function kS(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?KC(t,e):e}function OJ(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function PJ(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var yB=Symbol();function xB(t,e){return!t.queryFn&&(e==null?void 0:e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===yB?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ec,ba,yd,QL,RJ=(QL=class extends Gc{constructor(){super();ge(this,ec,void 0);ge(this,ba,void 0);ge(this,yd,void 0);le(this,yd,e=>{if(!Hd&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){P(this,ba)||this.setEventListener(P(this,yd))}onUnsubscribe(){var e;this.hasListeners()||((e=P(this,ba))==null||e.call(this),le(this,ba,void 0))}setEventListener(e){var n;le(this,yd,e),(n=P(this,ba))==null||n.call(this),le(this,ba,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){P(this,ec)!==e&&(le(this,ec,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof P(this,ec)=="boolean"?P(this,ec):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ec=new WeakMap,ba=new WeakMap,yd=new WeakMap,QL),qC=new RJ,xd,Sa,_d,YL,TJ=(YL=class extends Gc{constructor(){super();ge(this,xd,!0);ge(this,Sa,void 0);ge(this,_d,void 0);le(this,_d,e=>{if(!Hd&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){P(this,Sa)||this.setEventListener(P(this,_d))}onUnsubscribe(){var e;this.hasListeners()||((e=P(this,Sa))==null||e.call(this),le(this,Sa,void 0))}setEventListener(e){var n;le(this,_d,e),(n=P(this,Sa))==null||n.call(this),le(this,Sa,e(this.setOnline.bind(this)))}setOnline(e){P(this,xd)!==e&&(le(this,xd,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return P(this,xd)}},xd=new WeakMap,Sa=new WeakMap,_d=new WeakMap,YL),A0=new TJ;function MJ(t){return Math.min(1e3*2**t,3e4)}function _B(t){return(t!=null?t:"online")==="online"?A0.isOnline():!0}var wB=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function gb(t){return t instanceof wB}function bB(t){let e=!1,n=0,r=!1,o,i,s;const a=new Promise((v,h)=>{i=v,s=h}),l=v=>{var h;r||(m(new wB(v)),(h=t.abort)==null||h.call(t))},u=()=>{e=!0},d=()=>{e=!1},c=()=>qC.isFocused()&&(t.networkMode==="always"||A0.isOnline())&&t.canRun(),f=()=>_B(t.networkMode)&&t.canRun(),p=v=>{var h;r||(r=!0,(h=t.onSuccess)==null||h.call(t,v),o==null||o(),i(v))},m=v=>{var h;r||(r=!0,(h=t.onError)==null||h.call(t,v),o==null||o(),s(v))},g=()=>new Promise(v=>{var h;o=_=>{(r||c())&&v(_)},(h=t.onPause)==null||h.call(t)}).then(()=>{var v;o=void 0,r||(v=t.onContinue)==null||v.call(t)}),x=()=>{if(r)return;let v;const h=n===0?t.initialPromise:void 0;try{v=h!=null?h:t.fn()}catch(_){v=Promise.reject(_)}Promise.resolve(v).then(p).catch(_=>{var E,T,D;if(r)return;const y=(E=t.retry)!=null?E:Hd?0:3,S=(T=t.retryDelay)!=null?T:MJ,O=typeof S=="function"?S(n,_):S,k=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,_);if(e||!k){m(_);return}n++,(D=t.onFail)==null||D.call(t,n,_),CJ(O).then(()=>c()?void 0:g()).then(()=>{e?m(_):x()})})};return{promise:a,cancel:l,continue:()=>(o==null||o(),a),cancelRetry:u,continueRetry:d,canStart:f,start:()=>(f()?x():g().then(x),a)}}function NJ(){let t=[],e=0,n=a=>{a()},r=a=>{a()},o=a=>setTimeout(a,0);const i=a=>{e?t.push(a):o(()=>{n(a)})},s=()=>{const a=t;t=[],a.length&&o(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||s()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{o=a}}}var dn=NJ(),tc,XL,SB=(XL=class{constructor(){ge(this,tc,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),SS(this.gcTime)&&le(this,tc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t!=null?t:Hd?1/0:5*60*1e3)}clearGcTimeout(){P(this,tc)&&(clearTimeout(P(this,tc)),le(this,tc,void 0))}},tc=new WeakMap,XL),wd,bd,_o,Yn,Km,nc,Qo,gs,JL,DJ=(JL=class extends SB{constructor(e){var n;super();ge(this,Qo);ge(this,wd,void 0);ge(this,bd,void 0);ge(this,_o,void 0);ge(this,Yn,void 0);ge(this,Km,void 0);ge(this,nc,void 0);le(this,nc,!1),le(this,Km,e.defaultOptions),this.setOptions(e.options),this.observers=[],le(this,_o,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,le(this,wd,AJ(this.options)),this.state=(n=e.state)!=null?n:P(this,wd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=P(this,Yn))==null?void 0:e.promise}setOptions(e){this.options={...P(this,Km),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&P(this,_o).remove(this)}setData(e,n){const r=kS(this.state.data,e,this.options);return Qe(this,Qo,gs).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Qe(this,Qo,gs).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,o;const n=(r=P(this,Yn))==null?void 0:r.promise;return(o=P(this,Yn))==null||o.cancel(e),n?n.then(wo).catch(wo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(P(this,wd))}isActive(){return this.observers.some(e=>ri(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!vB(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=P(this,Yn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=P(this,Yn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),P(this,_o).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(P(this,Yn)&&(P(this,nc)?P(this,Yn).cancel({revert:!0}):P(this,Yn).cancelRetry()),this.scheduleGc()),P(this,_o).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Qe(this,Qo,gs).call(this,{type:"invalidate"})}fetch(e,n){var l,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n==null?void 0:n.cancelRefetch))this.cancel({silent:!0});else if(P(this,Yn))return P(this,Yn).continueRetry(),P(this,Yn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(f=>f.options.queryFn);c&&this.setOptions(c.options)}const r=new AbortController,o=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(le(this,nc,!0),r.signal)})},i=()=>{const c=xB(this.options,n),f={queryKey:this.queryKey,meta:this.meta};return o(f),le(this,nc,!1),this.options.persister?this.options.persister(c,f,this):c(f)},s={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};o(s),(l=this.options.behavior)==null||l.onFetch(s,this),le(this,bd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=s.fetchOptions)==null?void 0:u.meta))&&Qe(this,Qo,gs).call(this,{type:"fetch",meta:(d=s.fetchOptions)==null?void 0:d.meta});const a=c=>{var f,p,m,g;gb(c)&&c.silent||Qe(this,Qo,gs).call(this,{type:"error",error:c}),gb(c)||((p=(f=P(this,_o).config).onError)==null||p.call(f,c,this),(g=(m=P(this,_o).config).onSettled)==null||g.call(m,this.state.data,c,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return le(this,Yn,bB({initialPromise:n==null?void 0:n.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:c=>{var f,p,m,g;if(c===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(x){a(x);return}(p=(f=P(this,_o).config).onSuccess)==null||p.call(f,c,this),(g=(m=P(this,_o).config).onSettled)==null||g.call(m,c,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(c,f)=>{Qe(this,Qo,gs).call(this,{type:"failed",failureCount:c,error:f})},onPause:()=>{Qe(this,Qo,gs).call(this,{type:"pause"})},onContinue:()=>{Qe(this,Qo,gs).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),P(this,Yn).start()}},wd=new WeakMap,bd=new WeakMap,_o=new WeakMap,Yn=new WeakMap,Km=new WeakMap,nc=new WeakMap,Qo=new WeakSet,gs=function(e){const n=r=>{var o,i;switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...EB(r.data,this.options),fetchMeta:(o=e.meta)!=null?o:null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(i=e.dataUpdatedAt)!=null?i:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return gb(s)&&s.revert&&P(this,bd)?{...P(this,bd),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),dn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),P(this,_o).notify({query:this,type:"updated",action:e})})},JL);function EB(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:_B(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function AJ(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r!=null?r:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ii,e$,IJ=(e$=class extends Gc{constructor(e={}){super();ge(this,Ii,void 0);this.config=e,le(this,Ii,new Map)}build(e,n,r){var a;const o=n.queryKey,i=(a=n.queryHash)!=null?a:WC(o,n);let s=this.get(i);return s||(s=new DJ({cache:this,queryKey:o,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(o)}),this.add(s)),s}add(e){P(this,Ii).has(e.queryHash)||(P(this,Ii).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=P(this,Ii).get(e.queryHash);n&&(e.destroy(),n===e&&P(this,Ii).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){dn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return P(this,Ii).get(e)}getAll(){return[...P(this,Ii).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>yN(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>yN(e,r)):n}notify(e){dn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){dn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){dn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ii=new WeakMap,e$),Li,fr,rc,$i,ia,t$,LJ=(t$=class extends SB{constructor(e){super();ge(this,$i);ge(this,Li,void 0);ge(this,fr,void 0);ge(this,rc,void 0);this.mutationId=e.mutationId,le(this,fr,e.mutationCache),le(this,Li,[]),this.state=e.state||kB(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){P(this,Li).includes(e)||(P(this,Li).push(e),this.clearGcTimeout(),P(this,fr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){le(this,Li,P(this,Li).filter(n=>n!==e)),this.scheduleGc(),P(this,fr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){P(this,Li).length||(this.state.status==="pending"?this.scheduleGc():P(this,fr).remove(this))}continue(){var e,n;return(n=(e=P(this,rc))==null?void 0:e.continue())!=null?n:this.execute(this.state.variables)}async execute(e){var o,i,s,a,l,u,d,c,f,p,m,g,x,v,h,_,y,S,O,k,E;le(this,rc,bB({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(T,D)=>{Qe(this,$i,ia).call(this,{type:"failed",failureCount:T,error:D})},onPause:()=>{Qe(this,$i,ia).call(this,{type:"pause"})},onContinue:()=>{Qe(this,$i,ia).call(this,{type:"continue"})},retry:(o=this.options.retry)!=null?o:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>P(this,fr).canRun(this)}));const n=this.state.status==="pending",r=!P(this,rc).canStart();try{if(!n){Qe(this,$i,ia).call(this,{type:"pending",variables:e,isPaused:r}),await((s=(i=P(this,fr).config).onMutate)==null?void 0:s.call(i,e,this));const D=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));D!==this.state.context&&Qe(this,$i,ia).call(this,{type:"pending",context:D,variables:e,isPaused:r})}const T=await P(this,rc).start();return await((d=(u=P(this,fr).config).onSuccess)==null?void 0:d.call(u,T,e,this.state.context,this)),await((f=(c=this.options).onSuccess)==null?void 0:f.call(c,T,e,this.state.context)),await((m=(p=P(this,fr).config).onSettled)==null?void 0:m.call(p,T,null,this.state.variables,this.state.context,this)),await((x=(g=this.options).onSettled)==null?void 0:x.call(g,T,null,e,this.state.context)),Qe(this,$i,ia).call(this,{type:"success",data:T}),T}catch(T){try{throw await((h=(v=P(this,fr).config).onError)==null?void 0:h.call(v,T,e,this.state.context,this)),await((y=(_=this.options).onError)==null?void 0:y.call(_,T,e,this.state.context)),await((O=(S=P(this,fr).config).onSettled)==null?void 0:O.call(S,void 0,T,this.state.variables,this.state.context,this)),await((E=(k=this.options).onSettled)==null?void 0:E.call(k,void 0,T,e,this.state.context)),T}finally{Qe(this,$i,ia).call(this,{type:"error",error:T})}}finally{P(this,fr).runNext(this)}}},Li=new WeakMap,fr=new WeakMap,rc=new WeakMap,$i=new WeakSet,ia=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),dn.batch(()=>{P(this,Li).forEach(r=>{r.onMutationUpdate(e)}),P(this,fr).notify({mutation:this,type:"updated",action:e})})},t$);function kB(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Xr,qm,n$,$J=(n$=class extends Gc{constructor(e={}){super();ge(this,Xr,void 0);ge(this,qm,void 0);this.config=e,le(this,Xr,new Map),le(this,qm,Date.now())}build(e,n,r){const o=new LJ({mutationCache:this,mutationId:++_v(this,qm)._,options:e.defaultMutationOptions(n),state:r});return this.add(o),o}add(e){var o;const n=Hv(e),r=(o=P(this,Xr).get(n))!=null?o:[];r.push(e),P(this,Xr).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Hv(e);if(P(this,Xr).has(n)){const o=(r=P(this,Xr).get(n))==null?void 0:r.filter(i=>i!==e);o&&(o.length===0?P(this,Xr).delete(n):P(this,Xr).set(n,o))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=P(this,Xr).get(Hv(e)))==null?void 0:r.find(o=>o.state.status==="pending");return!n||n===e}runNext(e){var r,o;const n=(r=P(this,Xr).get(Hv(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(o=n==null?void 0:n.continue())!=null?o:Promise.resolve()}clear(){dn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...P(this,Xr).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>xN(n,r))}findAll(e={}){return this.getAll().filter(n=>xN(e,n))}notify(e){dn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return dn.batch(()=>Promise.all(e.map(n=>n.continue().catch(wo))))}},Xr=new WeakMap,qm=new WeakMap,n$);function Hv(t){var e,n;return(n=(e=t.options.scope)==null?void 0:e.id)!=null?n:String(t.mutationId)}function bN(t){return{onFetch:(e,n)=>{var d,c,f,p,m;const r=e.options,o=(f=(c=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:c.fetchMore)==null?void 0:f.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],s=((m=e.state.data)==null?void 0:m.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{var _;let g=!1;const x=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},v=xB(e.options,e.fetchOptions),h=async(y,S,O)=>{if(g)return Promise.reject();if(S==null&&y.pages.length)return Promise.resolve(y);const k={queryKey:e.queryKey,pageParam:S,direction:O?"backward":"forward",meta:e.options.meta};x(k);const E=await v(k),{maxPages:T}=e.options,D=O?PJ:OJ;return{pages:D(y.pages,E,T),pageParams:D(y.pageParams,S,T)}};if(o&&i.length){const y=o==="backward",S=y?zJ:SN,O={pages:i,pageParams:s},k=S(r,O);a=await h(O,k,y)}else{const y=t!=null?t:i.length;do{const S=l===0?(_=s[0])!=null?_:r.initialPageParam:SN(r,a);if(l>0&&S==null)break;a=await h(a,S),l++}while(l<y)}return a};e.options.persister?e.fetchFn=()=>{var g,x;return(x=(g=e.options).persister)==null?void 0:x.call(g,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function SN(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function zJ(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var an,Ea,ka,Sd,Ed,Ca,kd,Cd,r$,FJ=(r$=class{constructor(t={}){ge(this,an,void 0);ge(this,Ea,void 0);ge(this,ka,void 0);ge(this,Sd,void 0);ge(this,Ed,void 0);ge(this,Ca,void 0);ge(this,kd,void 0);ge(this,Cd,void 0);le(this,an,t.queryCache||new IJ),le(this,Ea,t.mutationCache||new $J),le(this,ka,t.defaultOptions||{}),le(this,Sd,new Map),le(this,Ed,new Map),le(this,Ca,0)}mount(){_v(this,Ca)._++,P(this,Ca)===1&&(le(this,kd,qC.subscribe(async t=>{t&&(await this.resumePausedMutations(),P(this,an).onFocus())})),le(this,Cd,A0.subscribe(async t=>{t&&(await this.resumePausedMutations(),P(this,an).onOnline())})))}unmount(){var t,e;_v(this,Ca)._--,P(this,Ca)===0&&((t=P(this,kd))==null||t.call(this),le(this,kd,void 0),(e=P(this,Cd))==null||e.call(this),le(this,Cd,void 0))}isFetching(t){return P(this,an).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return P(this,Ea).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=P(this,an).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=P(this,an).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(sd(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return P(this,an).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),o=P(this,an).get(r.queryHash),i=o==null?void 0:o.state.data,s=kJ(e,i);if(s!==void 0)return P(this,an).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return dn.batch(()=>P(this,an).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=P(this,an).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=P(this,an);dn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=P(this,an),r={type:"active",...t};return dn.batch(()=>(n.findAll(t).forEach(o=>{o.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=dn.batch(()=>P(this,an).findAll(t).map(o=>o.cancel(n)));return Promise.all(r).then(wo).catch(wo)}invalidateQueries(t={},e={}){return dn.batch(()=>{var r,o;if(P(this,an).findAll(t).forEach(i=>{i.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:(o=(r=t.refetchType)!=null?r:t.type)!=null?o:"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){var o;const n={...e,cancelRefetch:(o=e==null?void 0:e.cancelRefetch)!=null?o:!0},r=dn.batch(()=>P(this,an).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(wo)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(wo)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=P(this,an).build(this,e);return n.isStaleByTime(sd(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(wo).catch(wo)}fetchInfiniteQuery(t){return t.behavior=bN(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(wo).catch(wo)}ensureInfiniteQueryData(t){return t.behavior=bN(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return A0.isOnline()?P(this,Ea).resumePausedMutations():Promise.resolve()}getQueryCache(){return P(this,an)}getMutationCache(){return P(this,Ea)}getDefaultOptions(){return P(this,ka)}setDefaultOptions(t){le(this,ka,t)}setQueryDefaults(t,e){P(this,Sd).set(Tc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...P(this,Sd).values()];let n={};return e.forEach(r=>{sm(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){P(this,Ed).set(Tc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...P(this,Ed).values()];let n={};return e.forEach(r=>{sm(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...P(this,ka).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=WC(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===yB&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...P(this,ka).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){P(this,an).clear(),P(this,Ea).clear()}},an=new WeakMap,Ea=new WeakMap,ka=new WeakMap,Sd=new WeakMap,Ed=new WeakMap,Ca=new WeakMap,kd=new WeakMap,Cd=new WeakMap,r$),Dr,yt,Gm,pr,oc,Od,zi,Zm,Pd,Rd,ic,sc,Oa,Td,ac,gp,Qm,CS,Ym,OS,Xm,PS,Jm,RS,eg,TS,tg,MS,ng,NS,Gx,CB,o$,GC=(o$=class extends Gc{constructor(e,n){super();ge(this,ac);ge(this,Qm);ge(this,Ym);ge(this,Xm);ge(this,Jm);ge(this,eg);ge(this,tg);ge(this,ng);ge(this,Gx);ge(this,Dr,void 0);ge(this,yt,void 0);ge(this,Gm,void 0);ge(this,pr,void 0);ge(this,oc,void 0);ge(this,Od,void 0);ge(this,zi,void 0);ge(this,Zm,void 0);ge(this,Pd,void 0);ge(this,Rd,void 0);ge(this,ic,void 0);ge(this,sc,void 0);ge(this,Oa,void 0);ge(this,Td,new Set);this.options=n,le(this,Dr,e),le(this,zi,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(P(this,yt).addObserver(this),EN(P(this,yt),this.options)?Qe(this,ac,gp).call(this):this.updateResult(),Qe(this,Jm,RS).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return DS(P(this,yt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return DS(P(this,yt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Qe(this,eg,TS).call(this),Qe(this,tg,MS).call(this),P(this,yt).removeObserver(this)}setOptions(e,n){const r=this.options,o=P(this,yt);if(this.options=P(this,Dr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ri(this.options.enabled,P(this,yt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Qe(this,ng,NS).call(this),P(this,yt).setOptions(this.options),r._defaulted&&!D0(this.options,r)&&P(this,Dr).getQueryCache().notify({type:"observerOptionsUpdated",query:P(this,yt),observer:this});const i=this.hasListeners();i&&kN(P(this,yt),o,this.options,r)&&Qe(this,ac,gp).call(this),this.updateResult(n),i&&(P(this,yt)!==o||ri(this.options.enabled,P(this,yt))!==ri(r.enabled,P(this,yt))||sd(this.options.staleTime,P(this,yt))!==sd(r.staleTime,P(this,yt)))&&Qe(this,Qm,CS).call(this);const s=Qe(this,Ym,OS).call(this);i&&(P(this,yt)!==o||ri(this.options.enabled,P(this,yt))!==ri(r.enabled,P(this,yt))||s!==P(this,Oa))&&Qe(this,Xm,PS).call(this,s)}getOptimisticResult(e){const n=P(this,Dr).getQueryCache().build(P(this,Dr),e),r=this.createResult(n,e);return jJ(this,r)&&(le(this,pr,r),le(this,Od,this.options),le(this,oc,P(this,yt).state)),r}getCurrentResult(){return P(this,pr)}trackResult(e,n){const r={};return Object.keys(e).forEach(o=>{Object.defineProperty(r,o,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(o),n==null||n(o),e[o])})}),r}trackProp(e){P(this,Td).add(e)}getCurrentQuery(){return P(this,yt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=P(this,Dr).defaultQueryOptions(e),r=P(this,Dr).getQueryCache().build(P(this,Dr),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){var n;return Qe(this,ac,gp).call(this,{...e,cancelRefetch:(n=e.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),P(this,pr)))}createResult(e,n){var k;const r=P(this,yt),o=this.options,i=P(this,pr),s=P(this,oc),a=P(this,Od),u=e!==r?e.state:P(this,Gm),{state:d}=e;let c={...d},f=!1,p;if(n._optimisticResults){const E=this.hasListeners(),T=!E&&EN(e,n),D=E&&kN(e,r,n,o);(T||D)&&(c={...c,...EB(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(c.fetchStatus="idle")}let{error:m,errorUpdatedAt:g,status:x}=c;if(n.select&&c.data!==void 0)if(i&&c.data===(s==null?void 0:s.data)&&n.select===P(this,Zm))p=P(this,Pd);else try{le(this,Zm,n.select),p=n.select(c.data),p=kS(i==null?void 0:i.data,p,n),le(this,Pd,p),le(this,zi,null)}catch(E){le(this,zi,E)}else p=c.data;if(n.placeholderData!==void 0&&p===void 0&&x==="pending"){let E;if((i==null?void 0:i.isPlaceholderData)&&n.placeholderData===(a==null?void 0:a.placeholderData))E=i.data;else if(E=typeof n.placeholderData=="function"?n.placeholderData((k=P(this,Rd))==null?void 0:k.state.data,P(this,Rd)):n.placeholderData,n.select&&E!==void 0)try{E=n.select(E),le(this,zi,null)}catch(T){le(this,zi,T)}E!==void 0&&(x="success",p=kS(i==null?void 0:i.data,E,n),f=!0)}P(this,zi)&&(m=P(this,zi),p=P(this,Pd),g=Date.now(),x="error");const v=c.fetchStatus==="fetching",h=x==="pending",_=x==="error",y=h&&v,S=p!==void 0;return{status:x,fetchStatus:c.fetchStatus,isPending:h,isSuccess:x==="success",isError:_,isInitialLoading:y,isLoading:y,data:p,dataUpdatedAt:c.dataUpdatedAt,error:m,errorUpdatedAt:g,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>u.dataUpdateCount||c.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!h,isLoadingError:_&&!S,isPaused:c.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:_&&S,isStale:ZC(e,n),refetch:this.refetch}}updateResult(e){const n=P(this,pr),r=this.createResult(P(this,yt),this.options);if(le(this,oc,P(this,yt).state),le(this,Od,this.options),P(this,oc).data!==void 0&&le(this,Rd,P(this,yt)),D0(r,n))return;le(this,pr,r);const o={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!P(this,Td).size)return!0;const l=new Set(a!=null?a:P(this,Td));return this.options.throwOnError&&l.add("error"),Object.keys(P(this,pr)).some(u=>{const d=u;return P(this,pr)[d]!==n[d]&&l.has(d)})};(e==null?void 0:e.listeners)!==!1&&i()&&(o.listeners=!0),Qe(this,Gx,CB).call(this,{...o,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Qe(this,Jm,RS).call(this)}},Dr=new WeakMap,yt=new WeakMap,Gm=new WeakMap,pr=new WeakMap,oc=new WeakMap,Od=new WeakMap,zi=new WeakMap,Zm=new WeakMap,Pd=new WeakMap,Rd=new WeakMap,ic=new WeakMap,sc=new WeakMap,Oa=new WeakMap,Td=new WeakMap,ac=new WeakSet,gp=function(e){Qe(this,ng,NS).call(this);let n=P(this,yt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(wo)),n},Qm=new WeakSet,CS=function(){Qe(this,eg,TS).call(this);const e=sd(this.options.staleTime,P(this,yt));if(Hd||P(this,pr).isStale||!SS(e))return;const r=vB(P(this,pr).dataUpdatedAt,e)+1;le(this,ic,setTimeout(()=>{P(this,pr).isStale||this.updateResult()},r))},Ym=new WeakSet,OS=function(){var e;return(e=typeof this.options.refetchInterval=="function"?this.options.refetchInterval(P(this,yt)):this.options.refetchInterval)!=null?e:!1},Xm=new WeakSet,PS=function(e){Qe(this,tg,MS).call(this),le(this,Oa,e),!(Hd||ri(this.options.enabled,P(this,yt))===!1||!SS(P(this,Oa))||P(this,Oa)===0)&&le(this,sc,setInterval(()=>{(this.options.refetchIntervalInBackground||qC.isFocused())&&Qe(this,ac,gp).call(this)},P(this,Oa)))},Jm=new WeakSet,RS=function(){Qe(this,Qm,CS).call(this),Qe(this,Xm,PS).call(this,Qe(this,Ym,OS).call(this))},eg=new WeakSet,TS=function(){P(this,ic)&&(clearTimeout(P(this,ic)),le(this,ic,void 0))},tg=new WeakSet,MS=function(){P(this,sc)&&(clearInterval(P(this,sc)),le(this,sc,void 0))},ng=new WeakSet,NS=function(){const e=P(this,Dr).getQueryCache().build(P(this,Dr),this.options);if(e===P(this,yt))return;const n=P(this,yt);le(this,yt,e),le(this,Gm,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},Gx=new WeakSet,CB=function(e){dn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(P(this,pr))}),P(this,Dr).getQueryCache().notify({query:P(this,yt),type:"observerResultsUpdated"})})},o$);function BJ(t,e){return ri(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function EN(t,e){return BJ(t,e)||t.state.data!==void 0&&DS(t,e,e.refetchOnMount)}function DS(t,e,n){if(ri(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&ZC(t,e)}return!1}function kN(t,e,n,r){return(t!==e||ri(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&ZC(t,n)}function ZC(t,e){return ri(e.enabled,t)!==!1&&t.isStaleByTime(sd(e.staleTime,t))}function jJ(t,e){return!D0(t.getCurrentResult(),e)}function CN(t,e){return t.filter(n=>!e.includes(n))}function VJ(t,e,n){const r=t.slice(0);return r[e]=n,r}var lc,Yo,Md,Jr,cc,rg,og,Zx,OB,ig,AS,sg,IS,ag,LS,i$,UJ=(i$=class extends Gc{constructor(e,n,r){super();ge(this,Zx);ge(this,ig);ge(this,sg);ge(this,ag);ge(this,lc,void 0);ge(this,Yo,void 0);ge(this,Md,void 0);ge(this,Jr,void 0);ge(this,cc,void 0);ge(this,rg,void 0);ge(this,og,void 0);le(this,lc,e),le(this,Md,[]),le(this,Jr,[]),le(this,Yo,[]),this.setQueries(n)}onSubscribe(){this.listeners.size===1&&P(this,Jr).forEach(e=>{e.subscribe(n=>{Qe(this,sg,IS).call(this,e,n)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,P(this,Jr).forEach(e=>{e.destroy()})}setQueries(e,n,r){le(this,Md,e),dn.batch(()=>{const o=P(this,Jr),i=Qe(this,ig,AS).call(this,P(this,Md));i.forEach(u=>u.observer.setOptions(u.defaultedQueryOptions,r));const s=i.map(u=>u.observer),a=s.map(u=>u.getCurrentResult()),l=s.some((u,d)=>u!==o[d]);o.length===s.length&&!l||(le(this,Jr,s),le(this,Yo,a),this.hasListeners()&&(CN(o,s).forEach(u=>{u.destroy()}),CN(s,o).forEach(u=>{u.subscribe(d=>{Qe(this,sg,IS).call(this,u,d)})}),Qe(this,ag,LS).call(this)))})}getCurrentResult(){return P(this,Yo)}getQueries(){return P(this,Jr).map(e=>e.getCurrentQuery())}getObservers(){return P(this,Jr)}getOptimisticResult(e,n){const r=Qe(this,ig,AS).call(this,e),o=r.map(i=>i.observer.getOptimisticResult(i.defaultedQueryOptions));return[o,i=>Qe(this,Zx,OB).call(this,i!=null?i:o,n),()=>r.map((i,s)=>{const a=o[s];return i.defaultedQueryOptions.notifyOnChangeProps?a:i.observer.trackResult(a,l=>{r.forEach(u=>{u.observer.trackProp(l)})})})]}},lc=new WeakMap,Yo=new WeakMap,Md=new WeakMap,Jr=new WeakMap,cc=new WeakMap,rg=new WeakMap,og=new WeakMap,Zx=new WeakSet,OB=function(e,n){return n?((!P(this,cc)||P(this,Yo)!==P(this,og)||n!==P(this,rg))&&(le(this,rg,n),le(this,og,P(this,Yo)),le(this,cc,KC(P(this,cc),n(e)))),P(this,cc)):e},ig=new WeakSet,AS=function(e){const n=P(this,Jr),r=new Map(n.map(c=>[c.options.queryHash,c])),o=e.map(c=>P(this,lc).defaultQueryOptions(c)),i=o.flatMap(c=>{const f=r.get(c.queryHash);return f!=null?[{defaultedQueryOptions:c,observer:f}]:[]}),s=new Set(i.map(c=>c.defaultedQueryOptions.queryHash)),a=o.filter(c=>!s.has(c.queryHash)),l=c=>{const f=P(this,lc).defaultQueryOptions(c),p=P(this,Jr).find(m=>m.options.queryHash===f.queryHash);return p!=null?p:new GC(P(this,lc),f)},u=a.map(c=>({defaultedQueryOptions:c,observer:l(c)})),d=(c,f)=>o.indexOf(c.defaultedQueryOptions)-o.indexOf(f.defaultedQueryOptions);return i.concat(u).sort(d)},sg=new WeakSet,IS=function(e,n){const r=P(this,Jr).indexOf(e);r!==-1&&(le(this,Yo,VJ(P(this,Yo),r,n)),Qe(this,ag,LS).call(this))},ag=new WeakSet,LS=function(){dn.batch(()=>{this.listeners.forEach(e=>{e(P(this,Yo))})})},i$),Pa,Ra,Ar,ks,Nd,Py,lg,$S,s$,HJ=(s$=class extends Gc{constructor(e,n){super();ge(this,Nd);ge(this,lg);ge(this,Pa,void 0);ge(this,Ra,void 0);ge(this,Ar,void 0);ge(this,ks,void 0);le(this,Pa,e),this.setOptions(n),this.bindMethods(),Qe(this,Nd,Py).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var r;const n=this.options;this.options=P(this,Pa).defaultMutationOptions(e),D0(this.options,n)||P(this,Pa).getMutationCache().notify({type:"observerOptionsUpdated",mutation:P(this,Ar),observer:this}),(n==null?void 0:n.mutationKey)&&this.options.mutationKey&&Tc(n.mutationKey)!==Tc(this.options.mutationKey)?this.reset():((r=P(this,Ar))==null?void 0:r.state.status)==="pending"&&P(this,Ar).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=P(this,Ar))==null||e.removeObserver(this)}onMutationUpdate(e){Qe(this,Nd,Py).call(this),Qe(this,lg,$S).call(this,e)}getCurrentResult(){return P(this,Ra)}reset(){var e;(e=P(this,Ar))==null||e.removeObserver(this),le(this,Ar,void 0),Qe(this,Nd,Py).call(this),Qe(this,lg,$S).call(this)}mutate(e,n){var r;return le(this,ks,n),(r=P(this,Ar))==null||r.removeObserver(this),le(this,Ar,P(this,Pa).getMutationCache().build(P(this,Pa),this.options)),P(this,Ar).addObserver(this),P(this,Ar).execute(e)}},Pa=new WeakMap,Ra=new WeakMap,Ar=new WeakMap,ks=new WeakMap,Nd=new WeakSet,Py=function(){var n,r;const e=(r=(n=P(this,Ar))==null?void 0:n.state)!=null?r:kB();le(this,Ra,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},lg=new WeakSet,$S=function(e){dn.batch(()=>{var n,r,o,i,s,a,l,u;if(P(this,ks)&&this.hasListeners()){const d=P(this,Ra).variables,c=P(this,Ra).context;(e==null?void 0:e.type)==="success"?((r=(n=P(this,ks)).onSuccess)==null||r.call(n,e.data,d,c),(i=(o=P(this,ks)).onSettled)==null||i.call(o,e.data,null,d,c)):(e==null?void 0:e.type)==="error"&&((a=(s=P(this,ks)).onError)==null||a.call(s,e.error,d,c),(u=(l=P(this,ks)).onSettled)==null||u.call(l,void 0,e.error,d,c))}this.listeners.forEach(d=>{d(P(this,Ra))})})},s$),PB=b.exports.createContext(void 0),Sl=t=>{const e=b.exports.useContext(PB);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},WJ=({client:t,children:e})=>(b.exports.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),w(PB.Provider,{value:t,children:e})),RB=b.exports.createContext(!1),TB=()=>b.exports.useContext(RB);RB.Provider;function KJ(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var qJ=b.exports.createContext(KJ()),MB=()=>b.exports.useContext(qJ);function NB(t,e){return typeof t=="function"?t(...e):!!t}function GJ(){}var DB=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},AB=t=>{b.exports.useEffect(()=>{t.clearReset()},[t])},IB=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&NB(n,[t.error,r]),LB=t=>{t.suspense&&(typeof t.staleTime!="number"&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},ZJ=(t,e)=>t.isLoading&&t.isFetching&&!e,zS=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,FS=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function QC({queries:t,...e},n){const r=Sl(n),o=TB(),i=MB(),s=b.exports.useMemo(()=>t.map(m=>{const g=r.defaultQueryOptions(m);return g._optimisticResults=o?"isRestoring":"optimistic",g}),[t,r,o]);s.forEach(m=>{LB(m),DB(m,i)}),AB(i);const[a]=b.exports.useState(()=>new UJ(r,s,e)),[l,u,d]=a.getOptimisticResult(s,e.combine);b.exports.useSyncExternalStore(b.exports.useCallback(m=>o?()=>{}:a.subscribe(dn.batchCalls(m)),[a,o]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),b.exports.useEffect(()=>{a.setQueries(s,e,{listeners:!1})},[s,e,a]);const f=l.some((m,g)=>zS(s[g],m))?l.flatMap((m,g)=>{const x=s[g];if(x){const v=new GC(r,x);if(zS(x,m))return FS(x,v,i);ZJ(m,o)&&FS(x,v,i)}return[]}):[];if(f.length>0)throw Promise.all(f);const p=l.find((m,g)=>{const x=s[g];return x&&IB({result:m,errorResetBoundary:i,throwOnError:x.throwOnError,query:r.getQueryCache().get(x.queryHash)})});if(p!=null&&p.error)throw p.error;return u(d())}function QJ(t,e,n){var u,d,c,f;const r=Sl(n),o=TB(),i=MB(),s=r.defaultQueryOptions(t);(d=(u=r.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||d.call(u,s),s._optimisticResults=o?"isRestoring":"optimistic",LB(s),DB(s,i),AB(i);const[a]=b.exports.useState(()=>new e(r,s)),l=a.getOptimisticResult(s);if(b.exports.useSyncExternalStore(b.exports.useCallback(p=>{const m=o?()=>{}:a.subscribe(dn.batchCalls(p));return a.updateResult(),m},[a,o]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),b.exports.useEffect(()=>{a.setOptions(s,{listeners:!1})},[s,a]),zS(s,l))throw FS(s,a,i);if(IB({result:l,errorResetBoundary:i,throwOnError:s.throwOnError,query:r.getQueryCache().get(s.queryHash)}))throw l.error;return(f=(c=r.getDefaultOptions().queries)==null?void 0:c._experimental_afterQuery)==null||f.call(c,s,l),s.notifyOnChangeProps?l:a.trackResult(l)}function D_(t,e){return QJ(t,GC,e)}function YJ(t,e){const n=Sl(e),[r]=b.exports.useState(()=>new HJ(n,t));b.exports.useEffect(()=>{r.setOptions(t)},[r,t]);const o=b.exports.useSyncExternalStore(b.exports.useCallback(s=>r.subscribe(dn.batchCalls(s)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=b.exports.useCallback((s,a)=>{r.mutate(s,a).catch(GJ)},[r]);if(o.error&&NB(r.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:i,mutateAsync:o.mutate}}function $B({queryKey:t,queryFn:e,mutateFn:n,editFn:r}){const o=Sl(),{data:i,isLoading:s,error:a}=D_({queryKey:t,queryFn:e,staleTime:1/0}),{mutate:l,isPending:u,isError:d,isSuccess:c}=YJ({mutationFn:n,onMutate:async f=>{await o.cancelQueries({queryKey:t});const p=o.getQueryData(t);return o.setQueryData(t,m=>{r(m,f),console.log("new state",f)}),{previousData:p}},onError:(f,p,m)=>{o.setQueryData(t,m==null?void 0:m.previousData),console.error(f)},onSettled:()=>{o.invalidateQueries({queryKey:t})}});return a&&console.error(a),{data:i,isLoading:s,error:a,mutate:l,isError:d,isPending:u,isSuccess:c}}var wt;(function(t){t.assertEqual=o=>o;function e(o){}t.assertIs=e;function n(o){throw new Error}t.assertNever=n,t.arrayToEnum=o=>{const i={};for(const s of o)i[s]=s;return i},t.getValidEnumValues=o=>{const i=t.objectKeys(o).filter(a=>typeof o[o[a]]!="number"),s={};for(const a of i)s[a]=o[a];return t.objectValues(s)},t.objectValues=o=>t.objectKeys(o).map(function(i){return o[i]}),t.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const i=[];for(const s in o)Object.prototype.hasOwnProperty.call(o,s)&&i.push(s);return i},t.find=(o,i)=>{for(const s of o)if(i(s))return s},t.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function r(o,i=" | "){return o.map(s=>typeof s=="string"?`'${s}'`:s).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(o,i)=>typeof i=="bigint"?i.toString():i})(wt||(wt={}));var BS;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(BS||(BS={}));const ve=wt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ya=t=>{switch(typeof t){case"undefined":return ve.undefined;case"string":return ve.string;case"number":return isNaN(t)?ve.nan:ve.number;case"boolean":return ve.boolean;case"function":return ve.function;case"bigint":return ve.bigint;case"symbol":return ve.symbol;case"object":return Array.isArray(t)?ve.array:t===null?ve.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ve.promise:typeof Map<"u"&&t instanceof Map?ve.map:typeof Set<"u"&&t instanceof Set?ve.set:typeof Date<"u"&&t instanceof Date?ve.date:ve.object;default:return ve.unknown}},Y=wt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),XJ=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class uo extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},o=i=>{for(const s of i.issues)if(s.code==="invalid_union")s.unionErrors.map(o);else if(s.code==="invalid_return_type")o(s.returnTypeError);else if(s.code==="invalid_arguments")o(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let a=r,l=0;for(;l<s.path.length;){const u=s.path[l];l===s.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(s))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return o(this),r}static assert(e){if(!(e instanceof uo))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,wt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const o of this.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(e(o))):r.push(e(o));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}uo.create=t=>new uo(t);const Wd=(t,e)=>{let n;switch(t.code){case Y.invalid_type:t.received===ve.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Y.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,wt.jsonStringifyReplacer)}`;break;case Y.unrecognized_keys:n=`Unrecognized key(s) in object: ${wt.joinValues(t.keys,", ")}`;break;case Y.invalid_union:n="Invalid input";break;case Y.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${wt.joinValues(t.options)}`;break;case Y.invalid_enum_value:n=`Invalid enum value. Expected ${wt.joinValues(t.options)}, received '${t.received}'`;break;case Y.invalid_arguments:n="Invalid function arguments";break;case Y.invalid_return_type:n="Invalid function return type";break;case Y.invalid_date:n="Invalid date";break;case Y.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:wt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Y.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Y.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Y.custom:n="Invalid input";break;case Y.invalid_intersection_types:n="Intersection results could not be merged";break;case Y.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Y.not_finite:n="Number must be finite";break;default:n=e.defaultError,wt.assertNever(t)}return{message:n}};let zB=Wd;function JJ(t){zB=t}function I0(){return zB}const L0=t=>{const{data:e,path:n,errorMaps:r,issueData:o}=t,i=[...n,...o.path||[]],s={...o,path:i};if(o.message!==void 0)return{...o,path:i,message:o.message};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(s,{data:e,defaultError:a}).message;return{...o,path:i,message:a}},eee=[];function me(t,e){const n=I0(),r=L0({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Wd?void 0:Wd].filter(o=>!!o)});t.common.issues.push(r)}class or{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const o of n){if(o.status==="aborted")return Ze;o.status==="dirty"&&e.dirty(),r.push(o.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const o of n){const i=await o.key,s=await o.value;r.push({key:i,value:s})}return or.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const o of n){const{key:i,value:s}=o;if(i.status==="aborted"||s.status==="aborted")return Ze;i.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof s.value<"u"||o.alwaysSet)&&(r[i.value]=s.value)}return{status:e.value,value:r}}}const Ze=Object.freeze({status:"aborted"}),qu=t=>({status:"dirty",value:t}),_r=t=>({status:"valid",value:t}),jS=t=>t.status==="aborted",VS=t=>t.status==="dirty",am=t=>t.status==="valid",lm=t=>typeof Promise<"u"&&t instanceof Promise;function $0(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function FB(t,e,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(t,n):o?o.value=n:e.set(t,n),n}var Le;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Le||(Le={}));var vp,yp;class Zi{constructor(e,n,r,o){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ON=(t,e)=>{if(am(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new uo(t.common.issues);return this._error=n,this._error}}};function it(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:o}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(s,a)=>{var l,u;const{message:d}=t;return s.code==="invalid_enum_value"?{message:d!=null?d:a.defaultError}:typeof a.data>"u"?{message:(l=d!=null?d:r)!==null&&l!==void 0?l:a.defaultError}:s.code!=="invalid_type"?{message:a.defaultError}:{message:(u=d!=null?d:n)!==null&&u!==void 0?u:a.defaultError}},description:o}}class ft{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return ya(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ya(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new or,ctx:{common:e.parent.common,data:e.data,parsedType:ya(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(lm(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const o={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ya(e)},i=this._parseSync({data:e,path:o.path,parent:o});return ON(o,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ya(e)},o=this._parse({data:e,path:r.path,parent:r}),i=await(lm(o)?o:Promise.resolve(o));return ON(r,i)}refine(e,n){const r=o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,i)=>{const s=e(o),a=()=>i.addIssue({code:Y.custom,...r(o)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(a(),!1)):s?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,o)=>e(r)?!0:(o.addIssue(typeof n=="function"?n(r,o):n),!1))}_refinement(e){return new _i({schema:this,typeName:Ge.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Ki.create(this,this._def)}nullable(){return sl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return pi.create(this,this._def)}promise(){return qd.create(this,this._def)}or(e){return fm.create([this,e],this._def)}and(e){return pm.create(this,e,this._def)}transform(e){return new _i({...it(this._def),schema:this,typeName:Ge.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new ym({...it(this._def),innerType:this,defaultValue:n,typeName:Ge.ZodDefault})}brand(){return new YC({typeName:Ge.ZodBranded,type:this,...it(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new xm({...it(this._def),innerType:this,catchValue:n,typeName:Ge.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return wg.create(this,e)}readonly(){return _m.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const tee=/^c[^\s-]{8,}$/i,nee=/^[0-9a-z]+$/,ree=/^[0-9A-HJKMNP-TV-Z]{26}$/,oee=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,iee=/^[a-z0-9_-]{21}$/i,see=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,aee=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,lee="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let vb;const cee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,uee=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,dee=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,BB="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",fee=new RegExp(`^${BB}$`);function jB(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function pee(t){return new RegExp(`^${jB(t)}$`)}function VB(t){let e=`${BB}T${jB(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function hee(t,e){return!!((e==="v4"||!e)&&cee.test(t)||(e==="v6"||!e)&&uee.test(t))}class ci extends ft{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ve.string){const i=this._getOrReturnCtx(e);return me(i,{code:Y.invalid_type,expected:ve.string,received:i.parsedType}),Ze}const r=new or;let o;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(o=this._getOrReturnCtx(e,o),me(o,{code:Y.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(o=this._getOrReturnCtx(e,o),me(o,{code:Y.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const s=e.data.length>i.value,a=e.data.length<i.value;(s||a)&&(o=this._getOrReturnCtx(e,o),s?me(o,{code:Y.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&me(o,{code:Y.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")aee.test(e.data)||(o=this._getOrReturnCtx(e,o),me(o,{validation:"email",code:Y.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")vb||(vb=new RegExp(lee,"u")),vb.test(e.data)||(o=this._getOrReturnCtx(e,o),me(o,{validation:"emoji",code:Y.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")oee.test(e.data)||(o=this._getOrReturnCtx(e,o),me(o,{validation:"uuid",code:Y.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")iee.test(e.data)||(o=this._getOrReturnCtx(e,o),me(o,{validation:"nanoid",code:Y.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")tee.test(e.data)||(o=this._getOrReturnCtx(e,o),me(o,{validation:"cuid",code:Y.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")nee.test(e.data)||(o=this._getOrReturnCtx(e,o),me(o,{validation:"cuid2",code:Y.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")ree.test(e.data)||(o=this._getOrReturnCtx(e,o),me(o,{validation:"ulid",code:Y.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),me(o,{validation:"url",code:Y.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),me(o,{validation:"regex",code:Y.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(o=this._getOrReturnCtx(e,o),me(o,{code:Y.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(o=this._getOrReturnCtx(e,o),me(o,{code:Y.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(o=this._getOrReturnCtx(e,o),me(o,{code:Y.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?VB(i).test(e.data)||(o=this._getOrReturnCtx(e,o),me(o,{code:Y.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?fee.test(e.data)||(o=this._getOrReturnCtx(e,o),me(o,{code:Y.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?pee(i).test(e.data)||(o=this._getOrReturnCtx(e,o),me(o,{code:Y.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?see.test(e.data)||(o=this._getOrReturnCtx(e,o),me(o,{validation:"duration",code:Y.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?hee(e.data,i.version)||(o=this._getOrReturnCtx(e,o),me(o,{validation:"ip",code:Y.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?dee.test(e.data)||(o=this._getOrReturnCtx(e,o),me(o,{validation:"base64",code:Y.invalid_string,message:i.message}),r.dirty()):wt.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(o=>e.test(o),{validation:n,code:Y.invalid_string,...Le.errToObj(r)})}_addCheck(e){return new ci({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Le.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Le.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Le.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Le.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Le.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Le.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Le.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Le.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Le.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Le.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...Le.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Le.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Le.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Le.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Le.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Le.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Le.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Le.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Le.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Le.errToObj(n)})}nonempty(e){return this.min(1,Le.errToObj(e))}trim(){return new ci({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ci({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ci({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ci.create=t=>{var e;return new ci({checks:[],typeName:Ge.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...it(t)})};function mee(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,o=n>r?n:r,i=parseInt(t.toFixed(o).replace(".","")),s=parseInt(e.toFixed(o).replace(".",""));return i%s/Math.pow(10,o)}class rl extends ft{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ve.number){const i=this._getOrReturnCtx(e);return me(i,{code:Y.invalid_type,expected:ve.number,received:i.parsedType}),Ze}let r;const o=new or;for(const i of this._def.checks)i.kind==="int"?wt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),me(r,{code:Y.invalid_type,expected:"integer",received:"float",message:i.message}),o.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),me(r,{code:Y.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),o.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),me(r,{code:Y.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),o.dirty()):i.kind==="multipleOf"?mee(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),me(r,{code:Y.not_multiple_of,multipleOf:i.value,message:i.message}),o.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),me(r,{code:Y.not_finite,message:i.message}),o.dirty()):wt.assertNever(i);return{status:o.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Le.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Le.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Le.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Le.toString(n))}setLimit(e,n,r,o){return new rl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Le.toString(o)}]})}_addCheck(e){return new rl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Le.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Le.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Le.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Le.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Le.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Le.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Le.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Le.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Le.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&wt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}rl.create=t=>new rl({checks:[],typeName:Ge.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...it(t)});class ol extends ft{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ve.bigint){const i=this._getOrReturnCtx(e);return me(i,{code:Y.invalid_type,expected:ve.bigint,received:i.parsedType}),Ze}let r;const o=new or;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),me(r,{code:Y.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),o.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),me(r,{code:Y.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),o.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),me(r,{code:Y.not_multiple_of,multipleOf:i.value,message:i.message}),o.dirty()):wt.assertNever(i);return{status:o.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Le.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Le.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Le.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Le.toString(n))}setLimit(e,n,r,o){return new ol({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Le.toString(o)}]})}_addCheck(e){return new ol({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Le.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Le.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Le.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Le.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Le.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ol.create=t=>{var e;return new ol({checks:[],typeName:Ge.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...it(t)})};class cm extends ft{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==ve.boolean){const r=this._getOrReturnCtx(e);return me(r,{code:Y.invalid_type,expected:ve.boolean,received:r.parsedType}),Ze}return _r(e.data)}}cm.create=t=>new cm({typeName:Ge.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...it(t)});class Mc extends ft{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ve.date){const i=this._getOrReturnCtx(e);return me(i,{code:Y.invalid_type,expected:ve.date,received:i.parsedType}),Ze}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return me(i,{code:Y.invalid_date}),Ze}const r=new or;let o;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(o=this._getOrReturnCtx(e,o),me(o,{code:Y.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(o=this._getOrReturnCtx(e,o),me(o,{code:Y.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):wt.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Mc({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Le.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Le.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Mc.create=t=>new Mc({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ge.ZodDate,...it(t)});class z0 extends ft{_parse(e){if(this._getType(e)!==ve.symbol){const r=this._getOrReturnCtx(e);return me(r,{code:Y.invalid_type,expected:ve.symbol,received:r.parsedType}),Ze}return _r(e.data)}}z0.create=t=>new z0({typeName:Ge.ZodSymbol,...it(t)});class um extends ft{_parse(e){if(this._getType(e)!==ve.undefined){const r=this._getOrReturnCtx(e);return me(r,{code:Y.invalid_type,expected:ve.undefined,received:r.parsedType}),Ze}return _r(e.data)}}um.create=t=>new um({typeName:Ge.ZodUndefined,...it(t)});class dm extends ft{_parse(e){if(this._getType(e)!==ve.null){const r=this._getOrReturnCtx(e);return me(r,{code:Y.invalid_type,expected:ve.null,received:r.parsedType}),Ze}return _r(e.data)}}dm.create=t=>new dm({typeName:Ge.ZodNull,...it(t)});class Kd extends ft{constructor(){super(...arguments),this._any=!0}_parse(e){return _r(e.data)}}Kd.create=t=>new Kd({typeName:Ge.ZodAny,...it(t)});class pc extends ft{constructor(){super(...arguments),this._unknown=!0}_parse(e){return _r(e.data)}}pc.create=t=>new pc({typeName:Ge.ZodUnknown,...it(t)});class Vs extends ft{_parse(e){const n=this._getOrReturnCtx(e);return me(n,{code:Y.invalid_type,expected:ve.never,received:n.parsedType}),Ze}}Vs.create=t=>new Vs({typeName:Ge.ZodNever,...it(t)});class F0 extends ft{_parse(e){if(this._getType(e)!==ve.undefined){const r=this._getOrReturnCtx(e);return me(r,{code:Y.invalid_type,expected:ve.void,received:r.parsedType}),Ze}return _r(e.data)}}F0.create=t=>new F0({typeName:Ge.ZodVoid,...it(t)});class pi extends ft{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),o=this._def;if(n.parsedType!==ve.array)return me(n,{code:Y.invalid_type,expected:ve.array,received:n.parsedType}),Ze;if(o.exactLength!==null){const s=n.data.length>o.exactLength.value,a=n.data.length<o.exactLength.value;(s||a)&&(me(n,{code:s?Y.too_big:Y.too_small,minimum:a?o.exactLength.value:void 0,maximum:s?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),r.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(me(n,{code:Y.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),r.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(me(n,{code:Y.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,a)=>o.type._parseAsync(new Zi(n,s,n.path,a)))).then(s=>or.mergeArray(r,s));const i=[...n.data].map((s,a)=>o.type._parseSync(new Zi(n,s,n.path,a)));return or.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new pi({...this._def,minLength:{value:e,message:Le.toString(n)}})}max(e,n){return new pi({...this._def,maxLength:{value:e,message:Le.toString(n)}})}length(e,n){return new pi({...this._def,exactLength:{value:e,message:Le.toString(n)}})}nonempty(e){return this.min(1,e)}}pi.create=(t,e)=>new pi({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ge.ZodArray,...it(e)});function Eu(t){if(t instanceof Yt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Ki.create(Eu(r))}return new Yt({...t._def,shape:()=>e})}else return t instanceof pi?new pi({...t._def,type:Eu(t.element)}):t instanceof Ki?Ki.create(Eu(t.unwrap())):t instanceof sl?sl.create(Eu(t.unwrap())):t instanceof Qi?Qi.create(t.items.map(e=>Eu(e))):t}class Yt extends ft{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=wt.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ve.object){const u=this._getOrReturnCtx(e);return me(u,{code:Y.invalid_type,expected:ve.object,received:u.parsedType}),Ze}const{status:r,ctx:o}=this._processInputParams(e),{shape:i,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof Vs&&this._def.unknownKeys==="strip"))for(const u in o.data)s.includes(u)||a.push(u);const l=[];for(const u of s){const d=i[u],c=o.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new Zi(o,c,o.path,u)),alwaysSet:u in o.data})}if(this._def.catchall instanceof Vs){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:o.data[d]}});else if(u==="strict")a.length>0&&(me(o,{code:Y.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of a){const c=o.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new Zi(o,c,o.path,d)),alwaysSet:d in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const c=await d.key,f=await d.value;u.push({key:c,value:f,alwaysSet:d.alwaysSet})}return u}).then(u=>or.mergeObjectSync(r,u)):or.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return Le.errToObj,new Yt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var o,i,s,a;const l=(s=(i=(o=this._def).errorMap)===null||i===void 0?void 0:i.call(o,n,r).message)!==null&&s!==void 0?s:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=Le.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new Yt({...this._def,unknownKeys:"strip"})}passthrough(){return new Yt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Yt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Yt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ge.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Yt({...this._def,catchall:e})}pick(e){const n={};return wt.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Yt({...this._def,shape:()=>n})}omit(e){const n={};return wt.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Yt({...this._def,shape:()=>n})}deepPartial(){return Eu(this)}partial(e){const n={};return wt.objectKeys(this.shape).forEach(r=>{const o=this.shape[r];e&&!e[r]?n[r]=o:n[r]=o.optional()}),new Yt({...this._def,shape:()=>n})}required(e){const n={};return wt.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Ki;)i=i._def.innerType;n[r]=i}}),new Yt({...this._def,shape:()=>n})}keyof(){return UB(wt.objectKeys(this.shape))}}Yt.create=(t,e)=>new Yt({shape:()=>t,unknownKeys:"strip",catchall:Vs.create(),typeName:Ge.ZodObject,...it(e)});Yt.strictCreate=(t,e)=>new Yt({shape:()=>t,unknownKeys:"strict",catchall:Vs.create(),typeName:Ge.ZodObject,...it(e)});Yt.lazycreate=(t,e)=>new Yt({shape:t,unknownKeys:"strip",catchall:Vs.create(),typeName:Ge.ZodObject,...it(e)});class fm extends ft{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function o(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const s=i.map(a=>new uo(a.ctx.common.issues));return me(n,{code:Y.invalid_union,unionErrors:s}),Ze}if(n.common.async)return Promise.all(r.map(async i=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(o);{let i;const s=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=s.map(l=>new uo(l));return me(n,{code:Y.invalid_union,unionErrors:a}),Ze}}get options(){return this._def.options}}fm.create=(t,e)=>new fm({options:t,typeName:Ge.ZodUnion,...it(e)});const vs=t=>t instanceof mm?vs(t.schema):t instanceof _i?vs(t.innerType()):t instanceof gm?[t.value]:t instanceof il?t.options:t instanceof vm?wt.objectValues(t.enum):t instanceof ym?vs(t._def.innerType):t instanceof um?[void 0]:t instanceof dm?[null]:t instanceof Ki?[void 0,...vs(t.unwrap())]:t instanceof sl?[null,...vs(t.unwrap())]:t instanceof YC||t instanceof _m?vs(t.unwrap()):t instanceof xm?vs(t._def.innerType):[];class A_ extends ft{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ve.object)return me(n,{code:Y.invalid_type,expected:ve.object,received:n.parsedType}),Ze;const r=this.discriminator,o=n.data[r],i=this.optionsMap.get(o);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(me(n,{code:Y.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Ze)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const o=new Map;for(const i of n){const s=vs(i.shape[e]);if(!s.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of s){if(o.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);o.set(a,i)}}return new A_({typeName:Ge.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:o,...it(r)})}}function US(t,e){const n=ya(t),r=ya(e);if(t===e)return{valid:!0,data:t};if(n===ve.object&&r===ve.object){const o=wt.objectKeys(e),i=wt.objectKeys(t).filter(a=>o.indexOf(a)!==-1),s={...t,...e};for(const a of i){const l=US(t[a],e[a]);if(!l.valid)return{valid:!1};s[a]=l.data}return{valid:!0,data:s}}else if(n===ve.array&&r===ve.array){if(t.length!==e.length)return{valid:!1};const o=[];for(let i=0;i<t.length;i++){const s=t[i],a=e[i],l=US(s,a);if(!l.valid)return{valid:!1};o.push(l.data)}return{valid:!0,data:o}}else return n===ve.date&&r===ve.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class pm extends ft{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),o=(i,s)=>{if(jS(i)||jS(s))return Ze;const a=US(i.value,s.value);return a.valid?((VS(i)||VS(s))&&n.dirty(),{status:n.value,value:a.data}):(me(r,{code:Y.invalid_intersection_types}),Ze)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,s])=>o(i,s)):o(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}pm.create=(t,e,n)=>new pm({left:t,right:e,typeName:Ge.ZodIntersection,...it(n)});class Qi extends ft{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.array)return me(r,{code:Y.invalid_type,expected:ve.array,received:r.parsedType}),Ze;if(r.data.length<this._def.items.length)return me(r,{code:Y.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ze;!this._def.rest&&r.data.length>this._def.items.length&&(me(r,{code:Y.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((s,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Zi(r,s,r.path,a)):null}).filter(s=>!!s);return r.common.async?Promise.all(i).then(s=>or.mergeArray(n,s)):or.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Qi({...this._def,rest:e})}}Qi.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Qi({items:t,typeName:Ge.ZodTuple,rest:null,...it(e)})};class hm extends ft{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.object)return me(r,{code:Y.invalid_type,expected:ve.object,received:r.parsedType}),Ze;const o=[],i=this._def.keyType,s=this._def.valueType;for(const a in r.data)o.push({key:i._parse(new Zi(r,a,r.path,a)),value:s._parse(new Zi(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?or.mergeObjectAsync(n,o):or.mergeObjectSync(n,o)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof ft?new hm({keyType:e,valueType:n,typeName:Ge.ZodRecord,...it(r)}):new hm({keyType:ci.create(),valueType:e,typeName:Ge.ZodRecord,...it(n)})}}class B0 extends ft{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.map)return me(r,{code:Y.invalid_type,expected:ve.map,received:r.parsedType}),Ze;const o=this._def.keyType,i=this._def.valueType,s=[...r.data.entries()].map(([a,l],u)=>({key:o._parse(new Zi(r,a,r.path,[u,"key"])),value:i._parse(new Zi(r,l,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of s){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return Ze;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of s){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return Ze;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}}}}B0.create=(t,e,n)=>new B0({valueType:e,keyType:t,typeName:Ge.ZodMap,...it(n)});class Nc extends ft{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.set)return me(r,{code:Y.invalid_type,expected:ve.set,received:r.parsedType}),Ze;const o=this._def;o.minSize!==null&&r.data.size<o.minSize.value&&(me(r,{code:Y.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&r.data.size>o.maxSize.value&&(me(r,{code:Y.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());const i=this._def.valueType;function s(l){const u=new Set;for(const d of l){if(d.status==="aborted")return Ze;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((l,u)=>i._parse(new Zi(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>s(l)):s(a)}min(e,n){return new Nc({...this._def,minSize:{value:e,message:Le.toString(n)}})}max(e,n){return new Nc({...this._def,maxSize:{value:e,message:Le.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Nc.create=(t,e)=>new Nc({valueType:t,minSize:null,maxSize:null,typeName:Ge.ZodSet,...it(e)});class ad extends ft{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ve.function)return me(n,{code:Y.invalid_type,expected:ve.function,received:n.parsedType}),Ze;function r(a,l){return L0({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,I0(),Wd].filter(u=>!!u),issueData:{code:Y.invalid_arguments,argumentsError:l}})}function o(a,l){return L0({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,I0(),Wd].filter(u=>!!u),issueData:{code:Y.invalid_return_type,returnTypeError:l}})}const i={errorMap:n.common.contextualErrorMap},s=n.data;if(this._def.returns instanceof qd){const a=this;return _r(async function(...l){const u=new uo([]),d=await a._def.args.parseAsync(l,i).catch(p=>{throw u.addIssue(r(l,p)),u}),c=await Reflect.apply(s,this,d);return await a._def.returns._def.type.parseAsync(c,i).catch(p=>{throw u.addIssue(o(c,p)),u})})}else{const a=this;return _r(function(...l){const u=a._def.args.safeParse(l,i);if(!u.success)throw new uo([r(l,u.error)]);const d=Reflect.apply(s,this,u.data),c=a._def.returns.safeParse(d,i);if(!c.success)throw new uo([o(d,c.error)]);return c.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ad({...this._def,args:Qi.create(e).rest(pc.create())})}returns(e){return new ad({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new ad({args:e||Qi.create([]).rest(pc.create()),returns:n||pc.create(),typeName:Ge.ZodFunction,...it(r)})}}class mm extends ft{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}mm.create=(t,e)=>new mm({getter:t,typeName:Ge.ZodLazy,...it(e)});class gm extends ft{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return me(n,{received:n.data,code:Y.invalid_literal,expected:this._def.value}),Ze}return{status:"valid",value:e.data}}get value(){return this._def.value}}gm.create=(t,e)=>new gm({value:t,typeName:Ge.ZodLiteral,...it(e)});function UB(t,e){return new il({values:t,typeName:Ge.ZodEnum,...it(e)})}class il extends ft{constructor(){super(...arguments),vp.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return me(n,{expected:wt.joinValues(r),received:n.parsedType,code:Y.invalid_type}),Ze}if($0(this,vp,"f")||FB(this,vp,new Set(this._def.values),"f"),!$0(this,vp,"f").has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return me(n,{received:n.data,code:Y.invalid_enum_value,options:r}),Ze}return _r(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return il.create(e,{...this._def,...n})}exclude(e,n=this._def){return il.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}vp=new WeakMap;il.create=UB;class vm extends ft{constructor(){super(...arguments),yp.set(this,void 0)}_parse(e){const n=wt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ve.string&&r.parsedType!==ve.number){const o=wt.objectValues(n);return me(r,{expected:wt.joinValues(o),received:r.parsedType,code:Y.invalid_type}),Ze}if($0(this,yp,"f")||FB(this,yp,new Set(wt.getValidEnumValues(this._def.values)),"f"),!$0(this,yp,"f").has(e.data)){const o=wt.objectValues(n);return me(r,{received:r.data,code:Y.invalid_enum_value,options:o}),Ze}return _r(e.data)}get enum(){return this._def.values}}yp=new WeakMap;vm.create=(t,e)=>new vm({values:t,typeName:Ge.ZodNativeEnum,...it(e)});class qd extends ft{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ve.promise&&n.common.async===!1)return me(n,{code:Y.invalid_type,expected:ve.promise,received:n.parsedType}),Ze;const r=n.parsedType===ve.promise?n.data:Promise.resolve(n.data);return _r(r.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}}qd.create=(t,e)=>new qd({type:t,typeName:Ge.ZodPromise,...it(e)});class _i extends ft{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ge.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),o=this._def.effect||null,i={addIssue:s=>{me(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),o.type==="preprocess"){const s=o.transform(r.data,i);if(r.common.async)return Promise.resolve(s).then(async a=>{if(n.value==="aborted")return Ze;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?Ze:l.status==="dirty"||n.value==="dirty"?qu(l.value):l});{if(n.value==="aborted")return Ze;const a=this._def.schema._parseSync({data:s,path:r.path,parent:r});return a.status==="aborted"?Ze:a.status==="dirty"||n.value==="dirty"?qu(a.value):a}}if(o.type==="refinement"){const s=a=>{const l=o.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Ze:(a.status==="dirty"&&n.dirty(),s(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Ze:(a.status==="dirty"&&n.dirty(),s(a.value).then(()=>({status:n.value,value:a.value}))))}if(o.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!am(s))return s;const a=o.transform(s.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>am(s)?Promise.resolve(o.transform(s.value,i)).then(a=>({status:n.value,value:a})):s);wt.assertNever(o)}}_i.create=(t,e,n)=>new _i({schema:t,typeName:Ge.ZodEffects,effect:e,...it(n)});_i.createWithPreprocess=(t,e,n)=>new _i({schema:e,effect:{type:"preprocess",transform:t},typeName:Ge.ZodEffects,...it(n)});class Ki extends ft{_parse(e){return this._getType(e)===ve.undefined?_r(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ki.create=(t,e)=>new Ki({innerType:t,typeName:Ge.ZodOptional,...it(e)});class sl extends ft{_parse(e){return this._getType(e)===ve.null?_r(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}sl.create=(t,e)=>new sl({innerType:t,typeName:Ge.ZodNullable,...it(e)});class ym extends ft{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ve.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}ym.create=(t,e)=>new ym({innerType:t,typeName:Ge.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...it(e)});class xm extends ft{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},o=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return lm(o)?o.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new uo(r.common.issues)},input:r.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new uo(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}xm.create=(t,e)=>new xm({innerType:t,typeName:Ge.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...it(e)});class j0 extends ft{_parse(e){if(this._getType(e)!==ve.nan){const r=this._getOrReturnCtx(e);return me(r,{code:Y.invalid_type,expected:ve.nan,received:r.parsedType}),Ze}return{status:"valid",value:e.data}}}j0.create=t=>new j0({typeName:Ge.ZodNaN,...it(t)});const gee=Symbol("zod_brand");class YC extends ft{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class wg extends ft{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ze:i.status==="dirty"?(n.dirty(),qu(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const o=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Ze:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:r.path,parent:r})}}static create(e,n){return new wg({in:e,out:n,typeName:Ge.ZodPipeline})}}class _m extends ft{_parse(e){const n=this._def.innerType._parse(e),r=o=>(am(o)&&(o.value=Object.freeze(o.value)),o);return lm(n)?n.then(o=>r(o)):r(n)}unwrap(){return this._def.innerType}}_m.create=(t,e)=>new _m({innerType:t,typeName:Ge.ZodReadonly,...it(e)});function HB(t,e={},n){return t?Kd.create().superRefine((r,o)=>{var i,s;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(s=(i=a.fatal)!==null&&i!==void 0?i:n)!==null&&s!==void 0?s:!0,u=typeof a=="string"?{message:a}:a;o.addIssue({code:"custom",...u,fatal:l})}}):Kd.create()}const vee={object:Yt.lazycreate};var Ge;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ge||(Ge={}));const yee=(t,e={message:`Input not instance of ${t.name}`})=>HB(n=>n instanceof t,e),WB=ci.create,KB=rl.create,xee=j0.create,_ee=ol.create,qB=cm.create,wee=Mc.create,bee=z0.create,See=um.create,Eee=dm.create,kee=Kd.create,Cee=pc.create,Oee=Vs.create,Pee=F0.create,Ree=pi.create,Tee=Yt.create,Mee=Yt.strictCreate,Nee=fm.create,Dee=A_.create,Aee=pm.create,Iee=Qi.create,Lee=hm.create,$ee=B0.create,zee=Nc.create,Fee=ad.create,Bee=mm.create,jee=gm.create,Vee=il.create,Uee=vm.create,Hee=qd.create,PN=_i.create,Wee=Ki.create,Kee=sl.create,qee=_i.createWithPreprocess,Gee=wg.create,Zee=()=>WB().optional(),Qee=()=>KB().optional(),Yee=()=>qB().optional(),Xee={string:t=>ci.create({...t,coerce:!0}),number:t=>rl.create({...t,coerce:!0}),boolean:t=>cm.create({...t,coerce:!0}),bigint:t=>ol.create({...t,coerce:!0}),date:t=>Mc.create({...t,coerce:!0})},Jee=Ze;var be=Object.freeze({__proto__:null,defaultErrorMap:Wd,setErrorMap:JJ,getErrorMap:I0,makeIssue:L0,EMPTY_PATH:eee,addIssueToContext:me,ParseStatus:or,INVALID:Ze,DIRTY:qu,OK:_r,isAborted:jS,isDirty:VS,isValid:am,isAsync:lm,get util(){return wt},get objectUtil(){return BS},ZodParsedType:ve,getParsedType:ya,ZodType:ft,datetimeRegex:VB,ZodString:ci,ZodNumber:rl,ZodBigInt:ol,ZodBoolean:cm,ZodDate:Mc,ZodSymbol:z0,ZodUndefined:um,ZodNull:dm,ZodAny:Kd,ZodUnknown:pc,ZodNever:Vs,ZodVoid:F0,ZodArray:pi,ZodObject:Yt,ZodUnion:fm,ZodDiscriminatedUnion:A_,ZodIntersection:pm,ZodTuple:Qi,ZodRecord:hm,ZodMap:B0,ZodSet:Nc,ZodFunction:ad,ZodLazy:mm,ZodLiteral:gm,ZodEnum:il,ZodNativeEnum:vm,ZodPromise:qd,ZodEffects:_i,ZodTransformer:_i,ZodOptional:Ki,ZodNullable:sl,ZodDefault:ym,ZodCatch:xm,ZodNaN:j0,BRAND:gee,ZodBranded:YC,ZodPipeline:wg,ZodReadonly:_m,custom:HB,Schema:ft,ZodSchema:ft,late:vee,get ZodFirstPartyTypeKind(){return Ge},coerce:Xee,any:kee,array:Ree,bigint:_ee,boolean:qB,date:wee,discriminatedUnion:Dee,effect:PN,enum:Vee,function:Fee,instanceof:yee,intersection:Aee,lazy:Bee,literal:jee,map:$ee,nan:xee,nativeEnum:Uee,never:Oee,null:Eee,nullable:Kee,number:KB,object:Tee,oboolean:Yee,onumber:Qee,optional:Wee,ostring:Zee,pipeline:Gee,preprocess:qee,promise:Hee,record:Lee,set:zee,strictObject:Mee,string:WB,symbol:bee,transformer:PN,tuple:Iee,undefined:See,union:Nee,unknown:Cee,void:Pee,NEVER:Jee,ZodIssueCode:Y,quotelessJson:XJ,ZodError:uo});const ete=be.enum(["object","createObject","objectType","createObjectType"]),tte=be.object({type:ete.default("object"),id:be.string()}),nte=be.object({activeTab:be.string().nullable(),tabs:be.array(tte).default([])});be.object({isSidebarOpen:be.boolean(),tabsState:nte,isBotSidebarOpen:be.boolean().optional()});function XC(){return $B({queryKey:["state"],queryFn:async()=>JSON.parse(await bJ()),editFn:(t,e)=>({...t,...e}),mutateFn:t=>EJ(JSON.stringify(t))})}const rte=(t,e,n,r)=>{if(n.tabsState.tabs.find(i=>i.id===t)){GB(t,n,r);return}const o=Fr(n,i=>{i.tabsState.tabs.push({type:e,id:t}),i.tabsState.activeTab=t});r(o)},ote=(t,e,n)=>{const r=Fr(e,o=>{var i,s;o.tabsState.tabs=o.tabsState.tabs.filter(a=>a.id!==t),o.tabsState.activeTab===t&&(o.tabsState.activeTab=(s=(i=o.tabsState.tabs[0])==null?void 0:i.id)!=null?s:null)});n(r)},GB=(t,e,n)=>{if(e.tabsState.activeTab===t)return;const r=Fr(e,o=>{o.tabsState.activeTab=t});n(r)};function bg(){const{data:t,mutate:e,isLoading:n,error:r}=XC();return t?{tabsState:t.tabsState,createTab:(o,i)=>rte(o,i,t,e),removeTab:o=>ote(o,t,e),setActiveTab:o=>GB(o,t,e),isLoading:n,error:r}:{tabsState:{tabs:[],activeTab:null},createTab:()=>{},removeTab:()=>{},setActiveTab:()=>{},isLoading:n,error:r}}const ite=(t,e,n)=>{const r=Fr(e,o=>{o.isSidebarOpen=t});n(r)};function JC(){const{data:t,mutate:e,isLoading:n,error:r}=XC();return t?{isSidebarOpen:t.isSidebarOpen,setSidebarOpen:o=>ite(o,t,e),isLoading:n,error:r}:{isSidebarOpen:!0,setSidebarOpen:()=>{},isLoading:n,error:r}}function ste(t,e,n){const r=Fr(e,o=>{o.isBotSidebarOpen=t});n(r)}function eO(){var o;const{data:t,mutate:e,isLoading:n,error:r}=XC();return t?{isBotSidebarOpen:(o=t.isBotSidebarOpen)!=null?o:!1,setBotSidebarOpen:i=>ste(i,t,e),isLoading:n,error:r}:{isBotSidebarOpen:!0,setBotSidebarOpen:()=>{},isLoading:n,error:r}}var Fn=[];for(var yb=0;yb<256;++yb)Fn.push((yb+256).toString(16).slice(1));function ate(t,e=0){return(Fn[t[e+0]]+Fn[t[e+1]]+Fn[t[e+2]]+Fn[t[e+3]]+"-"+Fn[t[e+4]]+Fn[t[e+5]]+"-"+Fn[t[e+6]]+Fn[t[e+7]]+"-"+Fn[t[e+8]]+Fn[t[e+9]]+"-"+Fn[t[e+10]]+Fn[t[e+11]]+Fn[t[e+12]]+Fn[t[e+13]]+Fn[t[e+14]]+Fn[t[e+15]]).toLowerCase()}var Wv,lte=new Uint8Array(16);function cte(){if(!Wv&&(Wv=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Wv))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wv(lte)}var ute=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const RN={randomUUID:ute};function Oh(t,e,n){if(RN.randomUUID&&!e&&!t)return RN.randomUUID();t=t||{};var r=t.random||(t.rng||cte)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=r[o];return e}return ate(r)}var dte="Separator",TN="horizontal",fte=["horizontal","vertical"],ZB=b.exports.forwardRef((t,e)=>{const{decorative:n,orientation:r=TN,...o}=t,i=pte(r)?r:TN,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return w(rt.div,{"data-orientation":i,...a,...o,ref:e})});ZB.displayName=dte;function pte(t){return fte.includes(t)}var QB=ZB;const Sg=b.exports.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},o)=>w(QB,{ref:o,decorative:n,orientation:e,className:Te("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Sg.displayName=QB.displayName;const hte=be.enum(["visible","hidden","hidden_empty"]),YB=be.enum(["text","number","date","boolean","object"]),pu=be.object({type:be.union([YB,be.string()]),name:be.string(),aiAutomated:be.boolean().optional(),visibility:hte.default("visible"),icon:be.string().optional(),defaultValue:be.any().optional()}),mte=be.enum(["number","currency","percent","phone"]),gte=be.enum(["date","date_time","time","month_year","year"]),XB=be.union([pu.extend({type:be.literal("text"),name:be.string().default("Text"),defaultValue:be.string().optional().default("")}),pu.extend({type:be.literal("number"),format:mte.default("number"),name:be.string().default("Number"),defaultValue:be.number().optional().default(0)}),pu.extend({type:be.literal("date"),format:gte,name:be.string().default("Date"),defaultValue:be.date().optional().default(new Date)}),pu.extend({type:be.literal("boolean"),name:be.string().default("Boolean"),defaultValue:be.boolean().optional().default(!1)}),pu.extend({type:be.literal("object"),name:be.string().default("Object"),defaultValue:be.object({}).optional().default({})}),pu]),vte=XB.parse({type:"text",name:"Text",visibility:"visible",icon:"\u{1F4DD}"}),yte=be.record(XB),xte=be.enum(["page","file","video","drawing","task","link","note","tag"]),JB=be.object({id:be.string().uuid(),name:be.string().min(2,{message:"Name must be at least 2 characters long"}),icon:be.string(),baseType:xte,description:be.string().optional(),color:be.string(),properties:yte}),MN=t=>{let e;const n=new Set,r=(u,d)=>{const c=typeof u=="function"?u(e):u;if(!Object.is(c,e)){const f=e;e=(d!=null?d:typeof c!="object"||c===null)?c:Object.assign({},e,c),n.forEach(p=>p(e,f))}},o=()=>e,a={setState:r,getState:o,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=e=t(r,o,a);return a},_te=t=>t?MN(t):MN,wte=t=>t;function bte(t,e=wte){const n=$e.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return $e.useDebugValue(n),n}const NN=t=>{const e=_te(t),n=r=>bte(e,r);return Object.assign(n,e),n},e3=t=>t?NN(t):NN,t3="objectTypes",Ste="objectType";function n3(){return D_({queryKey:[t3],queryFn:async()=>{const t=await vJ();return t||[]}})}function r3(t){return QC({queries:t?t.map(n=>({queryKey:[Ste,n],queryFn:async()=>{const r=await wJ(n);console.log(r);const o=JB.safeParse(JSON.parse(r));if(o.success)return console.log(o.data),o.data;throw console.log(o.error.errors),o.error.errors},retry:0,enabled:!!n})):[]})}function Ete(t){return async e=>{const n={...e,id:t,baseType:"page"};await SJ(t,JSON.stringify(n))}}const o3=e3(t=>({objectTypesMap:{},addObjectType:e=>t(n=>({objectTypesMap:{...n.objectTypesMap,[e.id]:e}})),updateObjectType:e=>t(n=>({objectTypesMap:{...n.objectTypesMap,[e.id]:e}})),deleteObjectType:e=>t(n=>{const{[e.id]:r,...o}=n.objectTypesMap;return{objectTypesMap:o}})}));function kte(t,e){return b.exports.useReducer((n,r)=>{const o=e[n][r];return o!=null?o:n},t)}var Ei=t=>{const{present:e,children:n}=t,r=Cte(e),o=typeof n=="function"?n({present:r.isPresent}):b.exports.Children.only(n),i=Mt(r.ref,Ote(o));return typeof n=="function"||r.isPresent?b.exports.cloneElement(o,{ref:i}):null};Ei.displayName="Presence";function Cte(t){const[e,n]=b.exports.useState(),r=b.exports.useRef({}),o=b.exports.useRef(t),i=b.exports.useRef("none"),s=t?"mounted":"unmounted",[a,l]=kte(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.exports.useEffect(()=>{const u=Kv(r.current);i.current=a==="mounted"?u:"none"},[a]),xr(()=>{const u=r.current,d=o.current;if(d!==t){const f=i.current,p=Kv(u);t?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,l]),xr(()=>{if(e){const u=c=>{const p=Kv(r.current).includes(c.animationName);c.target===e&&p&&zo.exports.flushSync(()=>l("ANIMATION_END"))},d=c=>{c.target===e&&(i.current=Kv(r.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",u),e.addEventListener("animationend",u),()=>{e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",u),e.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:b.exports.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Kv(t){return(t==null?void 0:t.animationName)||"none"}function Ote(t){var r,o;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var xb="rovingFocusGroup.onEntryFocus",Pte={bubbles:!1,cancelable:!0},I_="RovingFocusGroup",[HS,i3,Rte]=EC(I_),[Tte,L_]=es(I_,[Rte]),[Mte,Nte]=Tte(I_),s3=b.exports.forwardRef((t,e)=>w(HS.Provider,{scope:t.__scopeRovingFocusGroup,children:w(HS.Slot,{scope:t.__scopeRovingFocusGroup,children:w(Dte,{...t,ref:e})})}));s3.displayName=I_;var Dte=b.exports.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:i,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...c}=t,f=b.exports.useRef(null),p=Mt(e,f),m=v_(i),[g=null,x]=nl({prop:s,defaultProp:a,onChange:l}),[v,h]=b.exports.useState(!1),_=Ao(u),y=i3(n),S=b.exports.useRef(!1),[O,k]=b.exports.useState(0);return b.exports.useEffect(()=>{const E=f.current;if(E)return E.addEventListener(xb,_),()=>E.removeEventListener(xb,_)},[_]),w(Mte,{scope:n,orientation:r,dir:m,loop:o,currentTabStopId:g,onItemFocus:b.exports.useCallback(E=>x(E),[x]),onItemShiftTab:b.exports.useCallback(()=>h(!0),[]),onFocusableItemAdd:b.exports.useCallback(()=>k(E=>E+1),[]),onFocusableItemRemove:b.exports.useCallback(()=>k(E=>E-1),[]),children:w(rt.div,{tabIndex:v||O===0?-1:0,"data-orientation":r,...c,ref:p,style:{outline:"none",...t.style},onMouseDown:Re(t.onMouseDown,()=>{S.current=!0}),onFocus:Re(t.onFocus,E=>{const T=!S.current;if(E.target===E.currentTarget&&T&&!v){const D=new CustomEvent(xb,Pte);if(E.currentTarget.dispatchEvent(D),!D.defaultPrevented){const j=y().filter(X=>X.focusable),A=j.find(X=>X.active),K=j.find(X=>X.id===g),ee=[A,K,...j].filter(Boolean).map(X=>X.ref.current);c3(ee,d)}}S.current=!1}),onBlur:Re(t.onBlur,()=>h(!1))})})}),a3="RovingFocusGroupItem",l3=b.exports.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:i,...s}=t,a=fi(),l=i||a,u=Nte(a3,n),d=u.currentTabStopId===l,c=i3(n),{onFocusableItemAdd:f,onFocusableItemRemove:p}=u;return b.exports.useEffect(()=>{if(r)return f(),()=>p()},[r,f,p]),w(HS.ItemSlot,{scope:n,id:l,focusable:r,active:o,children:w(rt.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...s,ref:e,onMouseDown:Re(t.onMouseDown,m=>{r?u.onItemFocus(l):m.preventDefault()}),onFocus:Re(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:Re(t.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){u.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const g=Lte(m,u.orientation,u.dir);if(g!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let v=c().filter(h=>h.focusable).map(h=>h.ref.current);if(g==="last")v.reverse();else if(g==="prev"||g==="next"){g==="prev"&&v.reverse();const h=v.indexOf(m.currentTarget);v=u.loop?$te(v,h+1):v.slice(h+1)}setTimeout(()=>c3(v))}})})})});l3.displayName=a3;var Ate={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ite(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Lte(t,e,n){const r=Ite(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Ate[r]}function c3(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function $te(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var u3=s3,d3=l3,WS=["Enter"," "],zte=["ArrowDown","PageUp","Home"],f3=["ArrowUp","PageDown","End"],Fte=[...zte,...f3],Bte={ltr:[...WS,"ArrowRight"],rtl:[...WS,"ArrowLeft"]},jte={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Eg="Menu",[wm,Vte,Ute]=EC(Eg),[Zc,p3]=es(Eg,[Ute,bf,L_]),$_=bf(),h3=L_(),[Hte,Qc]=Zc(Eg),[Wte,kg]=Zc(Eg),m3=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:o,onOpenChange:i,modal:s=!0}=t,a=$_(e),[l,u]=b.exports.useState(null),d=b.exports.useRef(!1),c=Ao(i),f=v_(o);return b.exports.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),w(DC,{...a,children:w(Hte,{scope:e,open:n,onOpenChange:c,content:l,onContentChange:u,children:w(Wte,{scope:e,onClose:b.exports.useCallback(()=>c(!1),[c]),isUsingKeyboardRef:d,dir:f,modal:s,children:r})})})};m3.displayName=Eg;var Kte="MenuAnchor",tO=b.exports.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,o=$_(n);return w(b_,{...o,...r,ref:e})});tO.displayName=Kte;var nO="MenuPortal",[qte,g3]=Zc(nO,{forceMount:void 0}),v3=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:o}=t,i=Qc(nO,e);return w(qte,{scope:e,forceMount:n,children:w(Ei,{present:n||i.open,children:w(xg,{asChild:!0,container:o,children:r})})})};v3.displayName=nO;var To="MenuContent",[Gte,rO]=Zc(To),y3=b.exports.forwardRef((t,e)=>{const n=g3(To,t.__scopeMenu),{forceMount:r=n.forceMount,...o}=t,i=Qc(To,t.__scopeMenu),s=kg(To,t.__scopeMenu);return w(wm.Provider,{scope:t.__scopeMenu,children:w(Ei,{present:r||i.open,children:w(wm.Slot,{scope:t.__scopeMenu,children:s.modal?w(Zte,{...o,ref:e}):w(Qte,{...o,ref:e})})})})}),Zte=b.exports.forwardRef((t,e)=>{const n=Qc(To,t.__scopeMenu),r=b.exports.useRef(null),o=Mt(e,r);return b.exports.useEffect(()=>{const i=r.current;if(i)return S_(i)},[]),w(oO,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Re(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Qte=b.exports.forwardRef((t,e)=>{const n=Qc(To,t.__scopeMenu);return w(oO,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),oO=b.exports.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:c,onInteractOutside:f,onDismiss:p,disableOutsideScroll:m,...g}=t,x=Qc(To,n),v=kg(To,n),h=$_(n),_=h3(n),y=Vte(n),[S,O]=b.exports.useState(null),k=b.exports.useRef(null),E=Mt(e,k,x.onContentChange),T=b.exports.useRef(0),D=b.exports.useRef(""),j=b.exports.useRef(0),A=b.exports.useRef(null),K=b.exports.useRef("right"),H=b.exports.useRef(0),ee=m?k_:b.exports.Fragment,X=m?{as:qi,allowPinchZoom:!0}:void 0,ye=I=>{var U,F;const J=D.current+I,xe=y().filter(q=>!q.disabled),Be=document.activeElement,Z=(U=xe.find(q=>q.ref.current===Be))==null?void 0:U.textValue,he=xe.map(q=>q.textValue),ke=lne(he,J,Z),ae=(F=xe.find(q=>q.textValue===ke))==null?void 0:F.ref.current;(function q(re){D.current=re,window.clearTimeout(T.current),re!==""&&(T.current=window.setTimeout(()=>q(""),1e3))})(J),ae&&setTimeout(()=>ae.focus())};b.exports.useEffect(()=>()=>window.clearTimeout(T.current),[]),y_();const z=b.exports.useCallback(I=>{var xe,Be;return K.current===((xe=A.current)==null?void 0:xe.side)&&une(I,(Be=A.current)==null?void 0:Be.area)},[]);return w(Gte,{scope:n,searchRef:D,onItemEnter:b.exports.useCallback(I=>{z(I)&&I.preventDefault()},[z]),onItemLeave:b.exports.useCallback(I=>{var J;z(I)||((J=k.current)==null||J.focus(),O(null))},[z]),onTriggerLeave:b.exports.useCallback(I=>{z(I)&&I.preventDefault()},[z]),pointerGraceTimerRef:j,onPointerGraceIntentChange:b.exports.useCallback(I=>{A.current=I},[]),children:w(ee,{...X,children:w(vg,{asChild:!0,trapped:o,onMountAutoFocus:Re(i,I=>{var J;I.preventDefault(),(J=k.current)==null||J.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:w(gg,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:c,onInteractOutside:f,onDismiss:p,children:w(u3,{asChild:!0,..._,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:O,onEntryFocus:Re(l,I=>{v.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:w(AC,{role:"menu","aria-orientation":"vertical","data-state":A3(x.open),"data-radix-menu-content":"",dir:v.dir,...h,...g,ref:E,style:{outline:"none",...g.style},onKeyDown:Re(g.onKeyDown,I=>{const xe=I.target.closest("[data-radix-menu-content]")===I.currentTarget,Be=I.ctrlKey||I.altKey||I.metaKey,Z=I.key.length===1;xe&&(I.key==="Tab"&&I.preventDefault(),!Be&&Z&&ye(I.key));const he=k.current;if(I.target!==he||!Fte.includes(I.key))return;I.preventDefault();const ae=y().filter(U=>!U.disabled).map(U=>U.ref.current);f3.includes(I.key)&&ae.reverse(),sne(ae)}),onBlur:Re(t.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(T.current),D.current="")}),onPointerMove:Re(t.onPointerMove,bm(I=>{const J=I.target,xe=H.current!==I.clientX;if(I.currentTarget.contains(J)&&xe){const Be=I.clientX>H.current?"right":"left";K.current=Be,H.current=I.clientX}}))})})})})})})});y3.displayName=To;var Yte="MenuGroup",iO=b.exports.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return w(rt.div,{role:"group",...r,ref:e})});iO.displayName=Yte;var Xte="MenuLabel",x3=b.exports.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return w(rt.div,{...r,ref:e})});x3.displayName=Xte;var V0="MenuItem",DN="menu.itemSelect",z_=b.exports.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...o}=t,i=b.exports.useRef(null),s=kg(V0,t.__scopeMenu),a=rO(V0,t.__scopeMenu),l=Mt(e,i),u=b.exports.useRef(!1),d=()=>{const c=i.current;if(!n&&c){const f=new CustomEvent(DN,{bubbles:!0,cancelable:!0});c.addEventListener(DN,p=>r==null?void 0:r(p),{once:!0}),Nz(c,f),f.defaultPrevented?u.current=!1:s.onClose()}};return w(_3,{...o,ref:l,disabled:n,onClick:Re(t.onClick,d),onPointerDown:c=>{var f;(f=t.onPointerDown)==null||f.call(t,c),u.current=!0},onPointerUp:Re(t.onPointerUp,c=>{var f;u.current||(f=c.currentTarget)==null||f.click()}),onKeyDown:Re(t.onKeyDown,c=>{const f=a.searchRef.current!=="";n||f&&c.key===" "||WS.includes(c.key)&&(c.currentTarget.click(),c.preventDefault())})})});z_.displayName=V0;var _3=b.exports.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...i}=t,s=rO(V0,n),a=h3(n),l=b.exports.useRef(null),u=Mt(e,l),[d,c]=b.exports.useState(!1),[f,p]=b.exports.useState("");return b.exports.useEffect(()=>{var g;const m=l.current;m&&p(((g=m.textContent)!=null?g:"").trim())},[i.children]),w(wm.ItemSlot,{scope:n,disabled:r,textValue:o!=null?o:f,children:w(d3,{asChild:!0,...a,focusable:!r,children:w(rt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:Re(t.onPointerMove,bm(m=>{r?s.onItemLeave(m):(s.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Re(t.onPointerLeave,bm(m=>s.onItemLeave(m))),onFocus:Re(t.onFocus,()=>c(!0)),onBlur:Re(t.onBlur,()=>c(!1))})})})}),Jte="MenuCheckboxItem",w3=b.exports.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...o}=t;return w(C3,{scope:t.__scopeMenu,checked:n,children:w(z_,{role:"menuitemcheckbox","aria-checked":U0(n)?"mixed":n,...o,ref:e,"data-state":aO(n),onSelect:Re(o.onSelect,()=>r==null?void 0:r(U0(n)?!0:!n),{checkForDefaultPrevented:!1})})})});w3.displayName=Jte;var b3="MenuRadioGroup",[ene,tne]=Zc(b3,{value:void 0,onValueChange:()=>{}}),S3=b.exports.forwardRef((t,e)=>{const{value:n,onValueChange:r,...o}=t,i=Ao(r);return w(ene,{scope:t.__scopeMenu,value:n,onValueChange:i,children:w(iO,{...o,ref:e})})});S3.displayName=b3;var E3="MenuRadioItem",k3=b.exports.forwardRef((t,e)=>{const{value:n,...r}=t,o=tne(E3,t.__scopeMenu),i=n===o.value;return w(C3,{scope:t.__scopeMenu,checked:i,children:w(z_,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":aO(i),onSelect:Re(r.onSelect,()=>{var s;return(s=o.onValueChange)==null?void 0:s.call(o,n)},{checkForDefaultPrevented:!1})})})});k3.displayName=E3;var sO="MenuItemIndicator",[C3,nne]=Zc(sO,{checked:!1}),O3=b.exports.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...o}=t,i=nne(sO,n);return w(Ei,{present:r||U0(i.checked)||i.checked===!0,children:w(rt.span,{...o,ref:e,"data-state":aO(i.checked)})})});O3.displayName=sO;var rne="MenuSeparator",P3=b.exports.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return w(rt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});P3.displayName=rne;var one="MenuArrow",R3=b.exports.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,o=$_(n);return w(IC,{...o,...r,ref:e})});R3.displayName=one;var ine="MenuSub",[U1e,T3]=Zc(ine),xp="MenuSubTrigger",M3=b.exports.forwardRef((t,e)=>{const n=Qc(xp,t.__scopeMenu),r=kg(xp,t.__scopeMenu),o=T3(xp,t.__scopeMenu),i=rO(xp,t.__scopeMenu),s=b.exports.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,u={__scopeMenu:t.__scopeMenu},d=b.exports.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return b.exports.useEffect(()=>d,[d]),b.exports.useEffect(()=>{const c=a.current;return()=>{window.clearTimeout(c),l(null)}},[a,l]),w(tO,{asChild:!0,...u,children:w(_3,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":A3(n.open),...t,ref:g_(e,o.onTriggerChange),onClick:c=>{var f;(f=t.onClick)==null||f.call(t,c),!(t.disabled||c.defaultPrevented)&&(c.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Re(t.onPointerMove,bm(c=>{i.onItemEnter(c),!c.defaultPrevented&&!t.disabled&&!n.open&&!s.current&&(i.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Re(t.onPointerLeave,bm(c=>{var p,m;d();const f=(p=n.content)==null?void 0:p.getBoundingClientRect();if(f){const g=(m=n.content)==null?void 0:m.dataset.side,x=g==="right",v=x?-5:5,h=f[x?"left":"right"],_=f[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:c.clientX+v,y:c.clientY},{x:h,y:f.top},{x:_,y:f.top},{x:_,y:f.bottom},{x:h,y:f.bottom}],side:g}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(c),c.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Re(t.onKeyDown,c=>{var p;const f=i.searchRef.current!=="";t.disabled||f&&c.key===" "||Bte[r.dir].includes(c.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),c.preventDefault())})})})});M3.displayName=xp;var N3="MenuSubContent",D3=b.exports.forwardRef((t,e)=>{const n=g3(To,t.__scopeMenu),{forceMount:r=n.forceMount,...o}=t,i=Qc(To,t.__scopeMenu),s=kg(To,t.__scopeMenu),a=T3(N3,t.__scopeMenu),l=b.exports.useRef(null),u=Mt(e,l);return w(wm.Provider,{scope:t.__scopeMenu,children:w(Ei,{present:r||i.open,children:w(wm.Slot,{scope:t.__scopeMenu,children:w(oO,{id:a.contentId,"aria-labelledby":a.triggerId,...o,ref:u,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var c;s.isUsingKeyboardRef.current&&((c=l.current)==null||c.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Re(t.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Re(t.onEscapeKeyDown,d=>{s.onClose(),d.preventDefault()}),onKeyDown:Re(t.onKeyDown,d=>{var p;const c=d.currentTarget.contains(d.target),f=jte[s.dir].includes(d.key);c&&f&&(i.onOpenChange(!1),(p=a.trigger)==null||p.focus(),d.preventDefault())})})})})})});D3.displayName=N3;function A3(t){return t?"open":"closed"}function U0(t){return t==="indeterminate"}function aO(t){return U0(t)?"indeterminate":t?"checked":"unchecked"}function sne(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function ane(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function lne(t,e,n){const o=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let s=ane(t,Math.max(i,0));o.length===1&&(s=s.filter(u=>u!==n));const l=s.find(u=>u.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function cne(t,e){const{x:n,y:r}=t;let o=!1;for(let i=0,s=e.length-1;i<e.length;s=i++){const a=e[i].x,l=e[i].y,u=e[s].x,d=e[s].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(o=!o)}return o}function une(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return cne(n,e)}function bm(t){return e=>e.pointerType==="mouse"?t(e):void 0}var dne=m3,fne=tO,pne=v3,hne=y3,mne=iO,gne=x3,vne=z_,yne=w3,xne=S3,_ne=k3,wne=O3,bne=P3,Sne=R3,Ene=M3,kne=D3,lO="DropdownMenu",[Cne,H1e]=es(lO,[p3]),Or=p3(),[One,I3]=Cne(lO),L3=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:o,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,l=Or(e),u=b.exports.useRef(null),[d=!1,c]=nl({prop:o,defaultProp:i,onChange:s});return w(One,{scope:e,triggerId:fi(),triggerRef:u,contentId:fi(),open:d,onOpenChange:c,onOpenToggle:b.exports.useCallback(()=>c(f=>!f),[c]),modal:a,children:w(dne,{...l,open:d,onOpenChange:c,dir:r,modal:a,children:n})})};L3.displayName=lO;var $3="DropdownMenuTrigger",z3=b.exports.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=t,i=I3($3,n),s=Or(n);return w(fne,{asChild:!0,...s,children:w(rt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:g_(e,i.triggerRef),onPointerDown:Re(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:Re(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});z3.displayName=$3;var Pne="DropdownMenuPortal",F3=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Or(e);return w(pne,{...r,...n})};F3.displayName=Pne;var B3="DropdownMenuContent",j3=b.exports.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=I3(B3,n),i=Or(n),s=b.exports.useRef(!1);return w(hne,{id:o.contentId,"aria-labelledby":o.triggerId,...i,...r,ref:e,onCloseAutoFocus:Re(t.onCloseAutoFocus,a=>{var l;s.current||(l=o.triggerRef.current)==null||l.focus(),s.current=!1,a.preventDefault()}),onInteractOutside:Re(t.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!o.modal||d)&&(s.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});j3.displayName=B3;var Rne="DropdownMenuGroup",Tne=b.exports.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=Or(n);return w(mne,{...o,...r,ref:e})});Tne.displayName=Rne;var Mne="DropdownMenuLabel",V3=b.exports.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=Or(n);return w(gne,{...o,...r,ref:e})});V3.displayName=Mne;var Nne="DropdownMenuItem",U3=b.exports.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=Or(n);return w(vne,{...o,...r,ref:e})});U3.displayName=Nne;var Dne="DropdownMenuCheckboxItem",H3=b.exports.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=Or(n);return w(yne,{...o,...r,ref:e})});H3.displayName=Dne;var Ane="DropdownMenuRadioGroup",Ine=b.exports.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=Or(n);return w(xne,{...o,...r,ref:e})});Ine.displayName=Ane;var Lne="DropdownMenuRadioItem",W3=b.exports.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=Or(n);return w(_ne,{...o,...r,ref:e})});W3.displayName=Lne;var $ne="DropdownMenuItemIndicator",K3=b.exports.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=Or(n);return w(wne,{...o,...r,ref:e})});K3.displayName=$ne;var zne="DropdownMenuSeparator",q3=b.exports.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=Or(n);return w(bne,{...o,...r,ref:e})});q3.displayName=zne;var Fne="DropdownMenuArrow",Bne=b.exports.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=Or(n);return w(Sne,{...o,...r,ref:e})});Bne.displayName=Fne;var jne="DropdownMenuSubTrigger",G3=b.exports.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=Or(n);return w(Ene,{...o,...r,ref:e})});G3.displayName=jne;var Vne="DropdownMenuSubContent",Z3=b.exports.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=Or(n);return w(kne,{...o,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Z3.displayName=Vne;var Une=L3,Hne=z3,Wne=F3,Q3=j3,Y3=V3,X3=U3,J3=H3,e4=W3,t4=K3,n4=q3,r4=G3,o4=Z3;const Kne=Une,qne=Hne,Gne=b.exports.forwardRef(({className:t,inset:e,children:n,...r},o)=>B(r4,{ref:o,className:Te("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,w(VY,{className:"ml-auto h-4 w-4"})]}));Gne.displayName=r4.displayName;const Zne=b.exports.forwardRef(({className:t,...e},n)=>w(o4,{ref:n,className:Te("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Zne.displayName=o4.displayName;const i4=b.exports.forwardRef(({className:t,sideOffset:e=4,...n},r)=>w(Wne,{children:w(Q3,{ref:r,sideOffset:e,className:Te("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));i4.displayName=Q3.displayName;const Ry=b.exports.forwardRef(({className:t,inset:e,...n},r)=>w(X3,{ref:r,className:Te("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Ry.displayName=X3.displayName;const Qne=b.exports.forwardRef(({className:t,children:e,checked:n,...r},o)=>B(J3,{ref:o,className:Te("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[w("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:w(t4,{children:w(GF,{className:"h-4 w-4"})})}),e]}));Qne.displayName=J3.displayName;const Yne=b.exports.forwardRef(({className:t,children:e,...n},r)=>B(e4,{ref:r,className:Te("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[w("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:w(t4,{children:w(WY,{className:"h-2 w-2 fill-current"})})}),e]}));Yne.displayName=e4.displayName;const Xne=b.exports.forwardRef(({className:t,inset:e,...n},r)=>w(Y3,{ref:r,className:Te("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));Xne.displayName=Y3.displayName;const Jne=b.exports.forwardRef(({className:t,...e},n)=>w(n4,{ref:n,className:Te("-mx-1 my-1 h-px bg-muted",t),...e}));Jne.displayName=n4.displayName;const ere={theme:"system",setTheme:()=>null},s4=b.exports.createContext(ere);function tre({children:t,defaultTheme:e="system",storageKey:n="vite-ui-theme",...r}){const[o,i]=b.exports.useState(()=>localStorage.getItem(n)||e);b.exports.useEffect(()=>{const a=window.document.documentElement;if(a.classList.remove("light","dark"),o==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.add(l);return}a.classList.add(o)},[o]);const s={theme:o,setTheme:a=>{localStorage.setItem(n,a),i(a)}};return w(s4.Provider,{...r,value:s,children:t})}const nre=()=>{const t=b.exports.useContext(s4);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};function rre(){const{setTheme:t}=nre();return B(Kne,{children:[w(qne,{asChild:!0,children:B(We,{variant:"outline",size:"icon",children:[w(vX,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),w(rX,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),w("span",{className:"sr-only",children:"Toggle theme"})]})}),B(i4,{align:"end",children:[w(Ry,{onClick:()=>t("light"),children:"Light"}),w(Ry,{onClick:()=>t("dark"),children:"Dark"}),w(Ry,{onClick:()=>t("system"),children:"System"})]})]})}const a4=be.enum(["text","image","file","drawing","bookmark"]),ore=be.object({type:a4,content:be.any(),id:be.string().uuid(),x:be.number().default(0),y:be.number().default(0),w:be.number().default(0),h:be.number().default(0)}),ire=be.record(be.string()),sre=be.object({id:be.string().uuid(),type:be.string(),title:be.string(),description:be.string().optional(),contents:be.record(ore),properties:ire,aiReady:be.boolean().default(!1).optional(),pageCustomization:be.object({backgroundColor:be.string().optional(),backgroundImage:be.string().optional(),defaultFont:be.string().optional(),freeDrag:be.boolean().optional()})}),are={id:"",type:"",title:"",description:"",contents:{},properties:{},aiReady:!1,pageCustomization:{backgroundColor:"",backgroundImage:"",defaultFont:"ui-sans-serif",freeDrag:!1}};function lre(){const t=Sl();return async(e,n)=>{const r={...n,id:e};await gB(e,JSON.stringify(r)),t.invalidateQueries({queryKey:["objects"]})}}function cre(){return D_({queryKey:["objects"],queryFn:async()=>{const t=await yJ();return t||[]}})}function ure(t){return QC({queries:t?t.map(n=>({queryKey:["object",n],queryFn:async()=>{const r=await mB(n),o=sre.safeParse(JSON.parse(r));if(o.success)return o.data;throw o.error.errors},retry:0,enabled:!!n})):[]})}function cO(t){return $B({queryKey:["object",t],queryFn:async()=>JSON.parse(await mB(t)),editFn:(e,n)=>({...e,...n}),mutateFn:e=>gB(e.id,JSON.stringify(e))})}function dre(){const t=Sl();return async e=>{await gJ(e),t.invalidateQueries({queryKey:["objects","object",e]})}}function fre(t){var o;const{data:e,mutate:n}=cO(t),r=i=>{if(!e)return;const s=Fr(e,a=>{a.pageCustomization.defaultFont=i});n(s)};return{defaultFont:(o=e==null?void 0:e.pageCustomization.defaultFont)!=null?o:"ui-sans-serif",setDefaultFont:r}}function pre(t){var o;const{data:e,mutate:n}=cO(t),r=i=>{if(!e)return;const s=Fr(e,a=>{a.pageCustomization.backgroundColor=i});n(s)};return{backgroundColor:(o=e==null?void 0:e.pageCustomization.backgroundColor)!=null?o:"",setBackgroundColor:r}}const hre=()=>{const{createTab:t}=bg(),{setSidebarOpen:e}=JC(),{addObjectType:n}=o3(),{data:r}=n3(),i=r3(r).map(d=>d.data),{data:s}=cre(),l=ure(s).map(d=>d.data),u=lre();return Sl(),B("div",{className:"h-full flex flex-col gap-4 px-3 py-2 disable-select  bg-muted",children:[B("div",{className:"flex h-[22px] justify-between",children:[w("div",{}),w(We,{size:"iconSm",variant:"ghost",onClick:()=>e(!1),children:w(iX,{size:18})})]}),B(rB,{children:[w(BC,{className:"h-8",children:w(oB,{placeholder:"Workspace"})}),B(jC,{children:[w(va,{value:"1",children:"Workspace 1"}),w(va,{value:"2",children:"Workspace 2"})]})]}),B("div",{className:"flex flex-col gap-2",children:[B(We,{variant:"ghost",className:Te("justify-normal px-2 gap-2 "),size:"sm",children:[w(QY,{size:16}),"Inbox"]}),B(We,{variant:"default",className:Te("justify-normal px-2 shadow-inner gap-2"),size:"sm",children:[w(GY,{size:16}),"Home"]})]}),w(Sg,{}),B("div",{className:"flex items-center gap-2 px-2 text-sm text-muted-foreground",children:[w(uX,{size:15})," Pinned"]}),B("div",{className:"flex items-center justify-between px-2 text-sm text-muted-foreground",children:[B("div",{className:"flex gap-2 items-center",children:[w(QF,{size:15})," Objects"]}),w(We,{size:"iconSm",variant:"outline",onClick:()=>{const d=Oh();n({id:d,name:"",icon:"",baseType:"page",description:"",color:"",properties:{}}),t(d,"createObjectType")},children:w(P0,{size:15})})]}),w("div",{className:"ml-4"}),i&&i.map(d=>B("div",{children:[B("div",{className:"flex items-center justify-between",children:[d==null?void 0:d.name,w(We,{variant:"ghost",className:Te("justify-normal px-2  gap-2"),size:"iconSm",onClick:()=>{var m,g;const c=Oh(),f=Object.fromEntries(Object.entries((m=d==null?void 0:d.properties)!=null?m:{}).map(([x,v])=>[x,""])),p=Oh();u(c,{...are,type:(g=d==null?void 0:d.id)!=null?g:"",contents:{contentUUID:{type:"text",content:"",id:p,x:0,y:0,w:12,h:12}},properties:f}).then(()=>{t(c,"object")})},children:w(P0,{})},d==null?void 0:d.id)]}),l&&l.map(c=>c&&c.type===d.id?w("div",{className:"ml-4 cursor-pointer hover:bg-secondary",onClick:()=>{t(c.id,"object")},children:c.title},c.id):null)]})),w(rre,{})]})},Dc=b.exports.forwardRef(({className:t,type:e,...n},r)=>w("input",{type:e,className:Te("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm  file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:border-ring  disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Dc.displayName="Input";const mre=()=>{const{setSidebarOpen:t,isSidebarOpen:e}=JC(),{setBotSidebarOpen:n,isBotSidebarOpen:r}=eO();return B("div",{className:"flex h-[42px] border-b bg-muted draggable disable-select pl-[100px] pr-[10px] align-middle items-center justify-between",children:[e?w("div",{}):w(We,{size:"iconSm",variant:"outline",className:e?"bg-muted":"",onClick:()=>t(!0),children:w(sX,{size:18})}),B("div",{className:"flex gap-2 h-full w-1/2 mt-2",children:[w(Dc,{placeholder:"Search through your workspace",className:"h-8 w-full"}),w(We,{size:"iconSm",variant:"outline",children:w(fX,{size:18})})]}),r?w("div",{}):w(We,{size:"iconSm",variant:"outline",onClick:()=>{n(!0)},children:w(qF,{size:18})})]})},{createElement:Gd,createContext:gre,createRef:W1e,forwardRef:l4,useCallback:Tr,useContext:c4,useEffect:hc,useImperativeHandle:u4,useLayoutEffect:vre,useMemo:yre,useRef:Lr,useState:ld}=vf,AN=vf[`useId${Math.random()}`.slice(0,5)],xre=vre,F_=gre(null);F_.displayName="PanelGroupContext";const mc=xre,_re=typeof AN=="function"?AN:()=>null;let wre=0;function uO(t=null){const e=_re(),n=Lr(t||e||null);return n.current===null&&(n.current=""+wre++),t!=null?t:n.current}function d4({children:t,className:e="",collapsedSize:n,collapsible:r,defaultSize:o,forwardedRef:i,id:s,maxSize:a,minSize:l,onCollapse:u,onExpand:d,onResize:c,order:f,style:p,tagName:m="div",...g}){const x=c4(F_);if(x===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:v,expandPanel:h,getPanelSize:_,getPanelStyle:y,groupId:S,isPanelCollapsed:O,reevaluatePanelConstraints:k,registerPanel:E,resizePanel:T,unregisterPanel:D}=x,j=uO(s),A=Lr({callbacks:{onCollapse:u,onExpand:d,onResize:c},constraints:{collapsedSize:n,collapsible:r,defaultSize:o,maxSize:a,minSize:l},id:j,idIsFromProps:s!==void 0,order:f});Lr({didLogMissingDefaultSizeWarning:!1}),mc(()=>{const{callbacks:H,constraints:ee}=A.current,X={...ee};A.current.id=j,A.current.idIsFromProps=s!==void 0,A.current.order=f,H.onCollapse=u,H.onExpand=d,H.onResize=c,ee.collapsedSize=n,ee.collapsible=r,ee.defaultSize=o,ee.maxSize=a,ee.minSize=l,(X.collapsedSize!==ee.collapsedSize||X.collapsible!==ee.collapsible||X.maxSize!==ee.maxSize||X.minSize!==ee.minSize)&&k(A.current,X)}),mc(()=>{const H=A.current;return E(H),()=>{D(H)}},[f,j,E,D]),u4(i,()=>({collapse:()=>{v(A.current)},expand:H=>{h(A.current,H)},getId(){return j},getSize(){return _(A.current)},isCollapsed(){return O(A.current)},isExpanded(){return!O(A.current)},resize:H=>{T(A.current,H)}}),[v,h,_,O,j,T]);const K=y(A.current,o);return Gd(m,{...g,children:t,className:e,id:s,style:{...K,...p},"data-panel":"","data-panel-collapsible":r||void 0,"data-panel-group-id":S,"data-panel-id":j,"data-panel-size":parseFloat(""+K.flexGrow).toFixed(1)})}const f4=l4((t,e)=>Gd(d4,{...t,forwardedRef:e}));d4.displayName="Panel";f4.displayName="forwardRef(Panel)";let KS=null,ql=null;function bre(t,e){if(e){const n=(e&v4)!==0,r=(e&y4)!==0,o=(e&x4)!==0,i=(e&_4)!==0;if(n)return o?"se-resize":i?"ne-resize":"e-resize";if(r)return o?"sw-resize":i?"nw-resize":"w-resize";if(o)return"s-resize";if(i)return"n-resize"}switch(t){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function Sre(){ql!==null&&(document.head.removeChild(ql),KS=null,ql=null)}function _b(t,e){const n=bre(t,e);KS!==n&&(KS=n,ql===null&&(ql=document.createElement("style"),document.head.appendChild(ql)),ql.innerHTML=`*{cursor: ${n}!important;}`)}function p4(t){return t.type==="keydown"}function h4(t){return t.type.startsWith("pointer")}function m4(t){return t.type.startsWith("mouse")}function B_(t){if(h4(t)){if(t.isPrimary)return{x:t.clientX,y:t.clientY}}else if(m4(t))return{x:t.clientX,y:t.clientY};return{x:1/0,y:1/0}}function Ere(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function kre(t,e,n){return n?t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y:t.x<=e.x+e.width&&t.x+t.width>=e.x&&t.y<=e.y+e.height&&t.y+t.height>=e.y}function Cre(t,e){if(t===e)throw new Error("Cannot compare node with itself");const n={a:$N(t),b:$N(e)};let r;for(;n.a.at(-1)===n.b.at(-1);)t=n.a.pop(),e=n.b.pop(),r=t;dt(r,"Stacking order can only be calculated for elements with a common ancestor");const o={a:LN(IN(n.a)),b:LN(IN(n.b))};if(o.a===o.b){const i=r.childNodes,s={a:n.a.at(-1),b:n.b.at(-1)};let a=i.length;for(;a--;){const l=i[a];if(l===s.a)return 1;if(l===s.b)return-1}}return Math.sign(o.a-o.b)}const Ore=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Pre(t){var e;const n=getComputedStyle((e=g4(t))!==null&&e!==void 0?e:t).display;return n==="flex"||n==="inline-flex"}function Rre(t){const e=getComputedStyle(t);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||Pre(t))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||Ore.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function IN(t){let e=t.length;for(;e--;){const n=t[e];if(dt(n,"Missing node"),Rre(n))return n}return null}function LN(t){return t&&Number(getComputedStyle(t).zIndex)||0}function $N(t){const e=[];for(;t;)e.push(t),t=g4(t);return e}function g4(t){const{parentNode:e}=t;return e&&e instanceof ShadowRoot?e.host:e}const v4=1,y4=2,x4=4,_4=8,Tre=Ere()==="coarse";let hi=[],cd=!1,xa=new Map,j_=new Map;const Sm=new Set;function Mre(t,e,n,r,o){var i;const{ownerDocument:s}=e,a={direction:n,element:e,hitAreaMargins:r,setResizeHandlerState:o},l=(i=xa.get(s))!==null&&i!==void 0?i:0;return xa.set(s,l+1),Sm.add(a),H0(),function(){var d;j_.delete(t),Sm.delete(a);const c=(d=xa.get(s))!==null&&d!==void 0?d:1;if(xa.set(s,c-1),H0(),c===1&&xa.delete(s),hi.includes(a)){const f=hi.indexOf(a);f>=0&&hi.splice(f,1),fO(),o("up",!0,null)}}}function zN(t){const{target:e}=t,{x:n,y:r}=B_(t);cd=!0,dO({target:e,x:n,y:r}),H0(),hi.length>0&&(W0("down",t),t.preventDefault(),t.stopPropagation())}function ip(t){const{x:e,y:n}=B_(t);if(cd&&t.buttons===0&&(cd=!1,W0("up",t)),!cd){const{target:r}=t;dO({target:r,x:e,y:n})}W0("move",t),fO(),hi.length>0&&t.preventDefault()}function hu(t){const{target:e}=t,{x:n,y:r}=B_(t);j_.clear(),cd=!1,hi.length>0&&t.preventDefault(),W0("up",t),dO({target:e,x:n,y:r}),fO(),H0()}function dO({target:t,x:e,y:n}){hi.splice(0);let r=null;t instanceof HTMLElement&&(r=t),Sm.forEach(o=>{const{element:i,hitAreaMargins:s}=o,a=i.getBoundingClientRect(),{bottom:l,left:u,right:d,top:c}=a,f=Tre?s.coarse:s.fine;if(e>=u-f&&e<=d+f&&n>=c-f&&n<=l+f){if(r!==null&&i!==r&&!i.contains(r)&&!r.contains(i)&&Cre(r,i)>0){let m=r,g=!1;for(;m&&!m.contains(i);){if(kre(m.getBoundingClientRect(),a,!0)){g=!0;break}m=m.parentElement}if(g)return}hi.push(o)}})}function wb(t,e){j_.set(t,e)}function fO(){let t=!1,e=!1;hi.forEach(r=>{const{direction:o}=r;o==="horizontal"?t=!0:e=!0});let n=0;j_.forEach(r=>{n|=r}),t&&e?_b("intersection",n):t?_b("horizontal",n):e?_b("vertical",n):Sre()}function H0(){xa.forEach((t,e)=>{const{body:n}=e;n.removeEventListener("contextmenu",hu),n.removeEventListener("pointerdown",zN),n.removeEventListener("pointerleave",ip),n.removeEventListener("pointermove",ip)}),window.removeEventListener("pointerup",hu),window.removeEventListener("pointercancel",hu),Sm.size>0&&(cd?(hi.length>0&&xa.forEach((t,e)=>{const{body:n}=e;t>0&&(n.addEventListener("contextmenu",hu),n.addEventListener("pointerleave",ip),n.addEventListener("pointermove",ip))}),window.addEventListener("pointerup",hu),window.addEventListener("pointercancel",hu)):xa.forEach((t,e)=>{const{body:n}=e;t>0&&(n.addEventListener("pointerdown",zN,{capture:!0}),n.addEventListener("pointermove",ip))}))}function W0(t,e){Sm.forEach(n=>{const{setResizeHandlerState:r}=n,o=hi.includes(n);r(t,o,e)})}function Nre(){const[t,e]=ld(0);return Tr(()=>e(n=>n+1),[])}function dt(t,e){if(!t)throw console.error(e),Error(e)}const pO=10;function Ac(t,e,n=pO){return t.toFixed(n)===e.toFixed(n)?0:t>e?1:-1}function Cs(t,e,n=pO){return Ac(t,e,n)===0}function to(t,e,n){return Ac(t,e,n)===0}function Dre(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){const o=t[r],i=e[r];if(!to(o,i,n))return!1}return!0}function Gu({panelConstraints:t,panelIndex:e,size:n}){const r=t[e];dt(r!=null,`Panel constraints not found for index ${e}`);let{collapsedSize:o=0,collapsible:i,maxSize:s=100,minSize:a=0}=r;if(Ac(n,a)<0)if(i){const l=(o+a)/2;Ac(n,l)<0?n=o:n=a}else n=a;return n=Math.min(s,n),n=parseFloat(n.toFixed(pO)),n}function _p({delta:t,initialLayout:e,panelConstraints:n,pivotIndices:r,prevLayout:o,trigger:i}){if(to(t,0))return e;const s=[...e],[a,l]=r;dt(a!=null,"Invalid first pivot index"),dt(l!=null,"Invalid second pivot index");let u=0;if(i==="keyboard"){{const c=t<0?l:a,f=n[c];dt(f,`Panel constraints not found for index ${c}`);const{collapsedSize:p=0,collapsible:m,minSize:g=0}=f;if(m){const x=e[c];if(dt(x!=null,`Previous layout not found for panel index ${c}`),to(x,p)){const v=g-x;Ac(v,Math.abs(t))>0&&(t=t<0?0-v:v)}}}{const c=t<0?a:l,f=n[c];dt(f,`No panel constraints found for index ${c}`);const{collapsedSize:p=0,collapsible:m,minSize:g=0}=f;if(m){const x=e[c];if(dt(x!=null,`Previous layout not found for panel index ${c}`),to(x,g)){const v=x-p;Ac(v,Math.abs(t))>0&&(t=t<0?0-v:v)}}}}{const c=t<0?1:-1;let f=t<0?l:a,p=0;for(;;){const g=e[f];dt(g!=null,`Previous layout not found for panel index ${f}`);const v=Gu({panelConstraints:n,panelIndex:f,size:100})-g;if(p+=v,f+=c,f<0||f>=n.length)break}const m=Math.min(Math.abs(t),Math.abs(p));t=t<0?0-m:m}{let f=t<0?a:l;for(;f>=0&&f<n.length;){const p=Math.abs(t)-Math.abs(u),m=e[f];dt(m!=null,`Previous layout not found for panel index ${f}`);const g=m-p,x=Gu({panelConstraints:n,panelIndex:f,size:g});if(!to(m,x)&&(u+=m-x,s[f]=x,u.toPrecision(3).localeCompare(Math.abs(t).toPrecision(3),void 0,{numeric:!0})>=0))break;t<0?f--:f++}}if(Dre(o,s))return o;{const c=t<0?l:a,f=e[c];dt(f!=null,`Previous layout not found for panel index ${c}`);const p=f+u,m=Gu({panelConstraints:n,panelIndex:c,size:p});if(s[c]=m,!to(m,p)){let g=p-m,v=t<0?l:a;for(;v>=0&&v<n.length;){const h=s[v];dt(h!=null,`Previous layout not found for panel index ${v}`);const _=h+g,y=Gu({panelConstraints:n,panelIndex:v,size:_});if(to(h,y)||(g-=y-h,s[v]=y),to(g,0))break;t>0?v--:v++}}}const d=s.reduce((c,f)=>f+c,0);return to(d,100)?s:o}function Are({layout:t,panelsArray:e,pivotIndices:n}){let r=0,o=100,i=0,s=0;const a=n[0];dt(a!=null,"No pivot index found"),e.forEach((c,f)=>{const{constraints:p}=c,{maxSize:m=100,minSize:g=0}=p;f===a?(r=g,o=m):(i+=g,s+=m)});const l=Math.min(o,100-i),u=Math.max(r,100-s),d=t[a];return{valueMax:l,valueMin:u,valueNow:d}}function Em(t,e=document){return Array.from(e.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${t}"]`))}function w4(t,e,n=document){const o=Em(t,n).findIndex(i=>i.getAttribute("data-panel-resize-handle-id")===e);return o!=null?o:null}function b4(t,e,n){const r=w4(t,e,n);return r!=null?[r,r+1]:[-1,-1]}function S4(t,e=document){var n;if(e instanceof HTMLElement&&(e==null||(n=e.dataset)===null||n===void 0?void 0:n.panelGroupId)==t)return e;const r=e.querySelector(`[data-panel-group][data-panel-group-id="${t}"]`);return r||null}function V_(t,e=document){const n=e.querySelector(`[data-panel-resize-handle-id="${t}"]`);return n||null}function Ire(t,e,n,r=document){var o,i,s,a;const l=V_(e,r),u=Em(t,r),d=l?u.indexOf(l):-1,c=(o=(i=n[d])===null||i===void 0?void 0:i.id)!==null&&o!==void 0?o:null,f=(s=(a=n[d+1])===null||a===void 0?void 0:a.id)!==null&&s!==void 0?s:null;return[c,f]}function Lre({committedValuesRef:t,eagerValuesRef:e,groupId:n,layout:r,panelDataArray:o,panelGroupElement:i,setLayout:s}){Lr({didWarnAboutMissingResizeHandle:!1}),mc(()=>{if(!i)return;const a=Em(n,i);for(let l=0;l<o.length-1;l++){const{valueMax:u,valueMin:d,valueNow:c}=Are({layout:r,panelsArray:o,pivotIndices:[l,l+1]}),f=a[l];if(f!=null){const p=o[l];dt(p,`No panel data found for index "${l}"`),f.setAttribute("aria-controls",p.id),f.setAttribute("aria-valuemax",""+Math.round(u)),f.setAttribute("aria-valuemin",""+Math.round(d)),f.setAttribute("aria-valuenow",c!=null?""+Math.round(c):"")}}return()=>{a.forEach((l,u)=>{l.removeAttribute("aria-controls"),l.removeAttribute("aria-valuemax"),l.removeAttribute("aria-valuemin"),l.removeAttribute("aria-valuenow")})}},[n,r,o,i]),hc(()=>{if(!i)return;const a=e.current;dt(a,"Eager values not found");const{panelDataArray:l}=a,u=S4(n,i);dt(u!=null,`No group found for id "${n}"`);const d=Em(n,i);dt(d,`No resize handles found for group id "${n}"`);const c=d.map(f=>{const p=f.getAttribute("data-panel-resize-handle-id");dt(p,"Resize handle element has no handle id attribute");const[m,g]=Ire(n,p,l,i);if(m==null||g==null)return()=>{};const x=v=>{if(!v.defaultPrevented)switch(v.key){case"Enter":{v.preventDefault();const h=l.findIndex(_=>_.id===m);if(h>=0){const _=l[h];dt(_,`No panel data found for index ${h}`);const y=r[h],{collapsedSize:S=0,collapsible:O,minSize:k=0}=_.constraints;if(y!=null&&O){const E=_p({delta:to(y,S)?k-S:S-y,initialLayout:r,panelConstraints:l.map(T=>T.constraints),pivotIndices:b4(n,p,i),prevLayout:r,trigger:"keyboard"});r!==E&&s(E)}}break}}};return f.addEventListener("keydown",x),()=>{f.removeEventListener("keydown",x)}});return()=>{c.forEach(f=>f())}},[i,t,e,n,r,o,s])}function FN(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function E4(t,e){const n=t==="horizontal",{x:r,y:o}=B_(e);return n?r:o}function $re(t,e,n,r,o){const i=n==="horizontal",s=V_(e,o);dt(s,`No resize handle element found for id "${e}"`);const a=s.getAttribute("data-panel-group-id");dt(a,"Resize handle element has no group id attribute");let{initialCursorPosition:l}=r;const u=E4(n,t),d=S4(a,o);dt(d,`No group element found for id "${a}"`);const c=d.getBoundingClientRect(),f=i?c.width:c.height;return(u-l)/f*100}function zre(t,e,n,r,o,i){if(p4(t)){const s=n==="horizontal";let a=0;t.shiftKey?a=100:o!=null?a=o:a=10;let l=0;switch(t.key){case"ArrowDown":l=s?0:a;break;case"ArrowLeft":l=s?-a:0;break;case"ArrowRight":l=s?a:0;break;case"ArrowUp":l=s?0:-a;break;case"End":l=100;break;case"Home":l=-100;break}return l}else return r==null?0:$re(t,e,n,r,i)}function Fre({panelDataArray:t}){const e=Array(t.length),n=t.map(i=>i.constraints);let r=0,o=100;for(let i=0;i<t.length;i++){const s=n[i];dt(s,`Panel constraints not found for index ${i}`);const{defaultSize:a}=s;a!=null&&(r++,e[i]=a,o-=a)}for(let i=0;i<t.length;i++){const s=n[i];dt(s,`Panel constraints not found for index ${i}`);const{defaultSize:a}=s;if(a!=null)continue;const l=t.length-r,u=o/l;r++,e[i]=u,o-=u}return e}function mu(t,e,n){e.forEach((r,o)=>{const i=t[o];dt(i,`Panel data not found for index ${o}`);const{callbacks:s,constraints:a,id:l}=i,{collapsedSize:u=0,collapsible:d}=a,c=n[l];if(c==null||r!==c){n[l]=r;const{onCollapse:f,onExpand:p,onResize:m}=s;m&&m(r,c),d&&(f||p)&&(p&&(c==null||Cs(c,u))&&!Cs(r,u)&&p(),f&&(c==null||!Cs(c,u))&&Cs(r,u)&&f())}})}function qv(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}function Bre({defaultSize:t,dragState:e,layout:n,panelData:r,panelIndex:o,precision:i=3}){const s=n[o];let a;return s==null?a=t!=null?t.toPrecision(i):"1":r.length===1?a="1":a=s.toPrecision(i),{flexBasis:0,flexGrow:a,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function jre(t,e=10){let n=null;return(...o)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{t(...o)},e)}}function BN(t){try{if(typeof localStorage<"u")t.getItem=e=>localStorage.getItem(e),t.setItem=(e,n)=>{localStorage.setItem(e,n)};else throw new Error("localStorage not supported in this environment")}catch(e){console.error(e),t.getItem=()=>null,t.setItem=()=>{}}}function k4(t){return`react-resizable-panels:${t}`}function C4(t){return t.map(e=>{const{constraints:n,id:r,idIsFromProps:o,order:i}=e;return o?r:i?`${i}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((e,n)=>e.localeCompare(n)).join(",")}function O4(t,e){try{const n=k4(t),r=e.getItem(n);if(r){const o=JSON.parse(r);if(typeof o=="object"&&o!=null)return o}}catch{}return null}function Vre(t,e,n){var r,o;const i=(r=O4(t,n))!==null&&r!==void 0?r:{},s=C4(e);return(o=i[s])!==null&&o!==void 0?o:null}function Ure(t,e,n,r,o){var i;const s=k4(t),a=C4(e),l=(i=O4(t,o))!==null&&i!==void 0?i:{};l[a]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{o.setItem(s,JSON.stringify(l))}catch(u){console.error(u)}}function jN({layout:t,panelConstraints:e}){const n=[...t],r=n.reduce((i,s)=>i+s,0);if(n.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${n.map(i=>`${i}%`).join(", ")}`);if(!to(r,100)&&n.length>0)for(let i=0;i<e.length;i++){const s=n[i];dt(s!=null,`No layout data found for index ${i}`);const a=100/r*s;n[i]=a}let o=0;for(let i=0;i<e.length;i++){const s=n[i];dt(s!=null,`No layout data found for index ${i}`);const a=Gu({panelConstraints:e,panelIndex:i,size:s});s!=a&&(o+=s-a,n[i]=a)}if(!to(o,0))for(let i=0;i<e.length;i++){const s=n[i];dt(s!=null,`No layout data found for index ${i}`);const a=s+o,l=Gu({panelConstraints:e,panelIndex:i,size:a});if(s!==l&&(o-=l-s,n[i]=l,to(o,0)))break}return n}const Hre=100,wp={getItem:t=>(BN(wp),wp.getItem(t)),setItem:(t,e)=>{BN(wp),wp.setItem(t,e)}},VN={};function P4({autoSaveId:t=null,children:e,className:n="",direction:r,forwardedRef:o,id:i=null,onLayout:s=null,keyboardResizeBy:a=null,storage:l=wp,style:u,tagName:d="div",...c}){const f=uO(i),p=Lr(null),[m,g]=ld(null),[x,v]=ld([]),h=Nre(),_=Lr({}),y=Lr(new Map),S=Lr(0),O=Lr({autoSaveId:t,direction:r,dragState:m,id:f,keyboardResizeBy:a,onLayout:s,storage:l}),k=Lr({layout:x,panelDataArray:[],panelDataArrayChanged:!1});Lr({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),u4(o,()=>({getId:()=>O.current.id,getLayout:()=>{const{layout:Z}=k.current;return Z},setLayout:Z=>{const{onLayout:he}=O.current,{layout:ke,panelDataArray:ae}=k.current,U=jN({layout:Z,panelConstraints:ae.map(F=>F.constraints)});FN(ke,U)||(v(U),k.current.layout=U,he&&he(U),mu(ae,U,_.current))}}),[]),mc(()=>{O.current.autoSaveId=t,O.current.direction=r,O.current.dragState=m,O.current.id=f,O.current.onLayout=s,O.current.storage=l}),Lre({committedValuesRef:O,eagerValuesRef:k,groupId:f,layout:x,panelDataArray:k.current.panelDataArray,setLayout:v,panelGroupElement:p.current}),hc(()=>{const{panelDataArray:Z}=k.current;if(t){if(x.length===0||x.length!==Z.length)return;let he=VN[t];he==null&&(he=jre(Ure,Hre),VN[t]=he);const ke=[...Z],ae=new Map(y.current);he(t,ke,ae,x,l)}},[t,x,l]),hc(()=>{});const E=Tr(Z=>{const{onLayout:he}=O.current,{layout:ke,panelDataArray:ae}=k.current;if(Z.constraints.collapsible){const U=ae.map(de=>de.constraints),{collapsedSize:F=0,panelSize:q,pivotIndices:re}=Ml(ae,Z,ke);if(dt(q!=null,`Panel size not found for panel "${Z.id}"`),!Cs(q,F)){y.current.set(Z.id,q);const fe=ku(ae,Z)===ae.length-1?q-F:F-q,Oe=_p({delta:fe,initialLayout:ke,panelConstraints:U,pivotIndices:re,prevLayout:ke,trigger:"imperative-api"});qv(ke,Oe)||(v(Oe),k.current.layout=Oe,he&&he(Oe),mu(ae,Oe,_.current))}}},[]),T=Tr((Z,he)=>{const{onLayout:ke}=O.current,{layout:ae,panelDataArray:U}=k.current;if(Z.constraints.collapsible){const F=U.map(Pe=>Pe.constraints),{collapsedSize:q=0,panelSize:re=0,minSize:de=0,pivotIndices:fe}=Ml(U,Z,ae),Oe=he!=null?he:de;if(Cs(re,q)){const Pe=y.current.get(Z.id),vt=Pe!=null&&Pe>=Oe?Pe:Oe,Ht=ku(U,Z)===U.length-1?re-vt:vt-re,C=_p({delta:Ht,initialLayout:ae,panelConstraints:F,pivotIndices:fe,prevLayout:ae,trigger:"imperative-api"});qv(ae,C)||(v(C),k.current.layout=C,ke&&ke(C),mu(U,C,_.current))}}},[]),D=Tr(Z=>{const{layout:he,panelDataArray:ke}=k.current,{panelSize:ae}=Ml(ke,Z,he);return dt(ae!=null,`Panel size not found for panel "${Z.id}"`),ae},[]),j=Tr((Z,he)=>{const{panelDataArray:ke}=k.current,ae=ku(ke,Z);return Bre({defaultSize:he,dragState:m,layout:x,panelData:ke,panelIndex:ae})},[m,x]),A=Tr(Z=>{const{layout:he,panelDataArray:ke}=k.current,{collapsedSize:ae=0,collapsible:U,panelSize:F}=Ml(ke,Z,he);return dt(F!=null,`Panel size not found for panel "${Z.id}"`),U===!0&&Cs(F,ae)},[]),K=Tr(Z=>{const{layout:he,panelDataArray:ke}=k.current,{collapsedSize:ae=0,collapsible:U,panelSize:F}=Ml(ke,Z,he);return dt(F!=null,`Panel size not found for panel "${Z.id}"`),!U||Ac(F,ae)>0},[]),H=Tr(Z=>{const{panelDataArray:he}=k.current;he.push(Z),he.sort((ke,ae)=>{const U=ke.order,F=ae.order;return U==null&&F==null?0:U==null?-1:F==null?1:U-F}),k.current.panelDataArrayChanged=!0,h()},[h]);mc(()=>{if(k.current.panelDataArrayChanged){k.current.panelDataArrayChanged=!1;const{autoSaveId:Z,onLayout:he,storage:ke}=O.current,{layout:ae,panelDataArray:U}=k.current;let F=null;if(Z){const re=Vre(Z,U,ke);re&&(y.current=new Map(Object.entries(re.expandToSizes)),F=re.layout)}F==null&&(F=Fre({panelDataArray:U}));const q=jN({layout:F,panelConstraints:U.map(re=>re.constraints)});FN(ae,q)||(v(q),k.current.layout=q,he&&he(q),mu(U,q,_.current))}}),mc(()=>{const Z=k.current;return()=>{Z.layout=[]}},[]);const ee=Tr(Z=>function(ke){ke.preventDefault();const ae=p.current;if(!ae)return()=>null;const{direction:U,dragState:F,id:q,keyboardResizeBy:re,onLayout:de}=O.current,{layout:fe,panelDataArray:Oe}=k.current,{initialLayout:Pe}=F!=null?F:{},vt=b4(q,Z,ae);let ot=zre(ke,Z,U,F,re,ae);const Ht=U==="horizontal";document.dir==="rtl"&&Ht&&(ot=-ot);const C=Oe.map(oe=>oe.constraints),N=_p({delta:ot,initialLayout:Pe!=null?Pe:fe,panelConstraints:C,pivotIndices:vt,prevLayout:fe,trigger:p4(ke)?"keyboard":"mouse-or-touch"}),$=!qv(fe,N);(h4(ke)||m4(ke))&&S.current!=ot&&(S.current=ot,!$&&ot!==0?Ht?wb(Z,ot<0?v4:y4):wb(Z,ot<0?x4:_4):wb(Z,0)),$&&(v(N),k.current.layout=N,de&&de(N),mu(Oe,N,_.current))},[]),X=Tr((Z,he)=>{const{onLayout:ke}=O.current,{layout:ae,panelDataArray:U}=k.current,F=U.map(Pe=>Pe.constraints),{panelSize:q,pivotIndices:re}=Ml(U,Z,ae);dt(q!=null,`Panel size not found for panel "${Z.id}"`);const fe=ku(U,Z)===U.length-1?q-he:he-q,Oe=_p({delta:fe,initialLayout:ae,panelConstraints:F,pivotIndices:re,prevLayout:ae,trigger:"imperative-api"});qv(ae,Oe)||(v(Oe),k.current.layout=Oe,ke&&ke(Oe),mu(U,Oe,_.current))},[]),ye=Tr((Z,he)=>{const{layout:ke,panelDataArray:ae}=k.current,{collapsedSize:U=0,collapsible:F}=he,{collapsedSize:q=0,collapsible:re,maxSize:de=100,minSize:fe=0}=Z.constraints,{panelSize:Oe}=Ml(ae,Z,ke);Oe!=null&&(F&&re&&Cs(Oe,U)?Cs(U,q)||X(Z,q):Oe<fe?X(Z,fe):Oe>de&&X(Z,de))},[X]),z=Tr((Z,he)=>{const{direction:ke}=O.current,{layout:ae}=k.current;if(!p.current)return;const U=V_(Z,p.current);dt(U,`Drag handle element not found for id "${Z}"`);const F=E4(ke,he);g({dragHandleId:Z,dragHandleRect:U.getBoundingClientRect(),initialCursorPosition:F,initialLayout:ae})},[]),I=Tr(()=>{g(null)},[]),J=Tr(Z=>{const{panelDataArray:he}=k.current,ke=ku(he,Z);ke>=0&&(he.splice(ke,1),delete _.current[Z.id],k.current.panelDataArrayChanged=!0,h())},[h]),xe=yre(()=>({collapsePanel:E,direction:r,dragState:m,expandPanel:T,getPanelSize:D,getPanelStyle:j,groupId:f,isPanelCollapsed:A,isPanelExpanded:K,reevaluatePanelConstraints:ye,registerPanel:H,registerResizeHandle:ee,resizePanel:X,startDragging:z,stopDragging:I,unregisterPanel:J,panelGroupElement:p.current}),[E,m,r,T,D,j,f,A,K,ye,H,ee,X,z,I,J]),Be={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return Gd(F_.Provider,{value:xe},Gd(d,{...c,children:e,className:n,id:i,ref:p,style:{...Be,...u},"data-panel-group":"","data-panel-group-direction":r,"data-panel-group-id":f}))}const R4=l4((t,e)=>Gd(P4,{...t,forwardedRef:e}));P4.displayName="PanelGroup";R4.displayName="forwardRef(PanelGroup)";function ku(t,e){return t.findIndex(n=>n===e||n.id===e.id)}function Ml(t,e,n){const r=ku(t,e),i=r===t.length-1?[r-1,r]:[r,r+1],s=n[r];return{...e.constraints,panelSize:s,pivotIndices:i}}function Wre({disabled:t,handleId:e,resizeHandler:n,panelGroupElement:r}){hc(()=>{if(t||n==null||r==null)return;const o=V_(e,r);if(o==null)return;const i=s=>{if(!s.defaultPrevented)switch(s.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{s.preventDefault(),n(s);break}case"F6":{s.preventDefault();const a=o.getAttribute("data-panel-group-id");dt(a,`No group element found for id "${a}"`);const l=Em(a,r),u=w4(a,e,r);dt(u!==null,`No resize element found for id "${e}"`);const d=s.shiftKey?u>0?u-1:l.length-1:u+1<l.length?u+1:0;l[d].focus();break}}};return o.addEventListener("keydown",i),()=>{o.removeEventListener("keydown",i)}},[r,t,e,n])}function T4({children:t=null,className:e="",disabled:n=!1,hitAreaMargins:r,id:o,onBlur:i,onDragging:s,onFocus:a,style:l={},tabIndex:u=0,tagName:d="div",...c}){var f,p;const m=Lr(null),g=Lr({onDragging:s});hc(()=>{g.current.onDragging=s});const x=c4(F_);if(x===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:v,groupId:h,registerResizeHandle:_,startDragging:y,stopDragging:S,panelGroupElement:O}=x,k=uO(o),[E,T]=ld("inactive"),[D,j]=ld(!1),[A,K]=ld(null),H=Lr({state:E});mc(()=>{H.current.state=E}),hc(()=>{if(n)K(null);else{const z=_(k);K(()=>z)}},[n,k,_]);const ee=(f=r==null?void 0:r.coarse)!==null&&f!==void 0?f:15,X=(p=r==null?void 0:r.fine)!==null&&p!==void 0?p:5;return hc(()=>{if(n||A==null)return;const z=m.current;return dt(z,"Element ref not attached"),Mre(k,z,v,{coarse:ee,fine:X},(J,xe,Be)=>{if(xe)switch(J){case"down":{T("drag"),dt(Be,'Expected event to be defined for "down" action'),y(k,Be);const{onDragging:Z}=g.current;Z&&Z(!0);break}case"move":{const{state:Z}=H.current;Z!=="drag"&&T("hover"),dt(Be,'Expected event to be defined for "move" action'),A(Be);break}case"up":{T("hover"),S();const{onDragging:Z}=g.current;Z&&Z(!1);break}}else T("inactive")})},[ee,v,n,X,_,k,A,y,S]),Wre({disabled:n,handleId:k,resizeHandler:A,panelGroupElement:O}),Gd(d,{...c,children:t,className:e,id:o,onBlur:()=>{j(!1),i==null||i()},onFocus:()=>{j(!0),a==null||a()},ref:m,role:"separator",style:{...{touchAction:"none",userSelect:"none"},...l},tabIndex:u,"data-panel-group-direction":v,"data-panel-group-id":h,"data-resize-handle":"","data-resize-handle-active":E==="drag"?"pointer":D?"keyboard":void 0,"data-resize-handle-state":E,"data-panel-resize-handle-enabled":!n,"data-panel-resize-handle-id":k})}T4.displayName="PanelResizeHandle";const M4=({className:t,...e})=>w(R4,{className:Te("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",t),...e}),ud=f4,K0=({withHandle:t,className:e,...n})=>w(T4,{className:Te("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",e),...n,children:t&&w("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border",children:w($C,{className:"h-2.5 w-2.5"})})});var hO="Tabs",[Kre,K1e]=es(hO,[L_]),N4=L_(),[qre,mO]=Kre(hO),D4=b.exports.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:i,orientation:s="horizontal",dir:a,activationMode:l="automatic",...u}=t,d=v_(a),[c,f]=nl({prop:r,onChange:o,defaultProp:i});return w(qre,{scope:n,baseId:fi(),value:c,onValueChange:f,orientation:s,dir:d,activationMode:l,children:w(rt.div,{dir:d,"data-orientation":s,...u,ref:e})})});D4.displayName=hO;var A4="TabsList",I4=b.exports.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...o}=t,i=mO(A4,n),s=N4(n);return w(u3,{asChild:!0,...s,orientation:i.orientation,dir:i.dir,loop:r,children:w(rt.div,{role:"tablist","aria-orientation":i.orientation,...o,ref:e})})});I4.displayName=A4;var L4="TabsTrigger",$4=b.exports.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...i}=t,s=mO(L4,n),a=N4(n),l=B4(s.baseId,r),u=j4(s.baseId,r),d=r===s.value;return w(d3,{asChild:!0,...a,focusable:!o,active:d,children:w(rt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:l,...i,ref:e,onMouseDown:Re(t.onMouseDown,c=>{!o&&c.button===0&&c.ctrlKey===!1?s.onValueChange(r):c.preventDefault()}),onKeyDown:Re(t.onKeyDown,c=>{[" ","Enter"].includes(c.key)&&s.onValueChange(r)}),onFocus:Re(t.onFocus,()=>{const c=s.activationMode!=="manual";!d&&!o&&c&&s.onValueChange(r)})})})});$4.displayName=L4;var z4="TabsContent",F4=b.exports.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:o,children:i,...s}=t,a=mO(z4,n),l=B4(a.baseId,r),u=j4(a.baseId,r),d=r===a.value,c=b.exports.useRef(d);return b.exports.useEffect(()=>{const f=requestAnimationFrame(()=>c.current=!1);return()=>cancelAnimationFrame(f)},[]),w(Ei,{present:o||d,children:({present:f})=>w(rt.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:u,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:c.current?"0s":void 0},children:f&&i})})});F4.displayName=z4;function B4(t,e){return`${t}-trigger-${e}`}function j4(t,e){return`${t}-content-${e}`}var Gre=D4,V4=I4,U4=$4,H4=F4;const q0=Gre,km=b.exports.forwardRef(({className:t,...e},n)=>w(V4,{ref:n,className:Te("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));km.displayName=V4.displayName;const ei=b.exports.forwardRef(({className:t,...e},n)=>w(U4,{ref:n,className:Te("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));ei.displayName=U4.displayName;const ti=b.exports.forwardRef(({className:t,...e},n)=>w(H4,{ref:n,className:Te("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));ti.displayName=H4.displayName;const W4=b.exports.forwardRef(({className:t,...e},n)=>w("textarea",{className:Te("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:border focus-visible:border-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));W4.displayName="Textarea";const Zre=b.exports.forwardRef(({className:t,...e},n)=>w("div",{ref:n,className:Te("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Zre.displayName="Card";const Qre=b.exports.forwardRef(({className:t,...e},n)=>w("div",{ref:n,className:Te("flex flex-col space-y-1.5 p-6",t),...e}));Qre.displayName="CardHeader";const qS=b.exports.forwardRef(({className:t,...e},n)=>w("h3",{ref:n,className:Te("text-2xl font-semibold leading-none tracking-tight",t),...e}));qS.displayName="CardTitle";const Yre=b.exports.forwardRef(({className:t,...e},n)=>w("p",{ref:n,className:Te("text-sm text-muted-foreground",t),...e}));Yre.displayName="CardDescription";const Xre=b.exports.forwardRef(({className:t,...e},n)=>w("div",{ref:n,className:Te("p-6 pt-0",t),...e}));Xre.displayName="CardContent";const Jre=b.exports.forwardRef(({className:t,...e},n)=>w("div",{ref:n,className:Te("flex items-center p-6 pt-0",t),...e}));Jre.displayName="CardFooter";var Cg=t=>t.type==="checkbox",Zu=t=>t instanceof Date,gr=t=>t==null;const K4=t=>typeof t=="object";var bn=t=>!gr(t)&&!Array.isArray(t)&&K4(t)&&!Zu(t),q4=t=>bn(t)&&t.target?Cg(t.target)?t.target.checked:t.target.value:t,eoe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,G4=(t,e)=>t.has(eoe(e)),toe=t=>{const e=t.constructor&&t.constructor.prototype;return bn(e)&&e.hasOwnProperty("isPrototypeOf")},gO=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Mr(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(gO&&(t instanceof Blob||t instanceof FileList))&&(n||bn(t)))if(e=n?[]:{},!n&&!toe(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Mr(t[r]));else return t;return e}var U_=t=>Array.isArray(t)?t.filter(Boolean):[],cn=t=>t===void 0,se=(t,e,n)=>{if(!e||!bn(t))return n;const r=U_(e.split(/[,[\].]+?/)).reduce((o,i)=>gr(o)?o:o[i],t);return cn(r)||r===t?cn(t[e])?n:t[e]:r},bo=t=>typeof t=="boolean",vO=t=>/^\w*$/.test(t),Z4=t=>U_(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Tt=(t,e,n)=>{let r=-1;const o=vO(e)?[e]:Z4(e),i=o.length,s=i-1;for(;++r<i;){const a=o[r];let l=n;if(r!==s){const u=t[a];l=bn(u)||Array.isArray(u)?u:isNaN(+o[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const G0={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},si={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ds={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Q4=$e.createContext(null),H_=()=>$e.useContext(Q4),noe=t=>{const{children:e,...n}=t;return w(Q4.Provider,{value:n,children:e})};var Y4=(t,e,n,r=!0)=>{const o={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(o,i,{get:()=>{const s=i;return e._proxyFormState[s]!==si.all&&(e._proxyFormState[s]=!r||si.all),n&&(n[s]=!0),t[s]}});return o},Ir=t=>bn(t)&&!Object.keys(t).length,X4=(t,e,n,r)=>{n(t);const{name:o,...i}=t;return Ir(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(s=>e[s]===(!r||si.all))},Ph=t=>Array.isArray(t)?t:[t],J4=(t,e,n)=>!t||!e||t===e||Ph(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function yO(t){const e=$e.useRef(t);e.current=t,$e.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function roe(t){const e=H_(),{control:n=e.control,disabled:r,name:o,exact:i}=t||{},[s,a]=$e.useState(n._formState),l=$e.useRef(!0),u=$e.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=$e.useRef(o);return d.current=o,yO({disabled:r,next:c=>l.current&&J4(d.current,c.name,i)&&X4(c,u.current,n._updateFormState)&&a({...n._formState,...c}),subject:n._subjects.state}),$e.useEffect(()=>(l.current=!0,u.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),Y4(s,n,u.current,!1)}var Vi=t=>typeof t=="string",ej=(t,e,n,r,o)=>Vi(t)?(r&&e.watch.add(t),se(n,t,o)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),se(n,i))):(r&&(e.watchAll=!0),n);function ooe(t){const e=H_(),{control:n=e.control,name:r,defaultValue:o,disabled:i,exact:s}=t||{},a=$e.useRef(r);a.current=r,yO({disabled:i,subject:n._subjects.values,next:d=>{J4(a.current,d.name,s)&&u(Mr(ej(a.current,n._names,d.values||n._formValues,!1,o)))}});const[l,u]=$e.useState(n._getWatch(r,o));return $e.useEffect(()=>n._removeUnmounted()),l}function ioe(t){const e=H_(),{name:n,disabled:r,control:o=e.control,shouldUnregister:i}=t,s=G4(o._names.array,n),a=ooe({control:o,name:n,defaultValue:se(o._formValues,n,se(o._defaultValues,n,t.defaultValue)),exact:!0}),l=roe({control:o,name:n,exact:!0}),u=$e.useRef(o.register(n,{...t.rules,value:a,...bo(t.disabled)?{disabled:t.disabled}:{}}));return $e.useEffect(()=>{const d=o._options.shouldUnregister||i,c=(f,p)=>{const m=se(o._fields,f);m&&m._f&&(m._f.mount=p)};if(c(n,!0),d){const f=Mr(se(o._options.defaultValues,n));Tt(o._defaultValues,n,f),cn(se(o._formValues,n))&&Tt(o._formValues,n,f)}return()=>{(s?d&&!o._state.action:d)?o.unregister(n):c(n,!1)}},[n,o,s,i]),$e.useEffect(()=>{se(o._fields,n)&&o._updateDisabledField({disabled:r,fields:o._fields,name:n,value:se(o._fields,n)._f.value})},[r,n,o]),{field:{name:n,value:a,...bo(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:$e.useCallback(d=>u.current.onChange({target:{value:q4(d),name:n},type:G0.CHANGE}),[n]),onBlur:$e.useCallback(()=>u.current.onBlur({target:{value:se(o._formValues,n),name:n},type:G0.BLUR}),[n,o]),ref:$e.useCallback(d=>{const c=se(o._fields,n);c&&d&&(c._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:f=>d.setCustomValidity(f),reportValidity:()=>d.reportValidity()})},[o._fields,n])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!se(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!se(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!se(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!se(l.validatingFields,n)},error:{enumerable:!0,get:()=>se(l.errors,n)}})}}const soe=t=>t.render(ioe(t));var tj=(t,e,n,r,o)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:o||!0}}:{},UN=t=>({isOnSubmit:!t||t===si.onSubmit,isOnBlur:t===si.onBlur,isOnChange:t===si.onChange,isOnAll:t===si.all,isOnTouch:t===si.onTouched}),HN=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Rh=(t,e,n,r)=>{for(const o of n||Object.keys(t)){const i=se(t,o);if(i){const{_f:s,...a}=i;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],o)&&!r)return!0;if(s.ref&&e(s.ref,s.name)&&!r)return!0;if(Rh(a,e))break}else if(bn(a)&&Rh(a,e))break}}};var aoe=(t,e,n)=>{const r=Ph(se(t,n));return Tt(r,"root",e[n]),Tt(t,n,r),t},xO=t=>t.type==="file",Rs=t=>typeof t=="function",Z0=t=>{if(!gO)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Ty=t=>Vi(t),_O=t=>t.type==="radio",Q0=t=>t instanceof RegExp;const WN={value:!1,isValid:!1},KN={value:!0,isValid:!0};var nj=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!cn(t[0].attributes.value)?cn(t[0].value)||t[0].value===""?KN:{value:t[0].value,isValid:!0}:KN:WN}return WN};const qN={isValid:!1,value:null};var rj=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,qN):qN;function GN(t,e,n="validate"){if(Ty(t)||Array.isArray(t)&&t.every(Ty)||bo(t)&&!t)return{type:n,message:Ty(t)?t:"",ref:e}}var gu=t=>bn(t)&&!Q0(t)?t:{value:t,message:""},ZN=async(t,e,n,r,o)=>{const{ref:i,refs:s,required:a,maxLength:l,minLength:u,min:d,max:c,pattern:f,validate:p,name:m,valueAsNumber:g,mount:x,disabled:v}=t._f,h=se(e,m);if(!x||v)return{};const _=s?s[0]:i,y=A=>{r&&_.reportValidity&&(_.setCustomValidity(bo(A)?"":A||""),_.reportValidity())},S={},O=_O(i),k=Cg(i),E=O||k,T=(g||xO(i))&&cn(i.value)&&cn(h)||Z0(i)&&i.value===""||h===""||Array.isArray(h)&&!h.length,D=tj.bind(null,m,n,S),j=(A,K,H,ee=ds.maxLength,X=ds.minLength)=>{const ye=A?K:H;S[m]={type:A?ee:X,message:ye,ref:i,...D(A?ee:X,ye)}};if(o?!Array.isArray(h)||!h.length:a&&(!E&&(T||gr(h))||bo(h)&&!h||k&&!nj(s).isValid||O&&!rj(s).isValid)){const{value:A,message:K}=Ty(a)?{value:!!a,message:a}:gu(a);if(A&&(S[m]={type:ds.required,message:K,ref:_,...D(ds.required,K)},!n))return y(K),S}if(!T&&(!gr(d)||!gr(c))){let A,K;const H=gu(c),ee=gu(d);if(!gr(h)&&!isNaN(h)){const X=i.valueAsNumber||h&&+h;gr(H.value)||(A=X>H.value),gr(ee.value)||(K=X<ee.value)}else{const X=i.valueAsDate||new Date(h),ye=J=>new Date(new Date().toDateString()+" "+J),z=i.type=="time",I=i.type=="week";Vi(H.value)&&h&&(A=z?ye(h)>ye(H.value):I?h>H.value:X>new Date(H.value)),Vi(ee.value)&&h&&(K=z?ye(h)<ye(ee.value):I?h<ee.value:X<new Date(ee.value))}if((A||K)&&(j(!!A,H.message,ee.message,ds.max,ds.min),!n))return y(S[m].message),S}if((l||u)&&!T&&(Vi(h)||o&&Array.isArray(h))){const A=gu(l),K=gu(u),H=!gr(A.value)&&h.length>+A.value,ee=!gr(K.value)&&h.length<+K.value;if((H||ee)&&(j(H,A.message,K.message),!n))return y(S[m].message),S}if(f&&!T&&Vi(h)){const{value:A,message:K}=gu(f);if(Q0(A)&&!h.match(A)&&(S[m]={type:ds.pattern,message:K,ref:i,...D(ds.pattern,K)},!n))return y(K),S}if(p){if(Rs(p)){const A=await p(h,e),K=GN(A,_);if(K&&(S[m]={...K,...D(ds.validate,K.message)},!n))return y(K.message),S}else if(bn(p)){let A={};for(const K in p){if(!Ir(A)&&!n)break;const H=GN(await p[K](h,e),_,K);H&&(A={...H,...D(K,H.message)},y(H.message),n&&(S[m]=A))}if(!Ir(A)&&(S[m]={ref:_,...A},!n))return S}}return y(!0),S};function loe(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=cn(t)?r++:t[e[r++]];return t}function coe(t){for(const e in t)if(t.hasOwnProperty(e)&&!cn(t[e]))return!1;return!0}function En(t,e){const n=Array.isArray(e)?e:vO(e)?[e]:Z4(e),r=n.length===1?t:loe(t,n),o=n.length-1,i=n[o];return r&&delete r[i],o!==0&&(bn(r)&&Ir(r)||Array.isArray(r)&&coe(r))&&En(t,n.slice(0,-1)),t}var bb=()=>{let t=[];return{get observers(){return t},next:o=>{for(const i of t)i.next&&i.next(o)},subscribe:o=>(t.push(o),{unsubscribe:()=>{t=t.filter(i=>i!==o)}}),unsubscribe:()=>{t=[]}}},Y0=t=>gr(t)||!K4(t);function _a(t,e){if(Y0(t)||Y0(e))return t===e;if(Zu(t)&&Zu(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const o of n){const i=t[o];if(!r.includes(o))return!1;if(o!=="ref"){const s=e[o];if(Zu(i)&&Zu(s)||bn(i)&&bn(s)||Array.isArray(i)&&Array.isArray(s)?!_a(i,s):i!==s)return!1}}return!0}var oj=t=>t.type==="select-multiple",uoe=t=>_O(t)||Cg(t),Sb=t=>Z0(t)&&t.isConnected,ij=t=>{for(const e in t)if(Rs(t[e]))return!0;return!1};function X0(t,e={}){const n=Array.isArray(t);if(bn(t)||n)for(const r in t)Array.isArray(t[r])||bn(t[r])&&!ij(t[r])?(e[r]=Array.isArray(t[r])?[]:{},X0(t[r],e[r])):gr(t[r])||(e[r]=!0);return e}function sj(t,e,n){const r=Array.isArray(t);if(bn(t)||r)for(const o in t)Array.isArray(t[o])||bn(t[o])&&!ij(t[o])?cn(e)||Y0(n[o])?n[o]=Array.isArray(t[o])?X0(t[o],[]):{...X0(t[o])}:sj(t[o],gr(e)?{}:e[o],n[o]):n[o]=!_a(t[o],e[o]);return n}var Gv=(t,e)=>sj(t,e,X0(e)),aj=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>cn(t)?t:e?t===""?NaN:t&&+t:n&&Vi(t)?new Date(t):r?r(t):t;function Eb(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return xO(e)?e.files:_O(e)?rj(t.refs).value:oj(e)?[...e.selectedOptions].map(({value:n})=>n):Cg(e)?nj(t.refs).value:aj(cn(e.value)?t.ref.value:e.value,t)}var doe=(t,e,n,r)=>{const o={};for(const i of t){const s=se(e,i);s&&Tt(o,i,s._f)}return{criteriaMode:n,names:[...t],fields:o,shouldUseNativeValidation:r}},sp=t=>cn(t)?t:Q0(t)?t.source:bn(t)?Q0(t.value)?t.value.source:t.value:t;const QN="AsyncFunction";var foe=t=>(!t||!t.validate)&&!!(Rs(t.validate)&&t.validate.constructor.name===QN||bn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===QN)),poe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function YN(t,e,n){const r=se(t,n);if(r||vO(n))return{error:r,name:n};const o=n.split(".");for(;o.length;){const i=o.join("."),s=se(e,i),a=se(t,i);if(s&&!Array.isArray(s)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};o.pop()}return{name:n}}var hoe=(t,e,n,r,o)=>o.isOnAll?!1:!n&&o.isOnTouch?!(e||t):(n?r.isOnBlur:o.isOnBlur)?!t:(n?r.isOnChange:o.isOnChange)?t:!0,moe=(t,e)=>!U_(se(t,e)).length&&En(t,e);const goe={mode:si.onSubmit,reValidateMode:si.onChange,shouldFocusError:!0};function voe(t={}){let e={...goe,...t},n={submitCount:0,isDirty:!1,isLoading:Rs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},o=bn(e.defaultValues)||bn(e.values)?Mr(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Mr(o),s={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},c={values:bb(),array:bb(),state:bb()},f=UN(e.mode),p=UN(e.reValidateMode),m=e.criteriaMode===si.all,g=C=>N=>{clearTimeout(u),u=setTimeout(C,N)},x=async C=>{if(d.isValid||C){const N=e.resolver?Ir((await E()).errors):await D(r,!0);N!==n.isValid&&c.state.next({isValid:N})}},v=(C,N)=>{(d.isValidating||d.validatingFields)&&((C||Array.from(a.mount)).forEach($=>{$&&(N?Tt(n.validatingFields,$,N):En(n.validatingFields,$))}),c.state.next({validatingFields:n.validatingFields,isValidating:!Ir(n.validatingFields)}))},h=(C,N=[],$,oe,ie=!0,G=!0)=>{if(oe&&$){if(s.action=!0,G&&Array.isArray(se(r,C))){const Ie=$(se(r,C),oe.argA,oe.argB);ie&&Tt(r,C,Ie)}if(G&&Array.isArray(se(n.errors,C))){const Ie=$(se(n.errors,C),oe.argA,oe.argB);ie&&Tt(n.errors,C,Ie),moe(n.errors,C)}if(d.touchedFields&&G&&Array.isArray(se(n.touchedFields,C))){const Ie=$(se(n.touchedFields,C),oe.argA,oe.argB);ie&&Tt(n.touchedFields,C,Ie)}d.dirtyFields&&(n.dirtyFields=Gv(o,i)),c.state.next({name:C,isDirty:A(C,N),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Tt(i,C,N)},_=(C,N)=>{Tt(n.errors,C,N),c.state.next({errors:n.errors})},y=C=>{n.errors=C,c.state.next({errors:n.errors,isValid:!1})},S=(C,N,$,oe)=>{const ie=se(r,C);if(ie){const G=se(i,C,cn($)?se(o,C):$);cn(G)||oe&&oe.defaultChecked||N?Tt(i,C,N?G:Eb(ie._f)):ee(C,G),s.mount&&x()}},O=(C,N,$,oe,ie)=>{let G=!1,Ie=!1;const Ct={name:C},$t=!!(se(r,C)&&se(r,C)._f&&se(r,C)._f.disabled);if(!$||oe){d.isDirty&&(Ie=n.isDirty,n.isDirty=Ct.isDirty=A(),G=Ie!==Ct.isDirty);const Wt=$t||_a(se(o,C),N);Ie=!!(!$t&&se(n.dirtyFields,C)),Wt||$t?En(n.dirtyFields,C):Tt(n.dirtyFields,C,!0),Ct.dirtyFields=n.dirtyFields,G=G||d.dirtyFields&&Ie!==!Wt}if($){const Wt=se(n.touchedFields,C);Wt||(Tt(n.touchedFields,C,$),Ct.touchedFields=n.touchedFields,G=G||d.touchedFields&&Wt!==$)}return G&&ie&&c.state.next(Ct),G?Ct:{}},k=(C,N,$,oe)=>{const ie=se(n.errors,C),G=d.isValid&&bo(N)&&n.isValid!==N;if(t.delayError&&$?(l=g(()=>_(C,$)),l(t.delayError)):(clearTimeout(u),l=null,$?Tt(n.errors,C,$):En(n.errors,C)),($?!_a(ie,$):ie)||!Ir(oe)||G){const Ie={...oe,...G&&bo(N)?{isValid:N}:{},errors:n.errors,name:C};n={...n,...Ie},c.state.next(Ie)}},E=async C=>{v(C,!0);const N=await e.resolver(i,e.context,doe(C||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return v(C),N},T=async C=>{const{errors:N}=await E(C);if(C)for(const $ of C){const oe=se(N,$);oe?Tt(n.errors,$,oe):En(n.errors,$)}else n.errors=N;return N},D=async(C,N,$={valid:!0})=>{for(const oe in C){const ie=C[oe];if(ie){const{_f:G,...Ie}=ie;if(G){const Ct=a.array.has(G.name),$t=ie._f&&foe(ie._f);$t&&d.validatingFields&&v([oe],!0);const Wt=await ZN(ie,i,m,e.shouldUseNativeValidation&&!N,Ct);if($t&&d.validatingFields&&v([oe]),Wt[G.name]&&($.valid=!1,N))break;!N&&(se(Wt,G.name)?Ct?aoe(n.errors,Wt,G.name):Tt(n.errors,G.name,Wt[G.name]):En(n.errors,G.name))}!Ir(Ie)&&await D(Ie,N,$)}}return $.valid},j=()=>{for(const C of a.unMount){const N=se(r,C);N&&(N._f.refs?N._f.refs.every($=>!Sb($)):!Sb(N._f.ref))&&ae(C)}a.unMount=new Set},A=(C,N)=>(C&&N&&Tt(i,C,N),!_a(xe(),o)),K=(C,N,$)=>ej(C,a,{...s.mount?i:cn(N)?o:Vi(C)?{[C]:N}:N},$,N),H=C=>U_(se(s.mount?i:o,C,t.shouldUnregister?se(o,C,[]):[])),ee=(C,N,$={})=>{const oe=se(r,C);let ie=N;if(oe){const G=oe._f;G&&(!G.disabled&&Tt(i,C,aj(N,G)),ie=Z0(G.ref)&&gr(N)?"":N,oj(G.ref)?[...G.ref.options].forEach(Ie=>Ie.selected=ie.includes(Ie.value)):G.refs?Cg(G.ref)?G.refs.length>1?G.refs.forEach(Ie=>(!Ie.defaultChecked||!Ie.disabled)&&(Ie.checked=Array.isArray(ie)?!!ie.find(Ct=>Ct===Ie.value):ie===Ie.value)):G.refs[0]&&(G.refs[0].checked=!!ie):G.refs.forEach(Ie=>Ie.checked=Ie.value===ie):xO(G.ref)?G.ref.value="":(G.ref.value=ie,G.ref.type||c.values.next({name:C,values:{...i}})))}($.shouldDirty||$.shouldTouch)&&O(C,ie,$.shouldTouch,$.shouldDirty,!0),$.shouldValidate&&J(C)},X=(C,N,$)=>{for(const oe in N){const ie=N[oe],G=`${C}.${oe}`,Ie=se(r,G);(a.array.has(C)||!Y0(ie)||Ie&&!Ie._f)&&!Zu(ie)?X(G,ie,$):ee(G,ie,$)}},ye=(C,N,$={})=>{const oe=se(r,C),ie=a.array.has(C),G=Mr(N);Tt(i,C,G),ie?(c.array.next({name:C,values:{...i}}),(d.isDirty||d.dirtyFields)&&$.shouldDirty&&c.state.next({name:C,dirtyFields:Gv(o,i),isDirty:A(C,G)})):oe&&!oe._f&&!gr(G)?X(C,G,$):ee(C,G,$),HN(C,a)&&c.state.next({...n}),c.values.next({name:s.mount?C:void 0,values:{...i}})},z=async C=>{s.mount=!0;const N=C.target;let $=N.name,oe=!0;const ie=se(r,$),G=()=>N.type?Eb(ie._f):q4(C),Ie=Ct=>{oe=Number.isNaN(Ct)||_a(Ct,se(i,$,Ct))};if(ie){let Ct,$t;const Wt=G(),Pi=C.type===G0.BLUR||C.type===G0.FOCUS_OUT,Hf=!poe(ie._f)&&!e.resolver&&!se(n.errors,$)&&!ie._f.deps||hoe(Pi,se(n.touchedFields,$),n.isSubmitted,p,f),xo=HN($,a,Pi);Tt(i,$,Wt),Pi?(ie._f.onBlur&&ie._f.onBlur(C),l&&l(0)):ie._f.onChange&&ie._f.onChange(C);const qr=O($,Wt,Pi,!1),dv=!Ir(qr)||xo;if(!Pi&&c.values.next({name:$,type:C.type,values:{...i}}),Hf)return d.isValid&&(t.mode==="onBlur"?Pi&&x():x()),dv&&c.state.next({name:$,...xo?{}:qr});if(!Pi&&xo&&c.state.next({...n}),e.resolver){const{errors:Tl}=await E([$]);if(Ie(Wt),oe){const kw=YN(n.errors,r,$),Uo=YN(Tl,r,kw.name||$);Ct=Uo.error,$=Uo.name,$t=Ir(Tl)}}else v([$],!0),Ct=(await ZN(ie,i,m,e.shouldUseNativeValidation))[$],v([$]),Ie(Wt),oe&&(Ct?$t=!1:d.isValid&&($t=await D(r,!0)));oe&&(ie._f.deps&&J(ie._f.deps),k($,$t,Ct,qr))}},I=(C,N)=>{if(se(n.errors,N)&&C.focus)return C.focus(),1},J=async(C,N={})=>{let $,oe;const ie=Ph(C);if(e.resolver){const G=await T(cn(C)?C:ie);$=Ir(G),oe=C?!ie.some(Ie=>se(G,Ie)):$}else C?(oe=(await Promise.all(ie.map(async G=>{const Ie=se(r,G);return await D(Ie&&Ie._f?{[G]:Ie}:Ie)}))).every(Boolean),!(!oe&&!n.isValid)&&x()):oe=$=await D(r);return c.state.next({...!Vi(C)||d.isValid&&$!==n.isValid?{}:{name:C},...e.resolver||!C?{isValid:$}:{},errors:n.errors}),N.shouldFocus&&!oe&&Rh(r,I,C?ie:a.mount),oe},xe=C=>{const N={...s.mount?i:o};return cn(C)?N:Vi(C)?se(N,C):C.map($=>se(N,$))},Be=(C,N)=>({invalid:!!se((N||n).errors,C),isDirty:!!se((N||n).dirtyFields,C),error:se((N||n).errors,C),isValidating:!!se(n.validatingFields,C),isTouched:!!se((N||n).touchedFields,C)}),Z=C=>{C&&Ph(C).forEach(N=>En(n.errors,N)),c.state.next({errors:C?n.errors:{}})},he=(C,N,$)=>{const oe=(se(r,C,{_f:{}})._f||{}).ref,ie=se(n.errors,C)||{},{ref:G,message:Ie,type:Ct,...$t}=ie;Tt(n.errors,C,{...$t,...N,ref:oe}),c.state.next({name:C,errors:n.errors,isValid:!1}),$&&$.shouldFocus&&oe&&oe.focus&&oe.focus()},ke=(C,N)=>Rs(C)?c.values.subscribe({next:$=>C(K(void 0,N),$)}):K(C,N,!0),ae=(C,N={})=>{for(const $ of C?Ph(C):a.mount)a.mount.delete($),a.array.delete($),N.keepValue||(En(r,$),En(i,$)),!N.keepError&&En(n.errors,$),!N.keepDirty&&En(n.dirtyFields,$),!N.keepTouched&&En(n.touchedFields,$),!N.keepIsValidating&&En(n.validatingFields,$),!e.shouldUnregister&&!N.keepDefaultValue&&En(o,$);c.values.next({values:{...i}}),c.state.next({...n,...N.keepDirty?{isDirty:A()}:{}}),!N.keepIsValid&&x()},U=({disabled:C,name:N,field:$,fields:oe,value:ie})=>{if(bo(C)&&s.mount||!!C){const G=C?void 0:cn(ie)?Eb($?$._f:se(oe,N)._f):ie;Tt(i,N,G),O(N,G,!1,!1,!0)}},F=(C,N={})=>{let $=se(r,C);const oe=bo(N.disabled)||bo(t.disabled);return Tt(r,C,{...$||{},_f:{...$&&$._f?$._f:{ref:{name:C}},name:C,mount:!0,...N}}),a.mount.add(C),$?U({field:$,disabled:bo(N.disabled)?N.disabled:t.disabled,name:C,value:N.value}):S(C,!0,N.value),{...oe?{disabled:N.disabled||t.disabled}:{},...e.progressive?{required:!!N.required,min:sp(N.min),max:sp(N.max),minLength:sp(N.minLength),maxLength:sp(N.maxLength),pattern:sp(N.pattern)}:{},name:C,onChange:z,onBlur:z,ref:ie=>{if(ie){F(C,N),$=se(r,C);const G=cn(ie.value)&&ie.querySelectorAll&&ie.querySelectorAll("input,select,textarea")[0]||ie,Ie=uoe(G),Ct=$._f.refs||[];if(Ie?Ct.find($t=>$t===G):G===$._f.ref)return;Tt(r,C,{_f:{...$._f,...Ie?{refs:[...Ct.filter(Sb),G,...Array.isArray(se(o,C))?[{}]:[]],ref:{type:G.type,name:C}}:{ref:G}}}),S(C,!1,void 0,G)}else $=se(r,C,{}),$._f&&($._f.mount=!1),(e.shouldUnregister||N.shouldUnregister)&&!(G4(a.array,C)&&s.action)&&a.unMount.add(C)}}},q=()=>e.shouldFocusError&&Rh(r,I,a.mount),re=C=>{bo(C)&&(c.state.next({disabled:C}),Rh(r,(N,$)=>{const oe=se(r,$);oe&&(N.disabled=oe._f.disabled||C,Array.isArray(oe._f.refs)&&oe._f.refs.forEach(ie=>{ie.disabled=oe._f.disabled||C}))},0,!1))},de=(C,N)=>async $=>{let oe;$&&($.preventDefault&&$.preventDefault(),$.persist&&$.persist());let ie=Mr(i);if(c.state.next({isSubmitting:!0}),e.resolver){const{errors:G,values:Ie}=await E();n.errors=G,ie=Ie}else await D(r);if(En(n.errors,"root"),Ir(n.errors)){c.state.next({errors:{}});try{await C(ie,$)}catch(G){oe=G}}else N&&await N({...n.errors},$),q(),setTimeout(q);if(c.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ir(n.errors)&&!oe,submitCount:n.submitCount+1,errors:n.errors}),oe)throw oe},fe=(C,N={})=>{se(r,C)&&(cn(N.defaultValue)?ye(C,Mr(se(o,C))):(ye(C,N.defaultValue),Tt(o,C,Mr(N.defaultValue))),N.keepTouched||En(n.touchedFields,C),N.keepDirty||(En(n.dirtyFields,C),n.isDirty=N.defaultValue?A(C,Mr(se(o,C))):A()),N.keepError||(En(n.errors,C),d.isValid&&x()),c.state.next({...n}))},Oe=(C,N={})=>{const $=C?Mr(C):o,oe=Mr($),ie=Ir(C),G=ie?o:oe;if(N.keepDefaultValues||(o=$),!N.keepValues){if(N.keepDirtyValues)for(const Ie of a.mount)se(n.dirtyFields,Ie)?Tt(G,Ie,se(i,Ie)):ye(Ie,se(G,Ie));else{if(gO&&cn(C))for(const Ie of a.mount){const Ct=se(r,Ie);if(Ct&&Ct._f){const $t=Array.isArray(Ct._f.refs)?Ct._f.refs[0]:Ct._f.ref;if(Z0($t)){const Wt=$t.closest("form");if(Wt){Wt.reset();break}}}}r={}}i=t.shouldUnregister?N.keepDefaultValues?Mr(o):{}:Mr(G),c.array.next({values:{...G}}),c.values.next({values:{...G}})}a={mount:N.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!d.isValid||!!N.keepIsValid||!!N.keepDirtyValues,s.watch=!!t.shouldUnregister,c.state.next({submitCount:N.keepSubmitCount?n.submitCount:0,isDirty:ie?!1:N.keepDirty?n.isDirty:!!(N.keepDefaultValues&&!_a(C,o)),isSubmitted:N.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ie?{}:N.keepDirtyValues?N.keepDefaultValues&&i?Gv(o,i):n.dirtyFields:N.keepDefaultValues&&C?Gv(o,C):N.keepDirty?n.dirtyFields:{},touchedFields:N.keepTouched?n.touchedFields:{},errors:N.keepErrors?n.errors:{},isSubmitSuccessful:N.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Pe=(C,N)=>Oe(Rs(C)?C(i):C,N);return{control:{register:F,unregister:ae,getFieldState:Be,handleSubmit:de,setError:he,_executeSchema:E,_getWatch:K,_getDirty:A,_updateValid:x,_removeUnmounted:j,_updateFieldArray:h,_updateDisabledField:U,_getFieldArray:H,_reset:Oe,_resetDefaultValues:()=>Rs(e.defaultValues)&&e.defaultValues().then(C=>{Pe(C,e.resetOptions),c.state.next({isLoading:!1})}),_updateFormState:C=>{n={...n,...C}},_disableForm:re,_subjects:c,_proxyFormState:d,_setErrors:y,get _fields(){return r},get _formValues(){return i},get _state(){return s},set _state(C){s=C},get _defaultValues(){return o},get _names(){return a},set _names(C){a=C},get _formState(){return n},set _formState(C){n=C},get _options(){return e},set _options(C){e={...e,...C}}},trigger:J,register:F,handleSubmit:de,watch:ke,setValue:ye,getValues:xe,reset:Pe,resetField:fe,clearErrors:Z,unregister:ae,setError:he,setFocus:(C,N={})=>{const $=se(r,C),oe=$&&$._f;if(oe){const ie=oe.refs?oe.refs[0]:oe.ref;ie.focus&&(ie.focus(),N.shouldSelect&&ie.select())}},getFieldState:Be}}function yoe(t={}){const e=$e.useRef(),n=$e.useRef(),[r,o]=$e.useState({isDirty:!1,isValidating:!1,isLoading:Rs(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Rs(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...voe(t),formState:r});const i=e.current.control;return i._options=t,yO({subject:i._subjects.state,next:s=>{X4(s,i._proxyFormState,i._updateFormState,!0)&&o({...i._formState})}}),$e.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),$e.useEffect(()=>{if(i._proxyFormState.isDirty){const s=i._getDirty();s!==r.isDirty&&i._subjects.state.next({isDirty:s})}},[i,r.isDirty]),$e.useEffect(()=>{t.values&&!_a(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,o(s=>({...s}))):i._resetDefaultValues()},[t.values,i]),$e.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),$e.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),$e.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=Y4(r,i),e.current}var XN=function(t,e,n){if(t&&"reportValidity"in t){var r=se(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},lj=function(t,e){var n=function(o){var i=e.fields[o];i&&i.ref&&"reportValidity"in i.ref?XN(i.ref,o,t):i.refs&&i.refs.forEach(function(s){return XN(s,o,t)})};for(var r in e.fields)n(r)},xoe=function(t,e){e.shouldUseNativeValidation&&lj(t,e);var n={};for(var r in t){var o=se(e.fields,r),i=Object.assign(t[r]||{},{ref:o&&o.ref});if(_oe(e.names||Object.keys(t),r)){var s=Object.assign({},se(n,r));Tt(s,"root",i),Tt(n,r,s)}else Tt(n,r,i)}return n},_oe=function(t,e){return t.some(function(n){return n.startsWith(e+".")})},woe=function(t,e){for(var n={};t.length;){var r=t[0],o=r.code,i=r.message,s=r.path.join(".");if(!n[s])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[s]={message:a.message,type:a.code}}else n[s]={message:i,type:o};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(c){return t.push(c)})}),e){var l=n[s].types,u=l&&l[r.code];n[s]=tj(s,e,n,o,u?[].concat(u,r.message):r.message)}t.shift()}return n},boe=function(t,e,n){return n===void 0&&(n={}),function(r,o,i){try{return Promise.resolve(function(s,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(u){return i.shouldUseNativeValidation&&lj({},i),{errors:{},values:n.raw?r:u}})}catch(u){return a(u)}return l&&l.then?l.then(void 0,a):l}(0,function(s){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(s))return{values:{},errors:xoe(woe(s.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw s}))}catch(s){return Promise.reject(s)}}},Soe="Label",cj=b.exports.forwardRef((t,e)=>w(rt.label,{...t,ref:e,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=t.onMouseDown)==null||o.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));cj.displayName=Soe;var uj=cj;const Eoe=VC("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),dj=b.exports.forwardRef(({className:t,...e},n)=>w(uj,{ref:n,className:Te(Eoe(),t),...e}));dj.displayName=uj.displayName;const koe=noe,fj=b.exports.createContext({}),Zv=({...t})=>w(fj.Provider,{value:{name:t.name},children:w(soe,{...t})}),W_=()=>{const t=b.exports.useContext(fj),e=b.exports.useContext(pj),{getFieldState:n,formState:r}=H_(),o=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...o}},pj=b.exports.createContext({}),bp=b.exports.forwardRef(({className:t,...e},n)=>{const r=b.exports.useId();return w(pj.Provider,{value:{id:r},children:w("div",{ref:n,className:Te("space-y-2",t),...e})})});bp.displayName="FormItem";const Sp=b.exports.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:o}=W_();return w(dj,{ref:n,className:Te(r&&"text-destructive",t),htmlFor:o,...e})});Sp.displayName="FormLabel";const Coe=b.exports.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:o,formMessageId:i}=W_();return w(qi,{ref:e,id:r,"aria-describedby":n?`${o} ${i}`:`${o}`,"aria-invalid":!!n,...t})});Coe.displayName="FormControl";const Ooe=b.exports.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=W_();return w("p",{ref:n,id:r,className:Te("text-sm text-muted-foreground",t),...e})});Ooe.displayName="FormDescription";const GS=b.exports.forwardRef(({className:t,children:e,...n},r)=>{const{error:o,formMessageId:i}=W_(),s=o?String(o==null?void 0:o.message):e;return s?w("p",{ref:r,id:i,className:Te("text-sm font-medium text-destructive",t),...n,children:s}):null});GS.displayName="FormMessage";const Poe=JB.omit({id:!0}),Roe=({color:t,onChange:e})=>w("div",{className:"flex space-x-2 mt-2",children:["bg-red-500","bg-yellow-500","bg-green-500","bg-blue-500","bg-indigo-500","bg-purple-500","bg-pink-500","bg-gray-500"].map(r=>w("button",{className:`w-6 h-6 rounded-full ${r} transition-all duration-200 ease-in-out ${t===r?"ring-2 ring-offset-2 ring-gray-400":""}`,onClick:o=>{o.preventDefault(),e(r)}},r))});function Toe(t){const{objectTypesMap:e,updateObjectType:n}=o3(),r=yoe({resolver:boe(Poe),defaultValues:{name:"",icon:"",baseType:"page",description:"",color:"",properties:{}},values:e[t.tabID]}),o=Sl(),{removeTab:i}=bg(),s=Ete(t.tabID),{data:a,isPending:l}=n3(),u=r3(a!=null?a:[]),[d,c]=b.exports.useState({});if(b.exports.useEffect(()=>{const{unsubscribe:h}=r.watch(_=>{n({..._,id:t.tabID})});return()=>{h()}},[r.watch,n]),!a||l)return w("div",{children:"Loading..."});if(!u)return w(ho,{});if(u.some(h=>h.isLoading))return w("div",{children:"Loading..."});const p=u.map(h=>h.data),m=h=>{s({...h,properties:d}).then(()=>{o.invalidateQueries({queryKey:[t3]}),i(t.tabID)})},g=(h,_)=>{c(y=>Fr(y,S=>{S[h]=_}))},x=(h,_,y)=>{c(S=>Fr(S,O=>{var E,T;O[h].type=_,YB.safeParse(_).success||(O[h].name=(T=(E=p.find(D=>(D==null?void 0:D.id)===_))==null?void 0:E.name)!=null?T:"Unknown")}))},v=h=>{c(_=>Fr(_,y=>{delete y[h]}))};return w("div",{className:"w-full  p-6 h-full space-y-4 bg-background rounded-md shadow-md ",children:w("div",{className:"max-w-3xl mx-auto",children:w(koe,{...r,children:B("form",{onSubmit:r.handleSubmit(m),children:[w(qS,{children:"Create Object Type"}),B("div",{className:"space-y-4 mt-2",children:[B("div",{className:"grid grid-cols-2 gap-4",children:[w(Zv,{control:r.control,name:"icon",render:({field:h})=>B(bp,{children:[w(Sp,{htmlFor:"icon",children:"Icon"}),w(Dc,{...h,placeholder:"Select an icon"}),w(GS,{})]})}),w(Zv,{control:r.control,name:"name",render:({field:h})=>B(bp,{children:[w(Sp,{htmlFor:"baseType",children:"Name"}),w(Dc,{...h,placeholder:"Enter a name"}),w(GS,{})]})})]}),w("div",{className:"grid grid-cols-2 gap-4",children:w(Zv,{control:r.control,name:"color",render:({field:h})=>B(bp,{children:[w(Sp,{htmlFor:"color",children:"Color"}),w(Roe,{color:h.value,onChange:h.onChange})]})})}),w("div",{children:w(Zv,{control:r.control,name:"description",render:({field:h})=>B(bp,{children:[w(Sp,{htmlFor:"description",children:"Description"}),w(W4,{...h,placeholder:"Enter a description..."})]})})}),w(We,{type:"submit",children:"Create Object Type"})]}),w(Sg,{className:"my-2"}),w(qS,{children:"Edit properties"}),B("div",{className:"space-y-4",children:[B("p",{className:"text-sm text-muted-foreground",children:["Add, remove, and customize the properties of this object type."," ",w("a",{href:"#",className:"text-primary hover:underline",children:"Learn more"}),"."]}),Object.entries(d).map(([h,_],y)=>B("div",{className:"flex items-center justify-between",children:[B("div",{className:"flex items-center space-x-2",children:[_.icon," ",_.name]}),B("div",{className:"flex items-center space-x-2",children:[B(rB,{onValueChange:S=>x(h,S),value:_.type,children:[w(BC,{children:w(oB,{placeholder:"Select a type"})}),B(jC,{children:[w(va,{value:"text",children:"Text"}),w(va,{value:"number",children:"Number"}),w(va,{value:"boolean",children:"Boolean"}),w(va,{value:"date",children:"Date"}),w(aB,{}),p.map(S=>{if(!!S)return w(va,{value:S.id,children:S.name},S.id)})]})]}),w(We,{size:"icon",variant:"ghost",onClick:S=>{S.preventDefault()},children:w(qY,{size:14})}),w(We,{size:"icon",variant:"ghost",onClick:S=>{S.preventDefault(),v(h)},children:w(zC,{size:14})})]})]},h)),B(We,{variant:"outline",className:"w-full",onClick:h=>{h.preventDefault(),g(Oh(),{...vte})},children:[w(P0,{className:"mr-2 h-4 w-4"})," Add property"]})]})]})})})})}var wO="Dialog",[hj,q1e]=es(wO),[Moe,ki]=hj(wO),mj=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:o,onOpenChange:i,modal:s=!0}=t,a=b.exports.useRef(null),l=b.exports.useRef(null),[u=!1,d]=nl({prop:r,defaultProp:o,onChange:i});return w(Moe,{scope:e,triggerRef:a,contentRef:l,contentId:fi(),titleId:fi(),descriptionId:fi(),open:u,onOpenChange:d,onOpenToggle:b.exports.useCallback(()=>d(c=>!c),[d]),modal:s,children:n})};mj.displayName=wO;var gj="DialogTrigger",vj=b.exports.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=ki(gj,n),i=Mt(e,o.triggerRef);return w(rt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":EO(o.open),...r,ref:i,onClick:Re(t.onClick,o.onOpenToggle)})});vj.displayName=gj;var bO="DialogPortal",[Noe,yj]=hj(bO,{forceMount:void 0}),xj=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:o}=t,i=ki(bO,e);return w(Noe,{scope:e,forceMount:n,children:b.exports.Children.map(r,s=>w(Ei,{present:n||i.open,children:w(xg,{asChild:!0,container:o,children:s})}))})};xj.displayName=bO;var J0="DialogOverlay",_j=b.exports.forwardRef((t,e)=>{const n=yj(J0,t.__scopeDialog),{forceMount:r=n.forceMount,...o}=t,i=ki(J0,t.__scopeDialog);return i.modal?w(Ei,{present:r||i.open,children:w(Doe,{...o,ref:e})}):null});_j.displayName=J0;var Doe=b.exports.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=ki(J0,n);return w(k_,{as:qi,allowPinchZoom:!0,shards:[o.contentRef],children:w(rt.div,{"data-state":EO(o.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ic="DialogContent",wj=b.exports.forwardRef((t,e)=>{const n=yj(Ic,t.__scopeDialog),{forceMount:r=n.forceMount,...o}=t,i=ki(Ic,t.__scopeDialog);return w(Ei,{present:r||i.open,children:i.modal?w(Aoe,{...o,ref:e}):w(Ioe,{...o,ref:e})})});wj.displayName=Ic;var Aoe=b.exports.forwardRef((t,e)=>{const n=ki(Ic,t.__scopeDialog),r=b.exports.useRef(null),o=Mt(e,n.contentRef,r);return b.exports.useEffect(()=>{const i=r.current;if(i)return S_(i)},[]),w(bj,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Re(t.onCloseAutoFocus,i=>{var s;i.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Re(t.onPointerDownOutside,i=>{const s=i.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&i.preventDefault()}),onFocusOutside:Re(t.onFocusOutside,i=>i.preventDefault())})}),Ioe=b.exports.forwardRef((t,e)=>{const n=ki(Ic,t.__scopeDialog),r=b.exports.useRef(!1),o=b.exports.useRef(!1);return w(bj,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const s=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),bj=b.exports.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,...s}=t,a=ki(Ic,n),l=b.exports.useRef(null),u=Mt(e,l);return y_(),B(ho,{children:[w(vg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i,children:w(gg,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":EO(a.open),...s,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),B(ho,{children:[w(Loe,{titleId:a.titleId}),w(zoe,{contentRef:l,descriptionId:a.descriptionId})]})]})}),SO="DialogTitle",Sj=b.exports.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=ki(SO,n);return w(rt.h2,{id:o.titleId,...r,ref:e})});Sj.displayName=SO;var Ej="DialogDescription",kj=b.exports.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=ki(Ej,n);return w(rt.p,{id:o.descriptionId,...r,ref:e})});kj.displayName=Ej;var Cj="DialogClose",Oj=b.exports.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=ki(Cj,n);return w(rt.button,{type:"button",...r,ref:e,onClick:Re(t.onClick,()=>o.onOpenChange(!1))})});Oj.displayName=Cj;function EO(t){return t?"open":"closed"}var Pj="DialogTitleWarning",[G1e,Rj]=VG(Pj,{contentName:Ic,titleName:SO,docsSlug:"dialog"}),Loe=({titleId:t})=>{const e=Rj(Pj),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.exports.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},$oe="DialogDescriptionWarning",zoe=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Rj($oe).contentName}}.`;return b.exports.useEffect(()=>{var i;const o=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Foe=mj,Boe=vj,joe=xj,Tj=_j,Mj=wj,Nj=Sj,Dj=kj,Voe=Oj;const Aj=Foe,Uoe=Boe,Hoe=joe,Ij=b.exports.forwardRef(({className:t,...e},n)=>w(Tj,{ref:n,className:Te("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Ij.displayName=Tj.displayName;const kO=b.exports.forwardRef(({className:t,children:e,...n},r)=>B(Hoe,{children:[w(Ij,{}),B(Mj,{ref:r,className:Te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,B(Voe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[w(zC,{className:"h-4 w-4"}),w("span",{className:"sr-only",children:"Close"})]})]})]}));kO.displayName=Mj.displayName;const Lj=({className:t,...e})=>w("div",{className:Te("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Lj.displayName="DialogHeader";const CO=({className:t,...e})=>w("div",{className:Te("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});CO.displayName="DialogFooter";const OO=b.exports.forwardRef(({className:t,...e},n)=>w(Nj,{ref:n,className:Te("text-lg font-semibold leading-none tracking-tight",t),...e}));OO.displayName=Nj.displayName;const PO=b.exports.forwardRef(({className:t,...e},n)=>w(Dj,{ref:n,className:Te("text-sm text-muted-foreground",t),...e}));PO.displayName=Dj.displayName;var ZS={exports:{}},Og={},Cm={exports:{}};(function(t,e){(function(n,r){r(e)})(B9,function(n){function r(F){return function(re,de,fe,Oe,Pe,vt,ot){return F(re,de,ot)}}function o(F){return function(re,de,fe,Oe){if(!re||!de||typeof re!="object"||typeof de!="object")return F(re,de,fe,Oe);var Pe=Oe.get(re),vt=Oe.get(de);if(Pe&&vt)return Pe===de&&vt===re;Oe.set(re,de),Oe.set(de,re);var ot=F(re,de,fe,Oe);return Oe.delete(re),Oe.delete(de),ot}}function i(F,q){var re={};for(var de in F)re[de]=F[de];for(var de in q)re[de]=q[de];return re}function s(F){return F.constructor===Object||F.constructor==null}function a(F){return typeof F.then=="function"}function l(F,q){return F===q||F!==F&&q!==q}var u="[object Arguments]",d="[object Boolean]",c="[object Date]",f="[object RegExp]",p="[object Map]",m="[object Number]",g="[object Object]",x="[object Set]",v="[object String]",h=Object.prototype.toString;function _(F){var q=F.areArraysEqual,re=F.areDatesEqual,de=F.areMapsEqual,fe=F.areObjectsEqual,Oe=F.areRegExpsEqual,Pe=F.areSetsEqual,vt=F.createIsNestedEqual,ot=vt(Ht);function Ht(C,N,$){if(C===N)return!0;if(!C||!N||typeof C!="object"||typeof N!="object")return C!==C&&N!==N;if(s(C)&&s(N))return fe(C,N,ot,$);var oe=Array.isArray(C),ie=Array.isArray(N);if(oe||ie)return oe===ie&&q(C,N,ot,$);var G=h.call(C);return G!==h.call(N)?!1:G===c?re(C,N,ot,$):G===f?Oe(C,N,ot,$):G===p?de(C,N,ot,$):G===x?Pe(C,N,ot,$):G===g||G===u?a(C)||a(N)?!1:fe(C,N,ot,$):G===d||G===m||G===v?l(C.valueOf(),N.valueOf()):!1}return Ht}function y(F,q,re,de){var fe=F.length;if(q.length!==fe)return!1;for(;fe-- >0;)if(!re(F[fe],q[fe],fe,fe,F,q,de))return!1;return!0}var S=o(y);function O(F,q){return l(F.valueOf(),q.valueOf())}function k(F,q,re,de){var fe=F.size===q.size;if(!fe)return!1;if(!F.size)return!0;var Oe={},Pe=0;return F.forEach(function(vt,ot){if(!!fe){var Ht=!1,C=0;q.forEach(function(N,$){!Ht&&!Oe[C]&&(Ht=re(ot,$,Pe,C,F,q,de)&&re(vt,N,ot,$,F,q,de))&&(Oe[C]=!0),C++}),Pe++,fe=Ht}}),fe}var E=o(k),T="_owner",D=Object.prototype.hasOwnProperty;function j(F,q,re,de){var fe=Object.keys(F),Oe=fe.length;if(Object.keys(q).length!==Oe)return!1;for(var Pe;Oe-- >0;){if(Pe=fe[Oe],Pe===T){var vt=!!F.$$typeof,ot=!!q.$$typeof;if((vt||ot)&&vt!==ot)return!1}if(!D.call(q,Pe)||!re(F[Pe],q[Pe],Pe,Pe,F,q,de))return!1}return!0}var A=o(j);function K(F,q){return F.source===q.source&&F.flags===q.flags}function H(F,q,re,de){var fe=F.size===q.size;if(!fe)return!1;if(!F.size)return!0;var Oe={};return F.forEach(function(Pe,vt){if(!!fe){var ot=!1,Ht=0;q.forEach(function(C,N){!ot&&!Oe[Ht]&&(ot=re(Pe,C,vt,N,F,q,de))&&(Oe[Ht]=!0),Ht++}),fe=ot}}),fe}var ee=o(H),X=Object.freeze({areArraysEqual:y,areDatesEqual:O,areMapsEqual:k,areObjectsEqual:j,areRegExpsEqual:K,areSetsEqual:H,createIsNestedEqual:r}),ye=Object.freeze({areArraysEqual:S,areDatesEqual:O,areMapsEqual:E,areObjectsEqual:A,areRegExpsEqual:K,areSetsEqual:ee,createIsNestedEqual:r}),z=_(X);function I(F,q){return z(F,q,void 0)}var J=_(i(X,{createIsNestedEqual:function(){return l}}));function xe(F,q){return J(F,q,void 0)}var Be=_(ye);function Z(F,q){return Be(F,q,new WeakMap)}var he=_(i(ye,{createIsNestedEqual:function(){return l}}));function ke(F,q){return he(F,q,new WeakMap)}function ae(F){return _(i(X,F(X)))}function U(F){var q=_(i(ye,F(ye)));return function(re,de,fe){return fe===void 0&&(fe=new WeakMap),q(re,de,fe)}}n.circularDeepEqual=Z,n.circularShallowEqual=ke,n.createCustomCircularEqual=U,n.createCustomEqual=ae,n.deepEqual=I,n.sameValueZeroEqual=l,n.shallowEqual=xe,Object.defineProperty(n,"__esModule",{value:!0})})})(Cm,Cm.exports);const RO=kk(_X);var ht={},Woe=function(e,n,r){return e===n?!0:e.className===n.className&&r(e.style,n.style)&&e.width===n.width&&e.autoSize===n.autoSize&&e.cols===n.cols&&e.draggableCancel===n.draggableCancel&&e.draggableHandle===n.draggableHandle&&r(e.verticalCompact,n.verticalCompact)&&r(e.compactType,n.compactType)&&r(e.layout,n.layout)&&r(e.margin,n.margin)&&r(e.containerPadding,n.containerPadding)&&e.rowHeight===n.rowHeight&&e.maxRows===n.maxRows&&e.isBounded===n.isBounded&&e.isDraggable===n.isDraggable&&e.isResizable===n.isResizable&&e.allowOverlap===n.allowOverlap&&e.preventCollision===n.preventCollision&&e.useCSSTransforms===n.useCSSTransforms&&e.transformScale===n.transformScale&&e.isDroppable===n.isDroppable&&r(e.resizeHandles,n.resizeHandles)&&r(e.resizeHandle,n.resizeHandle)&&e.onLayoutChange===n.onLayoutChange&&e.onDragStart===n.onDragStart&&e.onDrag===n.onDrag&&e.onDragStop===n.onDragStop&&e.onResizeStart===n.onResizeStart&&e.onResize===n.onResize&&e.onResizeStop===n.onResizeStop&&e.onDrop===n.onDrop&&r(e.droppingItem,n.droppingItem)&&r(e.innerRef,n.innerRef)};Object.defineProperty(ht,"__esModule",{value:!0});ht.bottom=TO;ht.childrenEqual=Goe;ht.cloneLayout=$j;ht.cloneLayoutItem=gc;ht.collides=K_;ht.compact=Fj;ht.compactItem=Bj;ht.compactType=lie;ht.correctBounds=jj;ht.fastPositionEqual=Zoe;ht.fastRGLPropsEqual=void 0;ht.getAllCollisions=Vj;ht.getFirstCollision=Gl;ht.getLayoutItem=MO;ht.getStatics=NO;ht.modifyLayout=zj;ht.moveElement=kp;ht.moveElementAwayFromCollision=YS;ht.noop=void 0;ht.perc=Yoe;ht.resizeItemInDirection=rie;ht.setTopLeft=iie;ht.setTransform=oie;ht.sortLayoutItems=zO;ht.sortLayoutItemsByColRow=qj;ht.sortLayoutItemsByRowCol=Kj;ht.synchronizeLayoutWithChildren=sie;ht.validateLayout=aie;ht.withLayoutItem=qoe;var JN=Cm.exports,Ep=Koe(b.exports);function Koe(t){return t&&t.__esModule?t:{default:t}}function TO(t){let e=0,n;for(let r=0,o=t.length;r<o;r++)n=t[r].y+t[r].h,n>e&&(e=n);return e}function $j(t){const e=Array(t.length);for(let n=0,r=t.length;n<r;n++)e[n]=gc(t[n]);return e}function zj(t,e){const n=Array(t.length);for(let r=0,o=t.length;r<o;r++)e.i===t[r].i?n[r]=e:n[r]=t[r];return n}function qoe(t,e,n){let r=MO(t,e);return r?(r=n(gc(r)),t=zj(t,r),[t,r]):[t,null]}function gc(t){return{w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,minW:t.minW,maxW:t.maxW,minH:t.minH,maxH:t.maxH,moved:Boolean(t.moved),static:Boolean(t.static),isDraggable:t.isDraggable,isResizable:t.isResizable,resizeHandles:t.resizeHandles,isBounded:t.isBounded}}function Goe(t,e){return(0,JN.deepEqual)(Ep.default.Children.map(t,n=>n==null?void 0:n.key),Ep.default.Children.map(e,n=>n==null?void 0:n.key))&&(0,JN.deepEqual)(Ep.default.Children.map(t,n=>n==null?void 0:n.props["data-grid"]),Ep.default.Children.map(e,n=>n==null?void 0:n.props["data-grid"]))}ht.fastRGLPropsEqual=Woe;function Zoe(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.width&&t.height===e.height}function K_(t,e){return!(t.i===e.i||t.x+t.w<=e.x||t.x>=e.x+e.w||t.y+t.h<=e.y||t.y>=e.y+e.h)}function Fj(t,e,n,r){const o=NO(t),i=zO(t,e),s=Array(t.length);for(let a=0,l=i.length;a<l;a++){let u=gc(i[a]);u.static||(u=Bj(o,u,e,n,i,r),o.push(u)),s[t.indexOf(i[a])]=u,u.moved=!1}return s}const Qoe={x:"w",y:"h"};function QS(t,e,n,r){const o=Qoe[r];e[r]+=1;const i=t.map(s=>s.i).indexOf(e.i);for(let s=i+1;s<t.length;s++){const a=t[s];if(!a.static){if(a.y>e.y+e.h)break;K_(e,a)&&QS(t,a,n+e[o],r)}}e[r]=n}function Bj(t,e,n,r,o,i){const s=n==="vertical",a=n==="horizontal";if(s)for(e.y=Math.min(TO(t),e.y);e.y>0&&!Gl(t,e);)e.y--;else if(a)for(;e.x>0&&!Gl(t,e);)e.x--;let l;for(;(l=Gl(t,e))&&!(n===null&&i);)if(a?QS(o,e,l.x+l.w,"x"):QS(o,e,l.y+l.h,"y"),a&&e.x+e.w>r)for(e.x=r-e.w,e.y++;e.x>0&&!Gl(t,e);)e.x--;return e.y=Math.max(e.y,0),e.x=Math.max(e.x,0),e}function jj(t,e){const n=NO(t);for(let r=0,o=t.length;r<o;r++){const i=t[r];if(i.x+i.w>e.cols&&(i.x=e.cols-i.w),i.x<0&&(i.x=0,i.w=e.cols),!i.static)n.push(i);else for(;Gl(n,i);)i.y++}return t}function MO(t,e){for(let n=0,r=t.length;n<r;n++)if(t[n].i===e)return t[n]}function Gl(t,e){for(let n=0,r=t.length;n<r;n++)if(K_(t[n],e))return t[n]}function Vj(t,e){return t.filter(n=>K_(n,e))}function NO(t){return t.filter(e=>e.static)}function kp(t,e,n,r,o,i,s,a,l){if(e.static&&e.isDraggable!==!0||e.y===r&&e.x===n)return t;`${e.i}${String(n)}${String(r)}${e.x}${e.y}`;const u=e.x,d=e.y;typeof n=="number"&&(e.x=n),typeof r=="number"&&(e.y=r),e.moved=!0;let c=zO(t,s);(s==="vertical"&&typeof r=="number"?d>=r:s==="horizontal"&&typeof n=="number"?u>=n:!1)&&(c=c.reverse());const p=Vj(c,e),m=p.length>0;if(m&&l)return $j(t);if(m&&i)return`${e.i}`,e.x=u,e.y=d,e.moved=!1,t;for(let g=0,x=p.length;g<x;g++){const v=p[g];`${e.i}${e.x}${e.y}${v.i}${v.x}${v.y}`,!v.moved&&(v.static?t=YS(t,v,e,o,s):t=YS(t,e,v,o,s))}return t}function YS(t,e,n,r,o,i){const s=o==="horizontal",a=o==="vertical",l=e.static;if(r){r=!1;const c={x:s?Math.max(e.x-n.w,0):n.x,y:a?Math.max(e.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"},f=Gl(t,c),p=f&&f.y+f.h>e.y,m=f&&e.x+e.w>f.x;if(f){if(p&&a)return kp(t,n,void 0,e.y+1,r,l,o);if(p&&o==null)return e.y=n.y,n.y=n.y+n.h,t;if(m&&s)return kp(t,e,n.x,void 0,r,l,o)}else return`${n.i}${c.x}${c.y}`,kp(t,n,s?c.x:void 0,a?c.y:void 0,r,l,o)}const u=s?n.x+1:void 0,d=a?n.y+1:void 0;return u==null&&d==null?t:kp(t,n,s?n.x+1:void 0,a?n.y+1:void 0,r,l,o)}function Yoe(t){return t*100+"%"}const Uj=(t,e,n,r)=>t+n>r?e:n,Hj=(t,e,n)=>t<0?e:n,Wj=t=>Math.max(0,t),DO=t=>Math.max(0,t),AO=(t,e,n)=>{let{left:r,height:o,width:i}=e;const s=t.top-(o-t.height);return{left:r,width:i,height:Hj(s,t.height,o),top:DO(s)}},IO=(t,e,n)=>{let{top:r,left:o,height:i,width:s}=e;return{top:r,height:i,width:Uj(t.left,t.width,s,n),left:Wj(o)}},LO=(t,e,n)=>{let{top:r,height:o,width:i}=e;const s=t.left-(i-t.width);return{height:o,width:s<0?t.width:Uj(t.left,t.width,i,n),top:DO(r),left:Wj(s)}},$O=(t,e,n)=>{let{top:r,left:o,height:i,width:s}=e;return{width:s,left:o,height:Hj(r,t.height,i),top:DO(r)}},Xoe=function(){return AO(arguments.length<=0?void 0:arguments[0],IO(...arguments))},Joe=function(){return AO(arguments.length<=0?void 0:arguments[0],LO(...arguments))},eie=function(){return $O(arguments.length<=0?void 0:arguments[0],IO(...arguments))},tie=function(){return $O(arguments.length<=0?void 0:arguments[0],LO(...arguments))},nie={n:AO,ne:Xoe,e:IO,se:eie,s:$O,sw:tie,w:LO,nw:Joe};function rie(t,e,n,r){const o=nie[t];return o?o(e,{...e,...n},r):n}function oie(t){let{top:e,left:n,width:r,height:o}=t;const i=`translate(${n}px,${e}px)`;return{transform:i,WebkitTransform:i,MozTransform:i,msTransform:i,OTransform:i,width:`${r}px`,height:`${o}px`,position:"absolute"}}function iie(t){let{top:e,left:n,width:r,height:o}=t;return{top:`${e}px`,left:`${n}px`,width:`${r}px`,height:`${o}px`,position:"absolute"}}function zO(t,e){return e==="horizontal"?qj(t):e==="vertical"?Kj(t):t}function Kj(t){return t.slice(0).sort(function(e,n){return e.y>n.y||e.y===n.y&&e.x>n.x?1:e.y===n.y&&e.x===n.x?0:-1})}function qj(t){return t.slice(0).sort(function(e,n){return e.x>n.x||e.x===n.x&&e.y>n.y?1:-1})}function sie(t,e,n,r,o){t=t||[];const i=[];Ep.default.Children.forEach(e,a=>{if((a==null?void 0:a.key)==null)return;const l=MO(t,String(a.key)),u=a.props["data-grid"];l&&u==null?i.push(gc(l)):u?i.push(gc({...u,i:a.key})):i.push(gc({w:1,h:1,x:0,y:TO(i),i:String(a.key)}))});const s=jj(i,{cols:n});return o?s:Fj(s,r,n)}function aie(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Layout";const n=["x","y","w","h"];if(!Array.isArray(t))throw new Error(e+" must be an array!");for(let r=0,o=t.length;r<o;r++){const i=t[r];for(let s=0;s<n.length;s++)if(typeof i[n[s]]!="number")throw new Error("ReactGridLayout: "+e+"["+r+"]."+n[s]+" must be a number!")}}function lie(t){const{verticalCompact:e,compactType:n}=t||{};return e===!1?null:n}const cie=()=>{};ht.noop=cie;var ns={};Object.defineProperty(ns,"__esModule",{value:!0});ns.calcGridColWidth=q_;ns.calcGridItemPosition=uie;ns.calcGridItemWHPx=XS;ns.calcWH=fie;ns.calcXY=die;ns.clamp=Zl;function q_(t){const{margin:e,containerPadding:n,containerWidth:r,cols:o}=t;return(r-e[0]*(o-1)-n[0]*2)/o}function XS(t,e,n){return Number.isFinite(t)?Math.round(e*t+Math.max(0,t-1)*n):t}function uie(t,e,n,r,o,i){const{margin:s,containerPadding:a,rowHeight:l}=t,u=q_(t),d={};return i&&i.resizing?(d.width=Math.round(i.resizing.width),d.height=Math.round(i.resizing.height)):(d.width=XS(r,u,s[0]),d.height=XS(o,l,s[1])),i&&i.dragging?(d.top=Math.round(i.dragging.top),d.left=Math.round(i.dragging.left)):i&&i.resizing&&typeof i.resizing.top=="number"&&typeof i.resizing.left=="number"?(d.top=Math.round(i.resizing.top),d.left=Math.round(i.resizing.left)):(d.top=Math.round((l+s[1])*n+a[1]),d.left=Math.round((u+s[0])*e+a[0])),d}function die(t,e,n,r,o){const{margin:i,cols:s,rowHeight:a,maxRows:l}=t,u=q_(t);let d=Math.round((n-i[0])/(u+i[0])),c=Math.round((e-i[1])/(a+i[1]));return d=Zl(d,0,s-r),c=Zl(c,0,l-o),{x:d,y:c}}function fie(t,e,n,r,o,i){const{margin:s,maxRows:a,cols:l,rowHeight:u}=t,d=q_(t);let c=Math.round((e+s[0])/(d+s[0])),f=Math.round((n+s[1])/(u+s[1])),p=Zl(c,0,l-r),m=Zl(f,0,a-o);return["sw","w","nw"].indexOf(i)!==-1&&(p=Zl(c,0,l)),["nw","n","ne"].indexOf(i)!==-1&&(m=Zl(f,0,a)),{w:p,h:m}}function Zl(t,e,n){return Math.max(Math.min(t,n),e)}var G_={},qs={exports:{}},pie="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",hie=pie,mie=hie;function Gj(){}function Zj(){}Zj.resetWarningCache=Gj;var gie=function(){function t(r,o,i,s,a,l){if(l!==mie){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Zj,resetWarningCache:Gj};return n.PropTypes=n,n};qs.exports=gie();var Pg={exports:{}},Qj={};function Yj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=Yj(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function eD(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=Yj(t))&&(r&&(r+=" "),r+=e);return r}const vie=Object.freeze(Object.defineProperty({__proto__:null,clsx:eD,default:eD},Symbol.toStringTag,{value:"Module"})),yie=kk(vie);var fn={},rs={};Object.defineProperty(rs,"__esModule",{value:!0});rs.dontSetMe=Sie;rs.findInArray=xie;rs.int=bie;rs.isFunction=_ie;rs.isNum=wie;function xie(t,e){for(let n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function _ie(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function wie(t){return typeof t=="number"&&!isNaN(t)}function bie(t){return parseInt(t,10)}function Sie(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))}var Yc={};Object.defineProperty(Yc,"__esModule",{value:!0});Yc.browserPrefixToKey=Jj;Yc.browserPrefixToStyle=Eie;Yc.default=void 0;Yc.getPrefix=Xj;const kb=["Moz","Webkit","O","ms"];function Xj(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(t=window.document)===null||t===void 0||(t=t.documentElement)===null||t===void 0?void 0:t.style;if(!n||e in n)return"";for(let r=0;r<kb.length;r++)if(Jj(e,kb[r])in n)return kb[r];return""}function Jj(t,e){return e?"".concat(e).concat(kie(t)):t}function Eie(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t}function kie(t){let e="",n=!0;for(let r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):t[r]==="-"?n=!0:e+=t[r];return e}Yc.default=Xj();Object.defineProperty(fn,"__esModule",{value:!0});fn.addClassName=nV;fn.addEvent=Pie;fn.addUserSelectStyles=Fie;fn.createCSSTransform=Iie;fn.createSVGTransform=Lie;fn.getTouch=$ie;fn.getTouchIdentifier=zie;fn.getTranslation=FO;fn.innerHeight=Nie;fn.innerWidth=Die;fn.matchesSelector=tV;fn.matchesSelectorAndParentsTo=Oie;fn.offsetXYFromParent=Aie;fn.outerHeight=Tie;fn.outerWidth=Mie;fn.removeClassName=rV;fn.removeEvent=Rie;fn.removeUserSelectStyles=Bie;var fo=rs,tD=Cie(Yc);function eV(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(eV=function(r){return r?n:e})(t)}function Cie(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=eV(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var s=o?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}let Qv="";function tV(t,e){return Qv||(Qv=(0,fo.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,fo.isFunction)(t[n])})),(0,fo.isFunction)(t[Qv])?t[Qv](e):!1}function Oie(t,e,n){let r=t;do{if(tV(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function Pie(t,e,n,r){if(!t)return;const o={capture:!0,...r};t.addEventListener?t.addEventListener(e,n,o):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function Rie(t,e,n,r){if(!t)return;const o={capture:!0,...r};t.removeEventListener?t.removeEventListener(e,n,o):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function Tie(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,fo.int)(n.borderTopWidth),e+=(0,fo.int)(n.borderBottomWidth),e}function Mie(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,fo.int)(n.borderLeftWidth),e+=(0,fo.int)(n.borderRightWidth),e}function Nie(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,fo.int)(n.paddingTop),e-=(0,fo.int)(n.paddingBottom),e}function Die(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,fo.int)(n.paddingLeft),e-=(0,fo.int)(n.paddingRight),e}function Aie(t,e,n){const o=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),i=(t.clientX+e.scrollLeft-o.left)/n,s=(t.clientY+e.scrollTop-o.top)/n;return{x:i,y:s}}function Iie(t,e){const n=FO(t,e,"px");return{[(0,tD.browserPrefixToKey)("transform",tD.default)]:n}}function Lie(t,e){return FO(t,e,"")}function FO(t,e,n){let{x:r,y:o}=t,i="translate(".concat(r).concat(n,",").concat(o).concat(n,")");if(e){const s="".concat(typeof e.x=="string"?e.x:e.x+n),a="".concat(typeof e.y=="string"?e.y:e.y+n);i="translate(".concat(s,", ").concat(a,")")+i}return i}function $ie(t,e){return t.targetTouches&&(0,fo.findInArray)(t.targetTouches,n=>e===n.identifier)||t.changedTouches&&(0,fo.findInArray)(t.changedTouches,n=>e===n.identifier)}function zie(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function Fie(t){if(!t)return;let e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&nV(t.body,"react-draggable-transparent-selection")}function Bie(t){if(!!t)try{if(t.body&&rV(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function nV(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function rV(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var is={};Object.defineProperty(is,"__esModule",{value:!0});is.canDragX=Uie;is.canDragY=Hie;is.createCoreData=Kie;is.createDraggableData=qie;is.getBoundPosition=jie;is.getControlPosition=Wie;is.snapToGrid=Vie;var Zr=rs,Qu=fn;function jie(t,e,n){if(!t.props.bounds)return[e,n];let{bounds:r}=t.props;r=typeof r=="string"?r:Gie(r);const o=BO(t);if(typeof r=="string"){const{ownerDocument:i}=o,s=i.defaultView;let a;if(r==="parent"?a=o.parentNode:a=i.querySelector(r),!(a instanceof s.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const l=a,u=s.getComputedStyle(o),d=s.getComputedStyle(l);r={left:-o.offsetLeft+(0,Zr.int)(d.paddingLeft)+(0,Zr.int)(u.marginLeft),top:-o.offsetTop+(0,Zr.int)(d.paddingTop)+(0,Zr.int)(u.marginTop),right:(0,Qu.innerWidth)(l)-(0,Qu.outerWidth)(o)-o.offsetLeft+(0,Zr.int)(d.paddingRight)-(0,Zr.int)(u.marginRight),bottom:(0,Qu.innerHeight)(l)-(0,Qu.outerHeight)(o)-o.offsetTop+(0,Zr.int)(d.paddingBottom)-(0,Zr.int)(u.marginBottom)}}return(0,Zr.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,Zr.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,Zr.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,Zr.isNum)(r.top)&&(n=Math.max(n,r.top)),[e,n]}function Vie(t,e,n){const r=Math.round(e/t[0])*t[0],o=Math.round(n/t[1])*t[1];return[r,o]}function Uie(t){return t.props.axis==="both"||t.props.axis==="x"}function Hie(t){return t.props.axis==="both"||t.props.axis==="y"}function Wie(t,e,n){const r=typeof e=="number"?(0,Qu.getTouch)(t,e):null;if(typeof e=="number"&&!r)return null;const o=BO(n),i=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,Qu.offsetXYFromParent)(r||t,i,n.props.scale)}function Kie(t,e,n){const r=!(0,Zr.isNum)(t.lastX),o=BO(t);return r?{node:o,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:o,deltaX:e-t.lastX,deltaY:n-t.lastY,lastX:t.lastX,lastY:t.lastY,x:e,y:n}}function qie(t,e){const n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}}function Gie(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function BO(t){const e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var Z_={},Q_={};Object.defineProperty(Q_,"__esModule",{value:!0});Q_.default=Zie;function Zie(){}Object.defineProperty(Z_,"__esModule",{value:!0});Z_.default=void 0;var Cb=Yie(b.exports),Pr=jO(qs.exports),Qie=jO(zo.exports),Zn=fn,Js=is,Ob=rs,ap=jO(Q_);function jO(t){return t&&t.__esModule?t:{default:t}}function oV(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(oV=function(r){return r?n:e})(t)}function Yie(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=oV(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var s=o?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}function dr(t,e,n){return e=Xie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xie(t){var e=Jie(t,"string");return typeof e=="symbol"?e:String(e)}function Jie(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Wo={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let ea=Wo.mouse;class Y_ extends Cb.Component{constructor(){super(...arguments),dr(this,"dragging",!1),dr(this,"lastX",NaN),dr(this,"lastY",NaN),dr(this,"touchIdentifier",null),dr(this,"mounted",!1),dr(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,Zn.matchesSelectorAndParentsTo)(e.target,this.props.handle,n)||this.props.cancel&&(0,Zn.matchesSelectorAndParentsTo)(e.target,this.props.cancel,n))return;e.type==="touchstart"&&e.preventDefault();const o=(0,Zn.getTouchIdentifier)(e);this.touchIdentifier=o;const i=(0,Js.getControlPosition)(e,o,this);if(i==null)return;const{x:s,y:a}=i,l=(0,Js.createCoreData)(this,s,a);(0,ap.default)("DraggableCore: handleDragStart: %j",l),(0,ap.default)("calling",this.props.onStart),!(this.props.onStart(e,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Zn.addUserSelectStyles)(r),this.dragging=!0,this.lastX=s,this.lastY=a,(0,Zn.addEvent)(r,ea.move,this.handleDrag),(0,Zn.addEvent)(r,ea.stop,this.handleDragStop))}),dr(this,"handleDrag",e=>{const n=(0,Js.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:o}=n;if(Array.isArray(this.props.grid)){let a=r-this.lastX,l=o-this.lastY;if([a,l]=(0,Js.snapToGrid)(this.props.grid,a,l),!a&&!l)return;r=this.lastX+a,o=this.lastY+l}const i=(0,Js.createCoreData)(this,r,o);if((0,ap.default)("DraggableCore: handleDrag: %j",i),this.props.onDrag(e,i)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=r,this.lastY=o}),dr(this,"handleDragStop",e=>{if(!this.dragging)return;const n=(0,Js.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:o}=n;if(Array.isArray(this.props.grid)){let l=r-this.lastX||0,u=o-this.lastY||0;[l,u]=(0,Js.snapToGrid)(this.props.grid,l,u),r=this.lastX+l,o=this.lastY+u}const i=(0,Js.createCoreData)(this,r,o);if(this.props.onStop(e,i)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,Zn.removeUserSelectStyles)(a.ownerDocument),(0,ap.default)("DraggableCore: handleDragStop: %j",i),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,ap.default)("DraggableCore: Removing handlers"),(0,Zn.removeEvent)(a.ownerDocument,ea.move,this.handleDrag),(0,Zn.removeEvent)(a.ownerDocument,ea.stop,this.handleDragStop))}),dr(this,"onMouseDown",e=>(ea=Wo.mouse,this.handleDragStart(e))),dr(this,"onMouseUp",e=>(ea=Wo.mouse,this.handleDragStop(e))),dr(this,"onTouchStart",e=>(ea=Wo.touch,this.handleDragStart(e))),dr(this,"onTouchEnd",e=>(ea=Wo.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,Zn.addEvent)(e,Wo.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:n}=e;(0,Zn.removeEvent)(n,Wo.mouse.move,this.handleDrag),(0,Zn.removeEvent)(n,Wo.touch.move,this.handleDrag),(0,Zn.removeEvent)(n,Wo.mouse.stop,this.handleDragStop),(0,Zn.removeEvent)(n,Wo.touch.stop,this.handleDragStop),(0,Zn.removeEvent)(e,Wo.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Zn.removeUserSelectStyles)(n)}}findDOMNode(){var e,n;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:Qie.default.findDOMNode(this)}render(){return Cb.cloneElement(Cb.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}Z_.default=Y_;dr(Y_,"displayName","DraggableCore");dr(Y_,"propTypes",{allowAnyClick:Pr.default.bool,children:Pr.default.node.isRequired,disabled:Pr.default.bool,enableUserSelectHack:Pr.default.bool,offsetParent:function(t,e){if(t[e]&&t[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Pr.default.arrayOf(Pr.default.number),handle:Pr.default.string,cancel:Pr.default.string,nodeRef:Pr.default.object,onStart:Pr.default.func,onDrag:Pr.default.func,onStop:Pr.default.func,onMouseDown:Pr.default.func,scale:Pr.default.number,className:Ob.dontSetMe,style:Ob.dontSetMe,transform:Ob.dontSetMe});dr(Y_,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),t.default=void 0;var e=f(b.exports),n=d(qs.exports),r=d(zo.exports),o=d(yie),i=fn,s=is,a=rs,l=d(Z_),u=d(Q_);function d(h){return h&&h.__esModule?h:{default:h}}function c(h){if(typeof WeakMap!="function")return null;var _=new WeakMap,y=new WeakMap;return(c=function(S){return S?y:_})(h)}function f(h,_){if(!_&&h&&h.__esModule)return h;if(h===null||typeof h!="object"&&typeof h!="function")return{default:h};var y=c(_);if(y&&y.has(h))return y.get(h);var S={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in h)if(k!=="default"&&Object.prototype.hasOwnProperty.call(h,k)){var E=O?Object.getOwnPropertyDescriptor(h,k):null;E&&(E.get||E.set)?Object.defineProperty(S,k,E):S[k]=h[k]}return S.default=h,y&&y.set(h,S),S}function p(){return p=Object.assign?Object.assign.bind():function(h){for(var _=1;_<arguments.length;_++){var y=arguments[_];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(h[S]=y[S])}return h},p.apply(this,arguments)}function m(h,_,y){return _=g(_),_ in h?Object.defineProperty(h,_,{value:y,enumerable:!0,configurable:!0,writable:!0}):h[_]=y,h}function g(h){var _=x(h,"string");return typeof _=="symbol"?_:String(_)}function x(h,_){if(typeof h!="object"||h===null)return h;var y=h[Symbol.toPrimitive];if(y!==void 0){var S=y.call(h,_||"default");if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(h)}class v extends e.Component{static getDerivedStateFromProps(_,y){let{position:S}=_,{prevPropsPosition:O}=y;return S&&(!O||S.x!==O.x||S.y!==O.y)?((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:S,prevPropsPosition:O}),{x:S.x,y:S.y,prevPropsPosition:{...S}}):null}constructor(_){super(_),m(this,"onDragStart",(y,S)=>{if((0,u.default)("Draggable: onDragStart: %j",S),this.props.onStart(y,(0,s.createDraggableData)(this,S))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),m(this,"onDrag",(y,S)=>{if(!this.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",S);const O=(0,s.createDraggableData)(this,S),k={x:O.x,y:O.y,slackX:0,slackY:0};if(this.props.bounds){const{x:T,y:D}=k;k.x+=this.state.slackX,k.y+=this.state.slackY;const[j,A]=(0,s.getBoundPosition)(this,k.x,k.y);k.x=j,k.y=A,k.slackX=this.state.slackX+(T-k.x),k.slackY=this.state.slackY+(D-k.y),O.x=k.x,O.y=k.y,O.deltaX=k.x-this.state.x,O.deltaY=k.y-this.state.y}if(this.props.onDrag(y,O)===!1)return!1;this.setState(k)}),m(this,"onDragStop",(y,S)=>{if(!this.state.dragging||this.props.onStop(y,(0,s.createDraggableData)(this,S))===!1)return!1;(0,u.default)("Draggable: onDragStop: %j",S);const k={dragging:!1,slackX:0,slackY:0};if(Boolean(this.props.position)){const{x:T,y:D}=this.props.position;k.x=T,k.y=D}this.setState(k)}),this.state={dragging:!1,dragged:!1,x:_.position?_.position.x:_.defaultPosition.x,y:_.position?_.position.y:_.defaultPosition.y,prevPropsPosition:{..._.position},slackX:0,slackY:0,isElementSVG:!1},_.position&&!(_.onDrag||_.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var _,y;return(_=(y=this.props)===null||y===void 0||(y=y.nodeRef)===null||y===void 0?void 0:y.current)!==null&&_!==void 0?_:r.default.findDOMNode(this)}render(){const{axis:_,bounds:y,children:S,defaultPosition:O,defaultClassName:k,defaultClassNameDragging:E,defaultClassNameDragged:T,position:D,positionOffset:j,scale:A,...K}=this.props;let H={},ee=null;const ye=!Boolean(D)||this.state.dragging,z=D||O,I={x:(0,s.canDragX)(this)&&ye?this.state.x:z.x,y:(0,s.canDragY)(this)&&ye?this.state.y:z.y};this.state.isElementSVG?ee=(0,i.createSVGTransform)(I,j):H=(0,i.createCSSTransform)(I,j);const J=(0,o.default)(S.props.className||"",k,{[E]:this.state.dragging,[T]:this.state.dragged});return e.createElement(l.default,p({},K,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(S),{className:J,style:{...S.props.style,...H},transform:ee}))}}t.default=v,m(v,"displayName","Draggable"),m(v,"propTypes",{...l.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),m(v,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(Qj);const{default:iV,DraggableCore:ese}=Qj;Pg.exports=iV;Pg.exports.default=iV;Pg.exports.DraggableCore=ese;var X_={exports:{}},Rg={},VO={};VO.__esModule=!0;VO.cloneElement=sse;var tse=nse(b.exports);function nse(t){return t&&t.__esModule?t:{default:t}}function nD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function rD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nD(Object(n),!0).forEach(function(r){rse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rse(t,e,n){return e=ose(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ose(t){var e=ise(t,"string");return typeof e=="symbol"?e:String(e)}function ise(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sse(t,e){return e.style&&t.props.style&&(e.style=rD(rD({},t.props.style),e.style)),e.className&&t.props.className&&(e.className=t.props.className+" "+e.className),tse.default.cloneElement(t,e)}var Tg={};Tg.__esModule=!0;Tg.resizableProps=void 0;var at=ase(qs.exports);function ase(t){return t&&t.__esModule?t:{default:t}}var lse={axis:at.default.oneOf(["both","x","y","none"]),className:at.default.string,children:at.default.element.isRequired,draggableOpts:at.default.shape({allowAnyClick:at.default.bool,cancel:at.default.string,children:at.default.node,disabled:at.default.bool,enableUserSelectHack:at.default.bool,offsetParent:at.default.node,grid:at.default.arrayOf(at.default.number),handle:at.default.string,nodeRef:at.default.object,onStart:at.default.func,onDrag:at.default.func,onStop:at.default.func,onMouseDown:at.default.func,scale:at.default.number}),height:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=n[0];if(o.axis==="both"||o.axis==="y"){var i;return(i=at.default.number).isRequired.apply(i,n)}return at.default.number.apply(at.default,n)},handle:at.default.oneOfType([at.default.node,at.default.func]),handleSize:at.default.arrayOf(at.default.number),lockAspectRatio:at.default.bool,maxConstraints:at.default.arrayOf(at.default.number),minConstraints:at.default.arrayOf(at.default.number),onResizeStop:at.default.func,onResizeStart:at.default.func,onResize:at.default.func,resizeHandles:at.default.arrayOf(at.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:at.default.number,width:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=n[0];if(o.axis==="both"||o.axis==="x"){var i;return(i=at.default.number).isRequired.apply(i,n)}return at.default.number.apply(at.default,n)}};Tg.resizableProps=lse;Rg.__esModule=!0;Rg.default=void 0;var lp=pse(b.exports),cse=Pg.exports,use=VO,dse=Tg,fse=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function sV(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(sV=function(o){return o?n:e})(t)}function pse(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=sV(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var s=o?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}function JS(){return JS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JS.apply(this,arguments)}function hse(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function oD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Pb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oD(Object(n),!0).forEach(function(r){mse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mse(t,e,n){return e=gse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gse(t){var e=vse(t,"string");return typeof e=="symbol"?e:String(e)}function vse(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yse(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,eE(t,e)}function eE(t,e){return eE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},eE(t,e)}var UO=function(t){yse(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.handleRefs={},r.lastHandleRect=null,r.slack=null,r}var n=e.prototype;return n.componentWillUnmount=function(){this.resetData()},n.resetData=function(){this.lastHandleRect=this.slack=null},n.runConstraints=function(o,i){var s=this.props,a=s.minConstraints,l=s.maxConstraints,u=s.lockAspectRatio;if(!a&&!l&&!u)return[o,i];if(u){var d=this.props.width/this.props.height,c=o-this.props.width,f=i-this.props.height;Math.abs(c)>Math.abs(f*d)?i=o/d:o=i*d}var p=o,m=i,g=this.slack||[0,0],x=g[0],v=g[1];return o+=x,i+=v,a&&(o=Math.max(a[0],o),i=Math.max(a[1],i)),l&&(o=Math.min(l[0],o),i=Math.min(l[1],i)),this.slack=[x+(p-o),v+(m-i)],[o,i]},n.resizeHandler=function(o,i){var s=this;return function(a,l){var u=l.node,d=l.deltaX,c=l.deltaY;o==="onResizeStart"&&s.resetData();var f=(s.props.axis==="both"||s.props.axis==="x")&&i!=="n"&&i!=="s",p=(s.props.axis==="both"||s.props.axis==="y")&&i!=="e"&&i!=="w";if(!(!f&&!p)){var m=i[0],g=i[i.length-1],x=u.getBoundingClientRect();if(s.lastHandleRect!=null){if(g==="w"){var v=x.left-s.lastHandleRect.left;d+=v}if(m==="n"){var h=x.top-s.lastHandleRect.top;c+=h}}s.lastHandleRect=x,g==="w"&&(d=-d),m==="n"&&(c=-c);var _=s.props.width+(f?d/s.props.transformScale:0),y=s.props.height+(p?c/s.props.transformScale:0),S=s.runConstraints(_,y);_=S[0],y=S[1];var O=_!==s.props.width||y!==s.props.height,k=typeof s.props[o]=="function"?s.props[o]:null,E=o==="onResize"&&!O;k&&!E&&(a.persist==null||a.persist(),k(a,{node:u,size:{width:_,height:y},handle:i})),o==="onResizeStop"&&s.resetData()}}},n.renderResizeHandle=function(o,i){var s=this.props.handle;if(!s)return lp.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+o,ref:i});if(typeof s=="function")return s(o,i);var a=typeof s.type=="string",l=Pb({ref:i},a?{}:{handleAxis:o});return lp.cloneElement(s,l)},n.render=function(){var o=this,i=this.props,s=i.children,a=i.className,l=i.draggableOpts;i.width,i.height,i.handle,i.handleSize,i.lockAspectRatio,i.axis,i.minConstraints,i.maxConstraints,i.onResize,i.onResizeStop,i.onResizeStart;var u=i.resizeHandles;i.transformScale;var d=hse(i,fse);return(0,use.cloneElement)(s,Pb(Pb({},d),{},{className:(a?a+" ":"")+"react-resizable",children:[].concat(s.props.children,u.map(function(c){var f,p=(f=o.handleRefs[c])!=null?f:o.handleRefs[c]=lp.createRef();return lp.createElement(cse.DraggableCore,JS({},l,{nodeRef:p,key:"resizableHandle-"+c,onStop:o.resizeHandler("onResizeStop",c),onStart:o.resizeHandler("onResizeStart",c),onDrag:o.resizeHandler("onResize",c)}),o.renderResizeHandle(c,p))}))}))},e}(lp.Component);Rg.default=UO;UO.propTypes=dse.resizableProps;UO.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1};var J_={};J_.__esModule=!0;J_.default=void 0;var Rb=Sse(b.exports),xse=aV(qs.exports),_se=aV(Rg),wse=Tg,bse=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function aV(t){return t&&t.__esModule?t:{default:t}}function lV(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(lV=function(o){return o?n:e})(t)}function Sse(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=lV(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var s=o?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}function tE(){return tE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tE.apply(this,arguments)}function iD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function ex(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iD(Object(n),!0).forEach(function(r){Ese(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ese(t,e,n){return e=kse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kse(t){var e=Cse(t,"string");return typeof e=="symbol"?e:String(e)}function Cse(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ose(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function Pse(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,nE(t,e)}function nE(t,e){return nE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},nE(t,e)}var cV=function(t){Pse(e,t);function e(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.state={width:r.props.width,height:r.props.height,propsWidth:r.props.width,propsHeight:r.props.height},r.onResize=function(a,l){var u=l.size;r.props.onResize?(a.persist==null||a.persist(),r.setState(u,function(){return r.props.onResize&&r.props.onResize(a,l)})):r.setState(u)},r}e.getDerivedStateFromProps=function(o,i){return i.propsWidth!==o.width||i.propsHeight!==o.height?{width:o.width,height:o.height,propsWidth:o.width,propsHeight:o.height}:null};var n=e.prototype;return n.render=function(){var o=this.props,i=o.handle,s=o.handleSize;o.onResize;var a=o.onResizeStart,l=o.onResizeStop,u=o.draggableOpts,d=o.minConstraints,c=o.maxConstraints,f=o.lockAspectRatio,p=o.axis;o.width,o.height;var m=o.resizeHandles,g=o.style,x=o.transformScale,v=Ose(o,bse);return Rb.createElement(_se.default,{axis:p,draggableOpts:u,handle:i,handleSize:s,height:this.state.height,lockAspectRatio:f,maxConstraints:c,minConstraints:d,onResizeStart:a,onResize:this.onResize,onResizeStop:l,resizeHandles:m,transformScale:x,width:this.state.width},Rb.createElement("div",tE({},v,{style:ex(ex({},g),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},e}(Rb.Component);J_.default=cV;cV.propTypes=ex(ex({},wse.resizableProps),{},{children:xse.default.element});X_.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};X_.exports.Resizable=Rg.default;X_.exports.ResizableBox=J_.default;var Ds={};Object.defineProperty(Ds,"__esModule",{value:!0});Ds.resizeHandleType=Ds.resizeHandleAxesType=Ds.default=void 0;var ut=uV(qs.exports),Rse=uV(b.exports);function uV(t){return t&&t.__esModule?t:{default:t}}const Tse=Ds.resizeHandleAxesType=ut.default.arrayOf(ut.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),Mse=Ds.resizeHandleType=ut.default.oneOfType([ut.default.node,ut.default.func]);Ds.default={className:ut.default.string,style:ut.default.object,width:ut.default.number,autoSize:ut.default.bool,cols:ut.default.number,draggableCancel:ut.default.string,draggableHandle:ut.default.string,verticalCompact:function(t){t.verticalCompact},compactType:ut.default.oneOf(["vertical","horizontal"]),layout:function(t){var e=t.layout;e!==void 0&&ht.validateLayout(e,"layout")},margin:ut.default.arrayOf(ut.default.number),containerPadding:ut.default.arrayOf(ut.default.number),rowHeight:ut.default.number,maxRows:ut.default.number,isBounded:ut.default.bool,isDraggable:ut.default.bool,isResizable:ut.default.bool,allowOverlap:ut.default.bool,preventCollision:ut.default.bool,useCSSTransforms:ut.default.bool,transformScale:ut.default.number,isDroppable:ut.default.bool,resizeHandles:Tse,resizeHandle:Mse,onLayoutChange:ut.default.func,onDragStart:ut.default.func,onDrag:ut.default.func,onDragStop:ut.default.func,onResizeStart:ut.default.func,onResize:ut.default.func,onResizeStop:ut.default.func,onDrop:ut.default.func,droppingItem:ut.default.shape({i:ut.default.string.isRequired,w:ut.default.number.isRequired,h:ut.default.number.isRequired}),children:function(t,e){const n=t[e],r={};Rse.default.Children.forEach(n,function(o){if((o==null?void 0:o.key)!=null){if(r[o.key])throw new Error('Duplicate child key "'+o.key+'" found! This will cause problems in ReactGridLayout.');r[o.key]=!0}})},innerRef:ut.default.any};Object.defineProperty(G_,"__esModule",{value:!0});G_.default=void 0;var vu=HO(b.exports),Pt=HO(qs.exports),Nse=Pg.exports,Dse=X_.exports,yu=ht,zn=ns,sD=Ds,Ase=HO(RO);function HO(t){return t&&t.__esModule?t:{default:t}}function Ni(t,e,n){return e=Ise(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ise(t){var e=Lse(t,"string");return typeof e=="symbol"?e:String(e)}function Lse(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class WO extends vu.default.Component{constructor(){super(...arguments),Ni(this,"state",{resizing:null,dragging:null,className:""}),Ni(this,"elementRef",vu.default.createRef()),Ni(this,"onDragStart",(e,n)=>{let{node:r}=n;const{onDragStart:o,transformScale:i}=this.props;if(!o)return;const s={top:0,left:0},{offsetParent:a}=r;if(!a)return;const l=a.getBoundingClientRect(),u=r.getBoundingClientRect(),d=u.left/i,c=l.left/i,f=u.top/i,p=l.top/i;s.left=d-c+a.scrollLeft,s.top=f-p+a.scrollTop,this.setState({dragging:s});const{x:m,y:g}=(0,zn.calcXY)(this.getPositionParams(),s.top,s.left,this.props.w,this.props.h);return o.call(this,this.props.i,m,g,{e,node:r,newPosition:s})}),Ni(this,"onDrag",(e,n)=>{let{node:r,deltaX:o,deltaY:i}=n;const{onDrag:s}=this.props;if(!s)return;if(!this.state.dragging)throw new Error("onDrag called before onDragStart.");let a=this.state.dragging.top+i,l=this.state.dragging.left+o;const{isBounded:u,i:d,w:c,h:f,containerWidth:p}=this.props,m=this.getPositionParams();if(u){const{offsetParent:_}=r;if(_){const{margin:y,rowHeight:S,containerPadding:O}=this.props,k=_.clientHeight-(0,zn.calcGridItemWHPx)(f,S,y[1]);a=(0,zn.clamp)(a-O[1],0,k);const E=(0,zn.calcGridColWidth)(m),T=p-(0,zn.calcGridItemWHPx)(c,E,y[0]);l=(0,zn.clamp)(l-O[0],0,T)}}const g={top:a,left:l};this.setState({dragging:g});const{containerPadding:x}=this.props,{x:v,y:h}=(0,zn.calcXY)(m,a-x[1],l-x[0],c,f);return s.call(this,d,v,h,{e,node:r,newPosition:g})}),Ni(this,"onDragStop",(e,n)=>{let{node:r}=n;const{onDragStop:o}=this.props;if(!o)return;if(!this.state.dragging)throw new Error("onDragEnd called before onDragStart.");const{w:i,h:s,i:a,containerPadding:l}=this.props,{left:u,top:d}=this.state.dragging,c={top:d,left:u};this.setState({dragging:null});const{x:f,y:p}=(0,zn.calcXY)(this.getPositionParams(),d-l[1],u-l[0],i,s);return o.call(this,a,f,p,{e,node:r,newPosition:c})}),Ni(this,"onResizeStop",(e,n,r)=>this.onResizeHandler(e,n,r,"onResizeStop")),Ni(this,"onResizeStart",(e,n,r)=>this.onResizeHandler(e,n,r,"onResizeStart")),Ni(this,"onResize",(e,n,r)=>this.onResizeHandler(e,n,r,"onResize"))}shouldComponentUpdate(e,n){if(this.props.children!==e.children||this.props.droppingPosition!==e.droppingPosition)return!0;const r=(0,zn.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),o=(0,zn.calcGridItemPosition)(this.getPositionParams(e),e.x,e.y,e.w,e.h,n);return!(0,yu.fastPositionEqual)(r,o)||this.props.useCSSTransforms!==e.useCSSTransforms}componentDidMount(){this.moveDroppingItem({})}componentDidUpdate(e){this.moveDroppingItem(e)}moveDroppingItem(e){const{droppingPosition:n}=this.props;if(!n)return;const r=this.elementRef.current;if(!r)return;const o=e.droppingPosition||{left:0,top:0},{dragging:i}=this.state,s=i&&n.left!==o.left||n.top!==o.top;if(!i)this.onDragStart(n.e,{node:r,deltaX:n.left,deltaY:n.top});else if(s){const a=n.left-i.left,l=n.top-i.top;this.onDrag(n.e,{node:r,deltaX:a,deltaY:l})}}getPositionParams(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return{cols:e.cols,containerPadding:e.containerPadding,containerWidth:e.containerWidth,margin:e.margin,maxRows:e.maxRows,rowHeight:e.rowHeight}}createStyle(e){const{usePercentages:n,containerWidth:r,useCSSTransforms:o}=this.props;let i;return o?i=(0,yu.setTransform)(e):(i=(0,yu.setTopLeft)(e),n&&(i.left=(0,yu.perc)(e.left/r),i.width=(0,yu.perc)(e.width/r))),i}mixinDraggable(e,n){return vu.default.createElement(Nse.DraggableCore,{disabled:!n,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},e)}curryResizeHandler(e,n){return(r,o)=>n(r,o,e)}mixinResizable(e,n,r){const{cols:o,minW:i,minH:s,maxW:a,maxH:l,transformScale:u,resizeHandles:d,resizeHandle:c}=this.props,f=this.getPositionParams(),p=(0,zn.calcGridItemPosition)(f,0,0,o,0).width,m=(0,zn.calcGridItemPosition)(f,0,0,i,s),g=(0,zn.calcGridItemPosition)(f,0,0,a,l),x=[m.width,m.height],v=[Math.min(g.width,p),Math.min(g.height,1/0)];return vu.default.createElement(Dse.Resizable,{draggableOpts:{disabled:!r},className:r?void 0:"react-resizable-hide",width:n.width,height:n.height,minConstraints:x,maxConstraints:v,onResizeStop:this.curryResizeHandler(n,this.onResizeStop),onResizeStart:this.curryResizeHandler(n,this.onResizeStart),onResize:this.curryResizeHandler(n,this.onResize),transformScale:u,resizeHandles:d,handle:c},e)}onResizeHandler(e,n,r,o){let{node:i,size:s,handle:a}=n;const l=this.props[o];if(!l)return;const{x:u,y:d,i:c,maxH:f,minH:p,containerWidth:m}=this.props,{minW:g,maxW:x}=this.props;let v=s;i&&(v=(0,yu.resizeItemInDirection)(a,r,s,m),this.setState({resizing:o==="onResizeStop"?null:v}));let{w:h,h:_}=(0,zn.calcWH)(this.getPositionParams(),v.width,v.height,u,d,a);h=(0,zn.clamp)(h,Math.max(g,1),x),_=(0,zn.clamp)(_,p,f),l.call(this,c,h,_,{e,node:i,size:v,handle:a})}render(){const{x:e,y:n,w:r,h:o,isDraggable:i,isResizable:s,droppingPosition:a,useCSSTransforms:l}=this.props,u=(0,zn.calcGridItemPosition)(this.getPositionParams(),e,n,r,o,this.state),d=vu.default.Children.only(this.props.children);let c=vu.default.cloneElement(d,{ref:this.elementRef,className:(0,Ase.default)("react-grid-item",d.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":i,"react-draggable-dragging":Boolean(this.state.dragging),dropping:Boolean(a),cssTransforms:l}),style:{...this.props.style,...d.props.style,...this.createStyle(u)}});return c=this.mixinResizable(c,u,s),c=this.mixinDraggable(c,i),c}}G_.default=WO;Ni(WO,"propTypes",{children:Pt.default.element,cols:Pt.default.number.isRequired,containerWidth:Pt.default.number.isRequired,rowHeight:Pt.default.number.isRequired,margin:Pt.default.array.isRequired,maxRows:Pt.default.number.isRequired,containerPadding:Pt.default.array.isRequired,x:Pt.default.number.isRequired,y:Pt.default.number.isRequired,w:Pt.default.number.isRequired,h:Pt.default.number.isRequired,minW:function(t,e){const n=t[e];if(typeof n!="number")return new Error("minWidth not Number");if(n>t.w||n>t.maxW)return new Error("minWidth larger than item width/maxWidth")},maxW:function(t,e){const n=t[e];if(typeof n!="number")return new Error("maxWidth not Number");if(n<t.w||n<t.minW)return new Error("maxWidth smaller than item width/minWidth")},minH:function(t,e){const n=t[e];if(typeof n!="number")return new Error("minHeight not Number");if(n>t.h||n>t.maxH)return new Error("minHeight larger than item height/maxHeight")},maxH:function(t,e){const n=t[e];if(typeof n!="number")return new Error("maxHeight not Number");if(n<t.h||n<t.minH)return new Error("maxHeight smaller than item height/minHeight")},i:Pt.default.string.isRequired,resizeHandles:sD.resizeHandleAxesType,resizeHandle:sD.resizeHandleType,onDragStop:Pt.default.func,onDragStart:Pt.default.func,onDrag:Pt.default.func,onResizeStop:Pt.default.func,onResizeStart:Pt.default.func,onResize:Pt.default.func,isDraggable:Pt.default.bool.isRequired,isResizable:Pt.default.bool.isRequired,isBounded:Pt.default.bool.isRequired,static:Pt.default.bool,useCSSTransforms:Pt.default.bool.isRequired,transformScale:Pt.default.number,className:Pt.default.string,handle:Pt.default.string,cancel:Pt.default.string,droppingPosition:Pt.default.shape({e:Pt.default.object.isRequired,left:Pt.default.number.isRequired,top:Pt.default.number.isRequired})});Ni(WO,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1});Object.defineProperty(Og,"__esModule",{value:!0});Og.default=void 0;var Nl=Bse(b.exports),Tb=Cm.exports,$se=KO(RO),Xe=ht,zse=ns,aD=KO(G_),Fse=KO(Ds);function KO(t){return t&&t.__esModule?t:{default:t}}function dV(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(dV=function(r){return r?n:e})(t)}function Bse(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=dV(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var s=o?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}function Qn(t,e,n){return e=jse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jse(t){var e=Vse(t,"string");return typeof e=="symbol"?e:String(e)}function Vse(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const lD="react-grid-layout";let fV=!1;try{fV=/firefox/i.test(navigator.userAgent)}catch{}class ew extends Nl.Component{constructor(){super(...arguments),Qn(this,"state",{activeDrag:null,layout:(0,Xe.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,(0,Xe.compactType)(this.props),this.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,resizing:!1,droppingDOMNode:null,children:[]}),Qn(this,"dragEnterCounter",0),Qn(this,"onDragStart",(e,n,r,o)=>{let{e:i,node:s}=o;const{layout:a}=this.state,l=(0,Xe.getLayoutItem)(a,e);if(!l)return;const u={w:l.w,h:l.h,x:l.x,y:l.y,placeholder:!0,i:e};return this.setState({oldDragItem:(0,Xe.cloneLayoutItem)(l),oldLayout:a,activeDrag:u}),this.props.onDragStart(a,l,l,null,i,s)}),Qn(this,"onDrag",(e,n,r,o)=>{let{e:i,node:s}=o;const{oldDragItem:a}=this.state;let{layout:l}=this.state;const{cols:u,allowOverlap:d,preventCollision:c}=this.props,f=(0,Xe.getLayoutItem)(l,e);if(!f)return;const p={w:f.w,h:f.h,x:f.x,y:f.y,placeholder:!0,i:e},m=!0;l=(0,Xe.moveElement)(l,f,n,r,m,c,(0,Xe.compactType)(this.props),u,d),this.props.onDrag(l,a,f,p,i,s),this.setState({layout:d?l:(0,Xe.compact)(l,(0,Xe.compactType)(this.props),u),activeDrag:p})}),Qn(this,"onDragStop",(e,n,r,o)=>{let{e:i,node:s}=o;if(!this.state.activeDrag)return;const{oldDragItem:a}=this.state;let{layout:l}=this.state;const{cols:u,preventCollision:d,allowOverlap:c}=this.props,f=(0,Xe.getLayoutItem)(l,e);if(!f)return;const p=!0;l=(0,Xe.moveElement)(l,f,n,r,p,d,(0,Xe.compactType)(this.props),u,c);const m=c?l:(0,Xe.compact)(l,(0,Xe.compactType)(this.props),u);this.props.onDragStop(m,a,f,null,i,s);const{oldLayout:g}=this.state;this.setState({activeDrag:null,layout:m,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(m,g)}),Qn(this,"onResizeStart",(e,n,r,o)=>{let{e:i,node:s}=o;const{layout:a}=this.state,l=(0,Xe.getLayoutItem)(a,e);!l||(this.setState({oldResizeItem:(0,Xe.cloneLayoutItem)(l),oldLayout:this.state.layout,resizing:!0}),this.props.onResizeStart(a,l,l,null,i,s))}),Qn(this,"onResize",(e,n,r,o)=>{let{e:i,node:s,size:a,handle:l}=o;const{oldResizeItem:u}=this.state,{layout:d}=this.state,{cols:c,preventCollision:f,allowOverlap:p}=this.props;let m=!1,g,x,v;const[h,_]=(0,Xe.withLayoutItem)(d,e,S=>{let O;return x=S.x,v=S.y,["sw","w","nw","n","ne"].indexOf(l)!==-1&&(["sw","nw","w"].indexOf(l)!==-1&&(x=S.x+(S.w-n),n=S.x!==x&&x<0?S.w:n,x=x<0?0:x),["ne","n","nw"].indexOf(l)!==-1&&(v=S.y+(S.h-r),r=S.y!==v&&v<0?S.h:r,v=v<0?0:v),m=!0),f&&!p&&(O=(0,Xe.getAllCollisions)(d,{...S,w:n,h:r,x,y:v}).filter(E=>E.i!==S.i).length>0,O&&(v=S.y,r=S.h,x=S.x,n=S.w,m=!1)),S.w=n,S.h=r,S});if(!_)return;g=h,m&&(g=(0,Xe.moveElement)(h,_,x,v,!0,this.props.preventCollision,(0,Xe.compactType)(this.props),c,p));const y={w:_.w,h:_.h,x:_.x,y:_.y,static:!0,i:e};this.props.onResize(g,u,_,y,i,s),this.setState({layout:p?g:(0,Xe.compact)(g,(0,Xe.compactType)(this.props),c),activeDrag:y})}),Qn(this,"onResizeStop",(e,n,r,o)=>{let{e:i,node:s}=o;const{layout:a,oldResizeItem:l}=this.state,{cols:u,allowOverlap:d}=this.props,c=(0,Xe.getLayoutItem)(a,e),f=d?a:(0,Xe.compact)(a,(0,Xe.compactType)(this.props),u);this.props.onResizeStop(f,l,c,null,i,s);const{oldLayout:p}=this.state;this.setState({activeDrag:null,layout:f,oldResizeItem:null,oldLayout:null,resizing:!1}),this.onLayoutMaybeChanged(f,p)}),Qn(this,"onDragOver",e=>{var h;if(e.preventDefault(),e.stopPropagation(),fV&&!((h=e.nativeEvent.target)!=null&&h.classList.contains(lD)))return!1;const{droppingItem:n,onDropDragOver:r,margin:o,cols:i,rowHeight:s,maxRows:a,width:l,containerPadding:u,transformScale:d}=this.props,c=r==null?void 0:r(e);if(c===!1)return this.state.droppingDOMNode&&this.removeDroppingPlaceholder(),!1;const f={...n,...c},{layout:p}=this.state,m=e.currentTarget.getBoundingClientRect(),g=e.clientX-m.left,x=e.clientY-m.top,v={left:g/d,top:x/d,e};if(this.state.droppingDOMNode){if(this.state.droppingPosition){const{left:_,top:y}=this.state.droppingPosition;(_!=g||y!=x)&&this.setState({droppingPosition:v})}}else{const _={cols:i,margin:o,maxRows:a,rowHeight:s,containerWidth:l,containerPadding:u||o},y=(0,zse.calcXY)(_,x,g,f.w,f.h);this.setState({droppingDOMNode:Nl.createElement("div",{key:f.i}),droppingPosition:v,layout:[...p,{...f,x:y.x,y:y.y,static:!1,isDraggable:!0}]})}}),Qn(this,"removeDroppingPlaceholder",()=>{const{droppingItem:e,cols:n}=this.props,{layout:r}=this.state,o=(0,Xe.compact)(r.filter(i=>i.i!==e.i),(0,Xe.compactType)(this.props),n,this.props.allowOverlap);this.setState({layout:o,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),Qn(this,"onDragLeave",e=>{e.preventDefault(),e.stopPropagation(),this.dragEnterCounter--,this.dragEnterCounter===0&&this.removeDroppingPlaceholder()}),Qn(this,"onDragEnter",e=>{e.preventDefault(),e.stopPropagation(),this.dragEnterCounter++}),Qn(this,"onDrop",e=>{e.preventDefault(),e.stopPropagation();const{droppingItem:n}=this.props,{layout:r}=this.state,o=r.find(i=>i.i===n.i);this.dragEnterCounter=0,this.removeDroppingPlaceholder(),this.props.onDrop(r,o,e)})}componentDidMount(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}static getDerivedStateFromProps(e,n){let r;return n.activeDrag?null:(!(0,Tb.deepEqual)(e.layout,n.propsLayout)||e.compactType!==n.compactType?r=e.layout:(0,Xe.childrenEqual)(e.children,n.children)||(r=n.layout),r?{layout:(0,Xe.synchronizeLayoutWithChildren)(r,e.children,e.cols,(0,Xe.compactType)(e),e.allowOverlap),compactType:e.compactType,children:e.children,propsLayout:e.layout}:null)}shouldComponentUpdate(e,n){return this.props.children!==e.children||!(0,Xe.fastRGLPropsEqual)(this.props,e,Tb.deepEqual)||this.state.activeDrag!==n.activeDrag||this.state.mounted!==n.mounted||this.state.droppingPosition!==n.droppingPosition}componentDidUpdate(e,n){if(!this.state.activeDrag){const r=this.state.layout,o=n.layout;this.onLayoutMaybeChanged(r,o)}}containerHeight(){if(!this.props.autoSize)return;const e=(0,Xe.bottom)(this.state.layout),n=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return e*this.props.rowHeight+(e-1)*this.props.margin[1]+n*2+"px"}onLayoutMaybeChanged(e,n){n||(n=this.state.layout),(0,Tb.deepEqual)(n,e)||this.props.onLayoutChange(e)}placeholder(){const{activeDrag:e}=this.state;if(!e)return null;const{width:n,cols:r,margin:o,containerPadding:i,rowHeight:s,maxRows:a,useCSSTransforms:l,transformScale:u}=this.props;return Nl.createElement(aD.default,{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,className:`react-grid-placeholder ${this.state.resizing?"placeholder-resizing":""}`,containerWidth:n,cols:r,margin:o,containerPadding:i||o,maxRows:a,rowHeight:s,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:l,transformScale:u},Nl.createElement("div",null))}processGridItem(e,n){if(!e||!e.key)return;const r=(0,Xe.getLayoutItem)(this.state.layout,String(e.key));if(!r)return null;const{width:o,cols:i,margin:s,containerPadding:a,rowHeight:l,maxRows:u,isDraggable:d,isResizable:c,isBounded:f,useCSSTransforms:p,transformScale:m,draggableCancel:g,draggableHandle:x,resizeHandles:v,resizeHandle:h}=this.props,{mounted:_,droppingPosition:y}=this.state,S=typeof r.isDraggable=="boolean"?r.isDraggable:!r.static&&d,O=typeof r.isResizable=="boolean"?r.isResizable:!r.static&&c,k=r.resizeHandles||v,E=S&&f&&r.isBounded!==!1;return Nl.createElement(aD.default,{containerWidth:o,cols:i,margin:s,containerPadding:a||s,maxRows:u,rowHeight:l,cancel:g,handle:x,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:S,isResizable:O,isBounded:E,useCSSTransforms:p&&_,usePercentages:!_,transformScale:m,w:r.w,h:r.h,x:r.x,y:r.y,i:r.i,minH:r.minH,minW:r.minW,maxH:r.maxH,maxW:r.maxW,static:r.static,droppingPosition:n?y:void 0,resizeHandles:k,resizeHandle:h},e)}render(){const{className:e,style:n,isDroppable:r,innerRef:o}=this.props,i=(0,$se.default)(lD,e),s={height:this.containerHeight(),...n};return Nl.createElement("div",{ref:o,className:i,style:s,onDrop:r?this.onDrop:Xe.noop,onDragLeave:r?this.onDragLeave:Xe.noop,onDragEnter:r?this.onDragEnter:Xe.noop,onDragOver:r?this.onDragOver:Xe.noop},Nl.Children.map(this.props.children,a=>this.processGridItem(a)),r&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}Og.default=ew;Qn(ew,"displayName","ReactGridLayout");Qn(ew,"propTypes",Fse.default);Qn(ew,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:Xe.noop,onDragStart:Xe.noop,onDrag:Xe.noop,onDragStop:Xe.noop,onResizeStart:Xe.noop,onResize:Xe.noop,onResizeStop:Xe.noop,onDrop:Xe.noop,onDropDragOver:Xe.noop});var tw={},Xc={};Object.defineProperty(Xc,"__esModule",{value:!0});Xc.findOrGenerateResponsiveLayout=Wse;Xc.getBreakpointFromWidth=Use;Xc.getColsFromBreakpoint=Hse;Xc.sortBreakpoints=qO;var Yv=ht;function Use(t,e){const n=qO(t);let r=n[0];for(let o=1,i=n.length;o<i;o++){const s=n[o];e>t[s]&&(r=s)}return r}function Hse(t,e){if(!e[t])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+t+" is missing!");return e[t]}function Wse(t,e,n,r,o,i){if(t[n])return(0,Yv.cloneLayout)(t[n]);let s=t[r];const a=qO(e),l=a.slice(a.indexOf(n));for(let u=0,d=l.length;u<d;u++){const c=l[u];if(t[c]){s=t[c];break}}return s=(0,Yv.cloneLayout)(s||[]),(0,Yv.compact)((0,Yv.correctBounds)(s,{cols:o}),i,o)}function qO(t){return Object.keys(t).sort(function(n,r){return t[n]-t[r]})}Object.defineProperty(tw,"__esModule",{value:!0});tw.default=void 0;var cD=qse(b.exports),Rr=pV(qs.exports),Mb=Cm.exports,dd=ht,Dl=Xc,Kse=pV(Og);function pV(t){return t&&t.__esModule?t:{default:t}}function hV(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(hV=function(r){return r?n:e})(t)}function qse(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=hV(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var s=o?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}function rE(){return rE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rE.apply(this,arguments)}function tx(t,e,n){return e=Gse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gse(t){var e=Zse(t,"string");return typeof e=="symbol"?e:String(e)}function Zse(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const uD=t=>Object.prototype.toString.call(t);function Xv(t,e){return t==null?null:Array.isArray(t)?t:t[e]}class GO extends cD.Component{constructor(){super(...arguments),tx(this,"state",this.generateInitialState()),tx(this,"onLayoutChange",e=>{this.props.onLayoutChange(e,{...this.props.layouts,[this.state.breakpoint]:e})})}generateInitialState(){const{width:e,breakpoints:n,layouts:r,cols:o}=this.props,i=(0,Dl.getBreakpointFromWidth)(n,e),s=(0,Dl.getColsFromBreakpoint)(i,o),a=this.props.verticalCompact===!1?null:this.props.compactType;return{layout:(0,Dl.findOrGenerateResponsiveLayout)(r,n,i,i,s,a),breakpoint:i,cols:s}}static getDerivedStateFromProps(e,n){if(!(0,Mb.deepEqual)(e.layouts,n.layouts)){const{breakpoint:r,cols:o}=n;return{layout:(0,Dl.findOrGenerateResponsiveLayout)(e.layouts,e.breakpoints,r,r,o,e.compactType),layouts:e.layouts}}return null}componentDidUpdate(e){(this.props.width!=e.width||this.props.breakpoint!==e.breakpoint||!(0,Mb.deepEqual)(this.props.breakpoints,e.breakpoints)||!(0,Mb.deepEqual)(this.props.cols,e.cols))&&this.onWidthChange(e)}onWidthChange(e){const{breakpoints:n,cols:r,layouts:o,compactType:i}=this.props,s=this.props.breakpoint||(0,Dl.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),a=this.state.breakpoint,l=(0,Dl.getColsFromBreakpoint)(s,r),u={...o};if(a!==s||e.breakpoints!==n||e.cols!==r){a in u||(u[a]=(0,dd.cloneLayout)(this.state.layout));let f=(0,Dl.findOrGenerateResponsiveLayout)(u,n,s,a,l,i);f=(0,dd.synchronizeLayoutWithChildren)(f,this.props.children,l,i,this.props.allowOverlap),u[s]=f,this.props.onLayoutChange(f,u),this.props.onBreakpointChange(s,l),this.setState({breakpoint:s,layout:f,cols:l})}const d=Xv(this.props.margin,s),c=Xv(this.props.containerPadding,s);this.props.onWidthChange(this.props.width,d,l,c)}render(){const{breakpoint:e,breakpoints:n,cols:r,layouts:o,margin:i,containerPadding:s,onBreakpointChange:a,onLayoutChange:l,onWidthChange:u,...d}=this.props;return cD.createElement(Kse.default,rE({},d,{margin:Xv(i,this.state.breakpoint),containerPadding:Xv(s,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}tw.default=GO;tx(GO,"propTypes",{breakpoint:Rr.default.string,breakpoints:Rr.default.object,allowOverlap:Rr.default.bool,cols:Rr.default.object,margin:Rr.default.oneOfType([Rr.default.array,Rr.default.object]),containerPadding:Rr.default.oneOfType([Rr.default.array,Rr.default.object]),layouts(t,e){if(uD(t[e])!=="[object Object]")throw new Error("Layout property must be an object. Received: "+uD(t[e]));Object.keys(t[e]).forEach(n=>{if(!(n in t.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,dd.validateLayout)(t.layouts[n],"layouts."+n)})},width:Rr.default.number.isRequired,onBreakpointChange:Rr.default.func,onLayoutChange:Rr.default.func,onWidthChange:Rr.default.func});tx(GO,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:dd.noop,onLayoutChange:dd.noop,onWidthChange:dd.noop});var ZO={},mV=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(o,i){return o[0]===n?(r=i,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),o=this.__entries__[r];return o&&o[1]},e.prototype.set=function(n,r){var o=t(this.__entries__,n);~o?this.__entries__[o][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,o=t(r,n);~o&&r.splice(o,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var o=0,i=this.__entries__;o<i.length;o++){var s=i[o];n.call(r,s[1],s[0])}},e}()}(),oE=typeof window<"u"&&typeof document<"u"&&window.document===document,nx=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Qse=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(nx):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),Yse=2;function Xse(t,e){var n=!1,r=!1,o=0;function i(){n&&(n=!1,t()),r&&a()}function s(){Qse(i)}function a(){var l=Date.now();if(n){if(l-o<Yse)return;r=!0}else n=!0,r=!1,setTimeout(s,e);o=l}return a}var Jse=20,eae=["top","right","bottom","left","width","height","size","weight"],tae=typeof MutationObserver<"u",nae=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Xse(this.refresh.bind(this),Jse)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!oE||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),tae?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!oE||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,o=eae.some(function(i){return!!~r.indexOf(i)});o&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),gV=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];Object.defineProperty(t,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0})}return t},Zd=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||nx},vV=nw(0,0,0,0);function rx(t){return parseFloat(t)||0}function dD(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,o){var i=t["border-"+o+"-width"];return r+rx(i)},0)}function rae(t){for(var e=["top","right","bottom","left"],n={},r=0,o=e;r<o.length;r++){var i=o[r],s=t["padding-"+i];n[i]=rx(s)}return n}function oae(t){var e=t.getBBox();return nw(0,0,e.width,e.height)}function iae(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return vV;var r=Zd(t).getComputedStyle(t),o=rae(r),i=o.left+o.right,s=o.top+o.bottom,a=rx(r.width),l=rx(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+i)!==e&&(a-=dD(r,"left","right")+i),Math.round(l+s)!==n&&(l-=dD(r,"top","bottom")+s)),!aae(t)){var u=Math.round(a+i)-e,d=Math.round(l+s)-n;Math.abs(u)!==1&&(a-=u),Math.abs(d)!==1&&(l-=d)}return nw(o.left,o.top,a,l)}var sae=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Zd(t).SVGGraphicsElement}:function(t){return t instanceof Zd(t).SVGElement&&typeof t.getBBox=="function"}}();function aae(t){return t===Zd(t).document.documentElement}function lae(t){return oE?sae(t)?oae(t):iae(t):vV}function cae(t){var e=t.x,n=t.y,r=t.width,o=t.height,i=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(i.prototype);return gV(s,{x:e,y:n,width:r,height:o,top:n,right:e+r,bottom:o+n,left:e}),s}function nw(t,e,n,r){return{x:t,y:e,width:n,height:r}}var uae=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=nw(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=lae(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),dae=function(){function t(e,n){var r=cae(n);gV(this,{target:e,contentRect:r})}return t}(),fae=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new mV,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Zd(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new uae(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Zd(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;!n.has(e)||(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(!!this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new dae(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),yV=typeof WeakMap<"u"?new WeakMap:new mV,xV=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=nae.getInstance(),r=new fae(e,n,this);yV.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){xV.prototype[t]=function(){var e;return(e=yV.get(this))[t].apply(e,arguments)}});var pae=function(){return typeof nx.ResizeObserver<"u"?nx.ResizeObserver:xV}();const hae=Object.freeze(Object.defineProperty({__proto__:null,default:pae},Symbol.toStringTag,{value:"Module"})),mae=kk(hae);Object.defineProperty(ZO,"__esModule",{value:!0});ZO.default=Sae;var Jv=xae(b.exports),gae=QO(qs.exports),vae=QO(mae),yae=QO(RO);function QO(t){return t&&t.__esModule?t:{default:t}}function _V(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(_V=function(r){return r?n:e})(t)}function xae(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=_V(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var s=o?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}function iE(){return iE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iE.apply(this,arguments)}function xu(t,e,n){return e=_ae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ae(t){var e=wae(t,"string");return typeof e=="symbol"?e:String(e)}function wae(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const bae="react-grid-layout";function Sae(t){var e;return e=class extends Jv.Component{constructor(){super(...arguments),xu(this,"state",{width:1280}),xu(this,"elementRef",Jv.createRef()),xu(this,"mounted",!1),xu(this,"resizeObserver",void 0)}componentDidMount(){this.mounted=!0,this.resizeObserver=new vae.default(o=>{if(this.elementRef.current instanceof HTMLElement){const s=o[0].contentRect.width;this.setState({width:s})}});const r=this.elementRef.current;r instanceof HTMLElement&&this.resizeObserver.observe(r)}componentWillUnmount(){this.mounted=!1;const r=this.elementRef.current;r instanceof HTMLElement&&this.resizeObserver.unobserve(r),this.resizeObserver.disconnect()}render(){const{measureBeforeMount:r,...o}=this.props;return r&&!this.mounted?Jv.createElement("div",{className:(0,yae.default)(this.props.className,bae),style:this.props.style,ref:this.elementRef}):Jv.createElement(t,iE({innerRef:this.elementRef},o,this.state))}},xu(e,"defaultProps",{measureBeforeMount:!1}),xu(e,"propTypes",{measureBeforeMount:gae.default.bool}),e}(function(t){t.exports=Og.default,t.exports.utils=ht,t.exports.calculateUtils=ns,t.exports.Responsive=tw.default,t.exports.Responsive.utils=Xc,t.exports.WidthProvider=ZO.default})(ZS);var ox={exports:{}};(function(t,e){var n=typeof Reflect<"u"?Reflect.construct:void 0,r=Object.defineProperty,o=Error.captureStackTrace;o===void 0&&(o=function(u){var d=new Error;r(u,"stack",{configurable:!0,get:function(){var f=d.stack;return r(this,"stack",{configurable:!0,value:f,writable:!0}),f},set:function(f){r(u,"stack",{configurable:!0,value:f,writable:!0})}})});function i(l){l!==void 0&&r(this,"message",{configurable:!0,value:l,writable:!0});var u=this.constructor.name;u!==void 0&&u!==this.name&&r(this,"name",{configurable:!0,value:u,writable:!0}),o(this,this.constructor)}i.prototype=Object.create(Error.prototype,{constructor:{configurable:!0,value:i,writable:!0}});var s=function(){function l(d,c){return r(d,"name",{configurable:!0,value:c})}try{var u=function(){};if(l(u,"foo"),u.name==="foo")return l}catch{}}();function a(l,u){if(u==null||u===Error)u=i;else if(typeof u!="function")throw new TypeError("super_ should be a function");var d;if(typeof l=="string")d=l,l=n!==void 0?function(){return n(u,arguments,this.constructor)}:function(){u.apply(this,arguments)},s!==void 0&&(s(l,d),d=void 0);else if(typeof l!="function")throw new TypeError("constructor should be either a string or a function");l.super_=l.super=u;var c={constructor:{configurable:!0,value:l,writable:!0}};return d!==void 0&&(c.name={configurable:!0,value:d,writable:!0}),l.prototype=Object.create(u.prototype,c),l}e=t.exports=a,e.BaseError=i})(ox,ox.exports);var fD="ProseMirror-selectednode",YO="\uFFFC",Da="\0",pD="__state_override__",Eae={LastNodeCompatible:"lastNodeCompatible",FormattingMark:"formattingMark",FormattingNode:"formattingNode",NodeCursor:"nodeCursor",FontStyle:"fontStyle",Link:"link",Color:"color",Alignment:"alignment",Indentation:"indentation",Behavior:"behavior",Code:"code",InlineNode:"inline",ListContainerNode:"listContainer",ListItemNode:"listItemNode",Block:"block",BlockNode:"block",TextBlock:"textBlock",ExcludeInputRules:"excludeFromInputRules",PreventExits:"preventsExits",Media:"media"},tt=Eae,Us=Symbol.for("__remirror__"),Ln=(t=>(t.PlainExtension="RemirrorPlainExtension",t.NodeExtension="RemirrorNodeExtension",t.MarkExtension="RemirrorMarkExtension",t.PlainExtensionConstructor="RemirrorPlainExtensionConstructor",t.NodeExtensionConstructor="RemirrorNodeExtensionConstructor",t.MarkExtensionConstructor="RemirrorMarkExtensionConstructor",t.Manager="RemirrorManager",t.Preset="RemirrorPreset",t.PresetConstructor="RemirrorPresetConstructor",t))(Ln||{}),At=(t=>(t[t.Critical=1e6]="Critical",t[t.Highest=1e5]="Highest",t[t.High=1e4]="High",t[t.Medium=1e3]="Medium",t[t.Default=100]="Default",t[t.Low=10]="Low",t[t.Lowest=0]="Lowest",t))(At||{}),Nr=(t=>(t[t.None=0]="None",t[t.Create=1]="Create",t[t.EditorView=2]="EditorView",t[t.Runtime=3]="Runtime",t[t.Destroy=4]="Destroy",t))(Nr||{}),ne=(t=>(t.Undo="_|undo|_",t.Redo="_|redo|_",t.Bold="_|bold|_",t.Italic="_|italic|_",t.Underline="_|underline|_",t.Strike="_|strike|_",t.Code="_|code|_",t.Paragraph="_|paragraph|_",t.H1="_|h1|_",t.H2="_|h2|_",t.H3="_|h3|_",t.H4="_|h4|_",t.H5="_|h5|_",t.H6="_|h6|_",t.TaskList="_|task|_",t.BulletList="_|bullet|_",t.OrderedList="_|number|_",t.Quote="_|quote|_",t.Divider="_|divider|_",t.Codeblock="_|codeblock|_",t.ClearFormatting="_|clear|_",t.Superscript="_|sup|_",t.Subscript="_|sub|_",t.LeftAlignment="_|left-align|_",t.CenterAlignment="_|center-align|_",t.RightAlignment="_|right-align|_",t.JustifyAlignment="_|justify-align|_",t.InsertLink="_|link|_",t.Find="_|find|_",t.FindBackwards="_|find-backwards|_",t.FindReplace="_|find-replace|_",t.AddFootnote="_|footnote|_",t.AddComment="_|comment|_",t.ContextMenu="_|context-menu|_",t.IncreaseFontSize="_|inc-font-size|_",t.DecreaseFontSize="_|dec-font-size|_",t.IncreaseIndent="_|indent|_",t.DecreaseIndent="_|dedent|_",t.Shortcuts="_|shortcuts|_",t.Copy="_|copy|_",t.Cut="_|cut|_",t.Paste="_|paste|_",t.PastePlain="_|paste-plain|_",t.SelectAll="_|select-all|_",t.Format="_|format|_",t))(ne||{}),te=(t=>(t.UNKNOWN="RMR0001",t.INVALID_COMMAND_ARGUMENTS="RMR0002",t.CUSTOM="RMR0003",t.CORE_HELPERS="RMR0004",t.MUTATION="RMR0005",t.INTERNAL="RMR0006",t.MISSING_REQUIRED_EXTENSION="RMR0007",t.MANAGER_PHASE_ERROR="RMR0008",t.INVALID_GET_EXTENSION="RMR0010",t.INVALID_MANAGER_ARGUMENTS="RMR0011",t.SCHEMA="RMR0012",t.HELPERS_CALLED_IN_OUTER_SCOPE="RMR0013",t.INVALID_MANAGER_EXTENSION="RMR0014",t.DUPLICATE_COMMAND_NAMES="RMR0016",t.DUPLICATE_HELPER_NAMES="RMR0017",t.NON_CHAINABLE_COMMAND="RMR0018",t.INVALID_EXTENSION="RMR0019",t.INVALID_CONTENT="RMR0021",t.INVALID_NAME="RMR0050",t.EXTENSION="RMR0100",t.EXTENSION_SPEC="RMR0101",t.EXTENSION_EXTRA_ATTRIBUTES="RMR0102",t.INVALID_SET_EXTENSION_OPTIONS="RMR0103",t.REACT_PROVIDER_CONTEXT="RMR0200",t.REACT_GET_ROOT_PROPS="RMR0201",t.REACT_EDITOR_VIEW="RMR0202",t.REACT_CONTROLLED="RMR0203",t.REACT_NODE_VIEW="RMR0204",t.REACT_GET_CONTEXT="RMR0205",t.REACT_COMPONENTS="RMR0206",t.REACT_HOOKS="RMR0207",t.I18N_CONTEXT="RMR0300",t))(te||{}),kae=function(e){return Cae(e)&&!Oae(e)};function Cae(t){return!!t&&typeof t=="object"}function Oae(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||Tae(t)}var Pae=typeof Symbol=="function"&&Symbol.for,Rae=Pae?Symbol.for("react.element"):60103;function Tae(t){return t.$$typeof===Rae}function Mae(t){return Array.isArray(t)?[]:{}}function Om(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Qd(Mae(t),t,e):t}function Nae(t,e,n){return t.concat(e).map(function(r){return Om(r,n)})}function Dae(t,e){if(!e.customMerge)return Qd;var n=e.customMerge(t);return typeof n=="function"?n:Qd}function Aae(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function hD(t){return Object.keys(t).concat(Aae(t))}function wV(t,e){try{return e in t}catch{return!1}}function Iae(t,e){return wV(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function Lae(t,e,n){var r={};return n.isMergeableObject(t)&&hD(t).forEach(function(o){r[o]=Om(t[o],n)}),hD(e).forEach(function(o){Iae(t,o)||(wV(t,o)&&n.isMergeableObject(e[o])?r[o]=Dae(o,n)(t[o],e[o],n):r[o]=Om(e[o],n))}),r}function Qd(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||Nae,n.isMergeableObject=n.isMergeableObject||kae,n.cloneUnlessOtherwiseSpecified=Om;var r=Array.isArray(e),o=Array.isArray(t),i=r===o;return i?r?n.arrayMerge(t,e,n):Lae(t,e,n):Om(e,n)}Qd.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,o){return Qd(r,o,n)},{})};var $ae=Qd,zae=$ae;/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var bV=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Fae=bV;function mD(t){return Fae(t)===!0&&Object.prototype.toString.call(t)==="[object Object]"}var Bae=function(e){var n,r;return!(mD(e)===!1||(n=e.constructor,typeof n!="function")||(r=n.prototype,mD(r)===!1)||r.hasOwnProperty("isPrototypeOf")===!1)};/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var jae=Bae,Vae=function(e){return jae(e)||typeof e=="function"||Array.isArray(e)};/*!
 * object.omit <https://github.com/jonschlinkert/object.omit>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Uae=Vae,XO=function(e,n,r){if(!Uae(e))return{};typeof n=="function"&&(r=n,n=[]),typeof n=="string"&&(n=[n]);for(var o=typeof r=="function",i=Object.keys(e),s={},a=0;a<i.length;a++){var l=i[a],u=e[l];(!n||n.indexOf(l)===-1&&(!o||r(u,l,e)))&&(s[l]=u)}return s};/*!
 * object.pick <https://github.com/jonschlinkert/object.pick>
 *
 * Copyright (c) 2014-2015 Jon Schlinkert, contributors.
 * Licensed under the MIT License
 */var Hae=bV,sE=function(e,n){if(!Hae(e)&&typeof e!="function")return{};var r={};if(typeof n=="string")return n in e&&(r[n]=e[n]),r;for(var o=n.length,i=-1;++i<o;){var s=n[i];s in e&&(r[s]=e[s])}return r};const SV=/^[a-zà-öø-ÿ]+|[A-ZÀ-ÖØ-ß][a-zà-öø-ÿ]+|[a-zà-öø-ÿ]+|[0-9]+|[A-ZÀ-ÖØ-ß]+(?![a-zà-öø-ÿ])/g,Wae=/\S+/g;function Kae(t,e){const n={parts:[],prefixes:[]},r=t.matchAll(e);let o=0;for(const s of r){if(typeof s.index!="number")continue;const a=s[0];n.parts.push(a);const l=t.slice(o,s.index).trim();n.prefixes.push(l),o=s.index+a.length}const i=t.slice(o).trim();return i&&(n.parts.push(""),n.prefixes.push(i)),n}function EV(t,e){const{keepSpecialCharacters:n=!1,keep:r,prefix:o=""}=e||{},i=t.trim().normalize("NFC"),s=i.includes(" "),l=Kae(i,s?Wae:SV);return l.parts.map((u,d)=>{let c=l.prefixes[d]||"",f=u;return n===!1&&(r&&(f=f.normalize("NFD").replace(new RegExp(`[^a-zA-Z\xD8\xDF\xF80-9${r.join("")}]`,"g"),"")),r||(f=f.normalize("NFD").replace(/[^a-zA-ZØßø0-9]/g,""),c="")),r&&(c=c.replace(new RegExp(`[^${r.join("")}]`,"g"),"")),d===0?c+f:!c&&!f?"":s&&!c&&o.match(/\s/)?" "+f:(c||o)+f}).filter(Boolean)}function qae(t){const e=t.matchAll(SV).next().value,n=e?e.index:0;return t.slice(0,n+1).toUpperCase()+t.slice(n+1).toLowerCase()}function kV(t,e){return EV(t,e).reduce((n,r)=>n+qae(r),"")}function gD(t,e){return EV(t,{...e,prefix:"-"}).join("").toLowerCase()}function vD(t,e,n,r){var o,i=!1,s=0;function a(){o&&clearTimeout(o)}function l(){a(),i=!0}typeof e!="boolean"&&(r=n,n=e,e=void 0);function u(){for(var d=arguments.length,c=new Array(d),f=0;f<d;f++)c[f]=arguments[f];var p=this,m=Date.now()-s;if(i)return;function g(){s=Date.now(),n.apply(p,c)}function x(){o=void 0}r&&!o&&g(),a(),r===void 0&&m>t?g():e!==!0&&(o=setTimeout(r?x:g,r===void 0?t-m:t))}return u.cancel=l,u}function Gae(t,e,n){return n===void 0?vD(t,e,!1):vD(t,n,e!==!1)}var Zae=Object.defineProperty,yD=Object.getOwnPropertySymbols,Qae=Object.prototype.hasOwnProperty,Yae=Object.prototype.propertyIsEnumerable,aE=(t,e,n)=>e in t?Zae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,CV=(t,e)=>{for(var n in e||(e={}))Qae.call(e,n)&&aE(t,n,e[n]);if(yD)for(var n of yD(e))Yae.call(e,n)&&aE(t,n,e[n]);return t},lE=(t,e,n)=>aE(t,typeof e!="symbol"?e+"":e,n);function tn(t,e,n){const r=t[e];return OV(!ow(r),n),r}function OV(t,e){if(!t)throw new Xae(e)}var Xae=class extends ox.exports.BaseError{constructor(){super(...arguments),lE(this,"name","AssertionError")}};function On(t){return Object.entries(t)}function Pm(t){return Object.keys(t)}function rw(t){return Object.values(t)}function Yi(t,e,n){return t.includes(e,n)}function ze(t){return Object.assign(Object.create(null),t)}function PV(t){return Object.prototype.toString.call(t)}function RV(t){return PV(t).slice(8,-1)}function Mg(t,e){return n=>typeof n!==t?!1:e?e(n):!0}function JO(t){return e=>RV(e)===t}var ow=Mg("undefined"),Ye=Mg("string"),Io=Mg("number",t=>!Number.isNaN(t)),Gt=Mg("function");function Jae(t){return t===null}function ele(t){return t===!0||t===!1}function Jc(t){if(RV(t)!=="Object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.getPrototypeOf({})}function tle(t){return t==null||/^[bns]/.test(typeof t)}function al(t){return Jae(t)||ow(t)}function ir(t){return!al(t)&&(Gt(t)||Mg("object")(t))}function nle(t){return e=>ir(e)&&e instanceof t}var rle=JO("RegExp");function ole(t){return JO("Map")(t)}function ile(t){return JO("Set")(t)}function ix(t){return ir(t)&&!ole(t)&&!ile(t)&&Object.keys(t).length===0}var Tn=Array.isArray;function ll(t){return Tn(t)&&t.length===0}function xD(t){return Tn(t)&&t.length>0}function eP(t,e,n=r=>!!r){e.lastIndex=0;const r=[],o=e.flags;let i;o.includes("g")||(e=new RegExp(e.source,"g".concat(o)));do i=e.exec(t),i&&r.push(i);while(n(i));return e.lastIndex=0,r}function sx(){const t=Date.now(),e=sx.last||t;return sx.last=t>e?t:e+1}sx.last=0;function ax(t=""){return"".concat(t).concat(sx().toString(36))}function sle(t){return XO(t,e=>!ow(e))}function ale(t){if(!Jc(t))throw new Error("An invalid value was passed into this clone utility. Expected a plain object");return CV({},t)}function Rm(t,e=!1){const n=e?[...t].reverse():t,r=new Set(n);return e?[...r].reverse():[...r]}function TV(){}function MV(...t){return zae.all(t,{isMergeableObject:Jc})}function lle({min:t,max:e,value:n}){return n<t?t:n>e?e:n}function Yd(t,e){return[...t].map((n,r)=>({value:n,index:r})).sort((n,r)=>e(n.value,r.value)||n.index-r.index).map(({value:n})=>n)}function cle(t,e,n){try{if(Ye(e)&&e in t)return t[e];Tn(e)&&(e="['".concat(e.join("']['"),"']"));let r=t;return e.replace(/\[\s*(["'])(.*?)\1\s*]|^\s*(\w+)\s*(?=\.|\[|$)|\.\s*(\w*)\s*(?=\.|\[|$)|\[\s*(-?\d+)\s*]/g,(o,i,s,a,l,u)=>(r=r[s||a||l||u],"")),r===void 0?n:r}catch{return n}}function ule(t,e){const n=ale(e);let r=n;for(const[o,i]of t.entries()){const s=o>=t.length-1;let a=r[i];if(s){if(Tn(r)){const l=Number.parseInt(i.toString(),10);Io(l)&&r.splice(l,1)}else Reflect.deleteProperty(r,i);return n}if(tle(a))return n;a=Tn(a)?[...a]:CV({},a),r[i]=a,r=a}return n}function dle(t){return e=>cle(e,t)}function fle(t,e,n=!1){const r=[],o=new Set,i=Gt(e)?e:dle(e),s=n?[...t].reverse():t;for(const a of s){const l=i(a);o.has(l)||(o.add(l),r.push(a))}return n?r.reverse():r}function NV(t,e){const n=Tn(t)?t[0]:t;return Io(e)?n<=e?Array.from({length:e+1-n},(r,o)=>o+n):Array.from({length:n+1-e},(r,o)=>-1*o+n):Array.from({length:Math.abs(n)},(r,o)=>(n<0?-1:1)*o)}function _D(t,...e){const n=e.filter(Io);return t>=Math.min(...n)&&t<=Math.max(...n)}function DV(t){return Gt(t)?t():t}function lx(...t){return Rm(R0(...t).split(" ")).join(" ")}var AV="https://remirror.io/docs/errors",ple={[te.UNKNOWN]:"An error occurred but we're not quite sure why. \u{1F9D0}",[te.INVALID_COMMAND_ARGUMENTS]:"The arguments passed to the command method were invalid.",[te.CUSTOM]:"This is a custom error, possibly thrown by an external library.",[te.CORE_HELPERS]:"An error occurred in a function called from the `@remirror/core-helpers` library.",[te.MUTATION]:"Mutation of immutable value detected.",[te.INTERNAL]:"This is an error which should not occur and is internal to the remirror codebase.",[te.MISSING_REQUIRED_EXTENSION]:"Your editor is missing a required extension.",[te.MANAGER_PHASE_ERROR]:"This occurs when accessing a method or property before it is available.",[te.INVALID_GET_EXTENSION]:"The user requested an invalid extension from the getExtensions method. Please check the `createExtensions` return method is returning an extension with the defined constructor.",[te.INVALID_MANAGER_ARGUMENTS]:"Invalid value(s) passed into `Manager` constructor. Only `Presets` and `Extensions` are supported.",[te.SCHEMA]:"There is a problem with the schema or you are trying to access a node / mark that doesn't exists.",[te.HELPERS_CALLED_IN_OUTER_SCOPE]:"The `helpers` method which is passed into the ``create*` method should only be called within returned method since it relies on an active view (not present in the outer scope).",[te.INVALID_MANAGER_EXTENSION]:"You requested an invalid extension from the manager.",[te.DUPLICATE_COMMAND_NAMES]:"Command method names must be unique within the editor.",[te.DUPLICATE_HELPER_NAMES]:"Helper method names must be unique within the editor.",[te.NON_CHAINABLE_COMMAND]:"Attempted to chain a non chainable command.",[te.INVALID_EXTENSION]:"The provided extension is invalid.",[te.INVALID_CONTENT]:"The content provided to the editor is not supported.",[te.INVALID_NAME]:"An invalid name was used for the extension.",[te.EXTENSION]:"An error occurred within an extension. More details should be made available.",[te.EXTENSION_SPEC]:"The spec was defined without calling the `defaults`, `parse` or `dom` methods.",[te.EXTENSION_EXTRA_ATTRIBUTES]:"Extra attributes must either be a string or an object.",[te.INVALID_SET_EXTENSION_OPTIONS]:"A call to `extension.setOptions` was made with invalid keys.",[te.REACT_PROVIDER_CONTEXT]:"`useRemirrorContext` was called outside of the `remirror` context. It can only be used within an active remirror context created by the `<Remirror />`.",[te.REACT_GET_ROOT_PROPS]:"`getRootProps` has been attached to the DOM more than once. It should only be attached to the dom once per editor.",[te.REACT_EDITOR_VIEW]:"A problem occurred adding the editor view to the dom.",[te.REACT_CONTROLLED]:"There is a problem with your controlled editor setup.",[te.REACT_NODE_VIEW]:"Something went wrong with your custom ReactNodeView Component.",[te.REACT_GET_CONTEXT]:"You attempted to call `getContext` provided by the `useRemirror` prop during the first render of the editor. This is not possible and should only be after the editor first mounts.",[te.REACT_COMPONENTS]:"An error occurred within a remirror component.",[te.REACT_HOOKS]:"An error occurred within a remirror hook.",[te.I18N_CONTEXT]:"You called `useI18n()` outside of an `I18nProvider` context."};function hle(t){return Ye(t)&&Yi(rw(te),t)}function mle(t,e){const n=ple[t],r=n?"".concat(n,`

`):"",o=e?"".concat(e,`

`):"";return"".concat(r).concat(o,"For more information visit ").concat(AV,"#").concat(t.toLowerCase())}var gle=class IV extends ox.exports.BaseError{constructor({code:e,message:n,disableLogging:r=!1}={}){const o=hle(e)?e:te.CUSTOM;super(mle(o,n)),lE(this,"errorCode"),lE(this,"url"),this.errorCode=o,this.url="".concat(AV,"#").concat(o.toLowerCase()),r||console.error(this.message)}static create(e={}){return new IV(e)}};function Ke(t,e){if(!t)throw gle.create(e)}function vle(t){var e;if(typeof t!="object"||t===null)return t;const n=Symbol.toStringTag in t&&t[Symbol.toStringTag]==="Module"&&(e=t.default)!=null?e:t;return n&&typeof t=="object"&&"__esModule"in n&&n.__esModule&&n.default!==void 0?n.default:n}function Ql(t,e={}){return t}function jn(t){this.content=t}jn.prototype={constructor:jn,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,o=r.find(t),i=r.content.slice();return o==-1?i.push(n||t,e):(i[o+1]=e,n&&(i[o]=n)),new jn(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new jn(n)},addToStart:function(t,e){return new jn([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new jn(n)},addBefore:function(t,e,n){var r=this.remove(e),o=r.content.slice(),i=r.find(t);return o.splice(i==-1?o.length:i,0,e,n),new jn(o)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=jn.from(t),t.size?new jn(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=jn.from(t),t.size?new jn(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=jn.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};jn.from=function(t){if(t instanceof jn)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new jn(e)};function LV(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let o=t.child(r),i=e.child(r);if(o==i){n+=o.nodeSize;continue}if(!o.sameMarkup(i))return n;if(o.isText&&o.text!=i.text){for(let s=0;o.text[s]==i.text[s];s++)n++;return n}if(o.content.size||i.content.size){let s=LV(o.content,i.content,n+1);if(s!=null)return s}n+=o.nodeSize}}function $V(t,e,n,r){for(let o=t.childCount,i=e.childCount;;){if(o==0||i==0)return o==i?null:{a:n,b:r};let s=t.child(--o),a=e.child(--i),l=s.nodeSize;if(s==a){n-=l,r-=l;continue}if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){let u=0,d=Math.min(s.text.length,a.text.length);for(;u<d&&s.text[s.text.length-u-1]==a.text[a.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){let u=$V(s.content,a.content,n-1,r-1);if(u)return u}n-=l,r-=l}}class V{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,o=0,i){for(let s=0,a=0;a<n;s++){let l=this.content[s],u=a+l.nodeSize;if(u>e&&r(l,o+a,i||null,s)!==!1&&l.content.size){let d=a+1;l.nodesBetween(Math.max(0,e-d),Math.min(l.content.size,n-d),r,o+d)}a=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,o){let i="",s=!0;return this.nodesBetween(e,n,(a,l)=>{let u=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?o?typeof o=="function"?o(a):o:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&u||a.isTextblock)&&r&&(s?s=!1:i+=r),i+=u},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,o=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(o[o.length-1]=n.withText(n.text+r.text),i=1);i<e.content.length;i++)o.push(e.content[i]);return new V(o,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],o=0;if(n>e)for(let i=0,s=0;s<n;i++){let a=this.content[i],l=s+a.nodeSize;l>e&&((s<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-s),Math.min(a.text.length,n-s)):a=a.cut(Math.max(0,e-s-1),Math.min(a.content.size,n-s-1))),r.push(a),o+=a.nodeSize),s=l}return new V(r,o)}cutByIndex(e,n){return e==n?V.empty:e==0&&n==this.content.length?this:new V(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let o=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return o[e]=n,new V(o,i)}addToStart(e){return new V([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new V(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let o=this.content[n];e(o,r,n),r+=o.nodeSize}}findDiffStart(e,n=0){return LV(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return $V(this,e,n,r)}findIndex(e,n=-1){if(e==0)return ey(0,e);if(e==this.size)return ey(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,o=0;;r++){let i=this.child(r),s=o+i.nodeSize;if(s>=e)return s==e||n>0?ey(r+1,s):ey(r,o);o=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return V.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new V(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return V.empty;let n,r=0;for(let o=0;o<e.length;o++){let i=e[o];r+=i.nodeSize,o&&i.isText&&e[o-1].sameMarkup(i)?(n||(n=e.slice(0,o)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new V(n||e,r)}static from(e){if(!e)return V.empty;if(e instanceof V)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new V([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}V.empty=new V([],0);const Nb={index:0,offset:0};function ey(t,e){return Nb.index=t,Nb.offset=e,Nb}function cx(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!cx(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!cx(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}class Et{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let o=0;o<e.length;o++){let i=e[o];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,o));else{if(i.type.excludes(this.type))return e;!r&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,o)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&cx(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let o=r.create(n.attrs);return r.checkAttrs(o.attrs),o}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Et.none;if(e instanceof Et)return[e];let n=e.slice();return n.sort((r,o)=>r.type.rank-o.type.rank),n}}Et.none=[];class ux extends Error{}class ue{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=FV(this.content,e+this.openStart,n);return r&&new ue(r,this.openStart,this.openEnd)}removeBetween(e,n){return new ue(zV(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return ue.empty;let r=n.openStart||0,o=n.openEnd||0;if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ue(V.fromJSON(e,n.content),r,o)}static maxOpen(e,n=!0){let r=0,o=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)o++;return new ue(e,r,o)}}ue.empty=new ue(V.empty,0,0);function zV(t,e,n){let{index:r,offset:o}=t.findIndex(e),i=t.maybeChild(r),{index:s,offset:a}=t.findIndex(n);if(o==e||i.isText){if(a!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,i.copy(zV(i.content,e-o-1,n-o-1)))}function FV(t,e,n,r){let{index:o,offset:i}=t.findIndex(e),s=t.maybeChild(o);if(i==e||s.isText)return r&&!r.canReplace(o,o,n)?null:t.cut(0,e).append(n).append(t.cut(e));let a=FV(s.content,e-i-1,n);return a&&t.replaceChild(o,s.copy(a))}function yle(t,e,n){if(n.openStart>t.depth)throw new ux("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new ux("Inconsistent open depths");return BV(t,e,n,0)}function BV(t,e,n,r){let o=t.index(r),i=t.node(r);if(o==e.index(r)&&r<t.depth-n.openStart){let s=BV(t,e,n,r+1);return i.copy(i.content.replaceChild(o,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let s=t.parent,a=s.content;return yc(s,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:s,end:a}=xle(n,t);return yc(i,VV(t,s,a,e,r))}else return yc(i,dx(t,e,r))}function jV(t,e){if(!e.type.compatibleContent(t.type))throw new ux("Cannot join "+e.type.name+" onto "+t.type.name)}function cE(t,e,n){let r=t.node(n);return jV(r,e.node(n)),r}function vc(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Th(t,e,n,r){let o=(e||t).node(n),i=0,s=e?e.index(n):o.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(vc(t.nodeAfter,r),i++));for(let a=i;a<s;a++)vc(o.child(a),r);e&&e.depth==n&&e.textOffset&&vc(e.nodeBefore,r)}function yc(t,e){return t.type.checkContent(e),t.copy(e)}function VV(t,e,n,r,o){let i=t.depth>o&&cE(t,e,o+1),s=r.depth>o&&cE(n,r,o+1),a=[];return Th(null,t,o,a),i&&s&&e.index(o)==n.index(o)?(jV(i,s),vc(yc(i,VV(t,e,n,r,o+1)),a)):(i&&vc(yc(i,dx(t,e,o+1)),a),Th(e,n,o,a),s&&vc(yc(s,dx(n,r,o+1)),a)),Th(r,null,o,a),new V(a)}function dx(t,e,n){let r=[];if(Th(null,t,n,r),t.depth>n){let o=cE(t,e,n+1);vc(yc(o,dx(t,e,n+1)),r)}return Th(e,null,n,r),new V(r)}function xle(t,e){let n=e.depth-t.openStart,o=e.node(n).copy(t.content);for(let i=n-1;i>=0;i--)o=e.node(i).copy(V.from(o));return{start:o.resolveNoCache(t.openStart+n),end:o.resolveNoCache(o.content.size-t.openEnd-n)}}class Xd{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],o=e.child(n);return r?e.child(n).cut(r):o}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],o=n==0?0:this.path[n*3-1]+1;for(let i=0;i<e;i++)o+=r.child(i).nodeSize;return o}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Et.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),o=e.maybeChild(n);if(!r){let a=r;r=o,o=a}let i=r.marks;for(var s=0;s<i.length;s++)i[s].type.spec.inclusive===!1&&(!o||!i[s].isInSet(o.marks))&&(i=i[s--].removeFromSet(i));return i}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,o=e.parent.maybeChild(e.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!o||!r[i].isInSet(o.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Lc(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],o=0,i=n;for(let s=e;;){let{index:a,offset:l}=s.content.findIndex(i),u=i-l;if(r.push(s,a,o+l),!u||(s=s.child(a),s.isText))break;i=u-1,o+=l+1}return new Xd(n,r,i)}static resolveCached(e,n){let r=wD.get(e);if(r)for(let i=0;i<r.elts.length;i++){let s=r.elts[i];if(s.pos==n)return s}else wD.set(e,r=new _le);let o=r.elts[r.i]=Xd.resolve(e,n);return r.i=(r.i+1)%wle,o}}class _le{constructor(){this.elts=[],this.i=0}}const wle=12,wD=new WeakMap;class Lc{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const ble=Object.create(null);class mi{constructor(e,n,r,o=Et.none){this.type=e,this.attrs=n,this.marks=o,this.content=r||V.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,o=0){this.content.nodesBetween(e,n,r,o,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,o){return this.content.textBetween(e,n,r,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&cx(this.attrs,n||e.defaultAttrs||ble)&&Et.sameSet(this.marks,r||Et.none)}copy(e=null){return e==this.content?this:new mi(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new mi(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return ue.empty;let o=this.resolve(e),i=this.resolve(n),s=r?0:o.sharedDepth(n),a=o.start(s),u=o.node(s).content.cut(o.pos-a,i.pos-a);return new ue(u,o.depth-s,i.depth-s)}replace(e,n,r){return yle(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:o}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(o==e||n.isText)return n;e-=o+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}}resolve(e){return Xd.resolveCached(this,e)}resolveNoCache(e){return Xd.resolve(this,e)}rangeHasMark(e,n,r){let o=!1;return n>e&&this.nodesBetween(e,n,i=>(r.isInSet(i.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),UV(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=V.empty,o=0,i=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,o,i),a=s&&s.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=o;l<i;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,o){if(o&&!this.type.allowsMarks(o))return!1;let i=this.contentMatchAt(e).matchType(r),s=i&&i.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Et.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Et.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let o=V.fromJSON(e,n.content),i=e.nodeType(n.type).create(n.attrs,o,r);return i.type.checkAttrs(i.attrs),i}}mi.prototype.text=void 0;class fx extends mi{constructor(e,n,r,o){if(super(e,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):UV(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new fx(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new fx(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function UV(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class $c{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new Sle(e,n);if(r.next==null)return $c.empty;let o=HV(r);r.next&&r.err("Unexpected trailing text");let i=Tle(Rle(o));return Mle(i,r),i}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let o=this;for(let i=n;o&&i<r;i++)o=o.matchType(e.child(i).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let o=[this];function i(s,a){let l=s.matchFragment(e,r);if(l&&(!n||l.validEnd))return V.from(a.map(u=>u.createAndFill()));for(let u=0;u<s.next.length;u++){let{type:d,next:c}=s.next[u];if(!(d.isText||d.hasRequiredAttrs())&&o.indexOf(c)==-1){o.push(c);let f=i(c,a.concat(d));if(f)return f}}return null}return i(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let o=r.shift(),i=o.match;if(i.matchType(e)){let s=[];for(let a=o;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<i.next.length;s++){let{type:a,next:l}=i.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!o.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:o}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let o=0;o<r.next.length;o++)e.indexOf(r.next[o].next)==-1&&n(r.next[o].next)}return n(this),e.map((r,o)=>{let i=o+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)i+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return i}).join(`
`)}}$c.empty=new $c(!0);class Sle{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function HV(t){let e=[];do e.push(Ele(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Ele(t){let e=[];do e.push(kle(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function kle(t){let e=Ple(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=Cle(t,e);else break;return e}function bD(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function Cle(t,e){let n=bD(t),r=n;return t.eat(",")&&(t.next!="}"?r=bD(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function Ole(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let o=[];for(let i in n){let s=n[i];s.groups.indexOf(e)>-1&&o.push(s)}return o.length==0&&t.err("No node type or group '"+e+"' found"),o}function Ple(t){if(t.eat("(")){let e=HV(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=Ole(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Rle(t){let e=[[]];return o(i(t,0),n()),e;function n(){return e.push([])-1}function r(s,a,l){let u={term:l,to:a};return e[s].push(u),u}function o(s,a){s.forEach(l=>l.to=a)}function i(s,a){if(s.type=="choice")return s.exprs.reduce((l,u)=>l.concat(i(u,a)),[]);if(s.type=="seq")for(let l=0;;l++){let u=i(s.exprs[l],a);if(l==s.exprs.length-1)return u;o(u,a=n())}else if(s.type=="star"){let l=n();return r(a,l),o(i(s.expr,l),l),[r(l)]}else if(s.type=="plus"){let l=n();return o(i(s.expr,a),l),o(i(s.expr,l),l),[r(l)]}else{if(s.type=="opt")return[r(a)].concat(i(s.expr,a));if(s.type=="range"){let l=a;for(let u=0;u<s.min;u++){let d=n();o(i(s.expr,l),d),l=d}if(s.max==-1)o(i(s.expr,l),l);else for(let u=s.min;u<s.max;u++){let d=n();r(l,d),o(i(s.expr,l),d),l=d}return[r(l)]}else{if(s.type=="name")return[r(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function WV(t,e){return e-t}function SD(t,e){let n=[];return r(e),n.sort(WV);function r(o){let i=t[o];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(o);for(let s=0;s<i.length;s++){let{term:a,to:l}=i[s];!a&&n.indexOf(l)==-1&&r(l)}}}function Tle(t){let e=Object.create(null);return n(SD(t,0));function n(r){let o=[];r.forEach(s=>{t[s].forEach(({term:a,to:l})=>{if(!a)return;let u;for(let d=0;d<o.length;d++)o[d][0]==a&&(u=o[d][1]);SD(t,l).forEach(d=>{u||o.push([a,u=[]]),u.indexOf(d)==-1&&u.push(d)})})});let i=e[r.join(",")]=new $c(r.indexOf(t.length-1)>-1);for(let s=0;s<o.length;s++){let a=o[s][1].sort(WV);i.next.push({type:o[s][0],next:e[a.join(",")]||n(a)})}return i}}function Mle(t,e){for(let n=0,r=[t];n<r.length;n++){let o=r[n],i=!o.validEnd,s=[];for(let a=0;a<o.next.length;a++){let{type:l,next:u}=o.next[a];s.push(l.name),i&&!(l.isText||l.hasRequiredAttrs())&&(i=!1),r.indexOf(u)==-1&&r.push(u)}i&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function KV(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function qV(t,e){let n=Object.create(null);for(let r in t){let o=e&&e[r];if(o===void 0){let i=t[r];if(i.hasDefault)o=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=o}return n}function GV(t,e,n,r){for(let o in e)if(!(o in t))throw new RangeError(`Unsupported attribute ${o} for ${n} of type ${o}`);for(let o in t){let i=t[o];i.validate&&i.validate(e[o])}}function ZV(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new Dle(t,r,e[r]);return n}class Tm{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=ZV(e,r.attrs),this.defaultAttrs=KV(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==$c.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:qV(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new mi(this,this.computeAttrs(e),V.from(n),Et.setFrom(r))}createChecked(e=null,n,r){return n=V.from(n),this.checkContent(n),new mi(this,this.computeAttrs(e),n,Et.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=V.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let o=this.contentMatch.matchFragment(n),i=o&&o.fillBefore(V.empty,!0);return i?new mi(this,e,n.append(i),Et.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){GV(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Et.none:e}static compile(e,n){let r=Object.create(null);e.forEach((i,s)=>r[i]=new Tm(i,n,s));let o=n.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}}function Nle(t,e,n){let r=n.split("|");return o=>{let i=o===null?"null":typeof o;if(r.indexOf(i)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${i}`)}}class Dle{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Nle(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Ng{constructor(e,n,r,o){this.name=e,this.rank=n,this.schema=r,this.spec=o,this.attrs=ZV(e,o.attrs),this.excluded=null;let i=KV(this.attrs);this.instance=i?new Et(this,i):null}create(e=null){return!e&&this.instance?this.instance:new Et(this,qV(this.attrs,e))}static compile(e,n){let r=Object.create(null),o=0;return e.forEach((i,s)=>r[i]=new Ng(i,o++,n,s)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){GV(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class Ale{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let o in e)n[o]=e[o];n.nodes=jn.from(e.nodes),n.marks=jn.from(e.marks||{}),this.nodes=Tm.compile(this.spec.nodes,this),this.marks=Ng.compile(this.spec.marks,this);let r=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let i=this.nodes[o],s=i.spec.content||"",a=i.spec.marks;if(i.contentMatch=r[s]||(r[s]=$c.parse(s,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=a=="_"?null:a?ED(this,a.split(" ")):a==""||!i.inlineContent?[]:null}for(let o in this.marks){let i=this.marks[o],s=i.spec.excludes;i.excluded=s==null?[i]:s==""?[]:ED(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,o){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Tm){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,o)}text(e,n){let r=this.nodes.text;return new fx(r,r.defaultAttrs,e,Et.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return mi.fromJSON(this,e)}markFromJSON(e){return Et.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function ED(t,e){let n=[];for(let r=0;r<e.length;r++){let o=e[r],i=t.marks[o],s=i;if(i)n.push(i);else for(let a in t.marks){let l=t.marks[a];(o=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(o)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function Ile(t){return t.tag!=null}function Lle(t){return t.style!=null}class Jd{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(o=>{if(Ile(o))this.tags.push(o);else if(Lle(o)){let i=/[^=]*/.exec(o.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(o)}}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let i=e.nodes[o.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new CD(this,n,!1);return r.addAll(e,Et.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new CD(this,n,!0);return r.addAll(e,Et.none,n.from,n.to),ue.maxOpen(r.finish())}matchTag(e,n,r){for(let o=r?this.tags.indexOf(r)+1:0;o<this.tags.length;o++){let i=this.tags[o];if(Fle(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let s=i.getAttrs(e);if(s===!1)continue;i.attrs=s||void 0}return i}}}matchStyle(e,n,r,o){for(let i=o?this.styles.indexOf(o)+1:0;i<this.styles.length;i++){let s=this.styles[i],a=s.style;if(!(a.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(s.getAttrs){let l=s.getAttrs(n);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(e){let n=[];function r(o){let i=o.priority==null?50:o.priority,s=0;for(;s<n.length;s++){let a=n[s];if((a.priority==null?50:a.priority)<i)break}n.splice(s,0,o)}for(let o in e.marks){let i=e.marks[o].spec.parseDOM;i&&i.forEach(s=>{r(s=OD(s)),s.mark||s.ignore||s.clearMark||(s.mark=o)})}for(let o in e.nodes){let i=e.nodes[o].spec.parseDOM;i&&i.forEach(s=>{r(s=OD(s)),s.node||s.ignore||s.mark||(s.node=o)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Jd(e,Jd.schemaRules(e)))}}const QV={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},$le={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},YV={ol:!0,ul:!0},px=1,hx=2,Mh=4;function kD(t,e,n){return e!=null?(e?px:0)|(e==="full"?hx:0):t&&t.whitespace=="pre"?px|hx:n&~Mh}class ty{constructor(e,n,r,o,i,s){this.type=e,this.attrs=n,this.marks=r,this.solid=o,this.options=s,this.content=[],this.activeMarks=Et.none,this.match=i||(s&Mh?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(V.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,o;return(o=r.findWrapping(e.type))?(this.match=r,o):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&px)){let r=this.content[this.content.length-1],o;if(r&&r.isText&&(o=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-o[0].length))}}let n=V.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(V.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!QV.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class CD{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let o=n.topNode,i,s=kD(null,n.preserveWhitespace,0)|(r?Mh:0);o?i=new ty(o.type,o.attrs,Et.none,!0,n.topMatch||o.type.contentMatch,s):r?i=new ty(null,null,Et.none,!0,null,s):i=new ty(e.schema.topNodeType,null,Et.none,!0,null,s),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,o=this.top;if(o.options&hx||o.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(o.options&px)o.options&hx?r=r.replace(/\r\n?/g,`
`):r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let i=o.content[o.content.length-1],s=e.previousSibling;(!i||s&&s.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let o=e.nodeName.toLowerCase(),i;YV.hasOwnProperty(o)&&this.parser.normalizeLists&&zle(e);let s=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,r));if(s?s.ignore:$le.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,n);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(e=s.skip);let a,l=this.top,u=this.needsBlock;if(QV.hasOwnProperty(o))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),a=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);return}let d=s&&s.skip?n:this.readStyles(e,n);d&&this.addAll(e,d),a&&this.sync(l),this.needsBlock=u}else{let a=this.readStyles(e,n);a&&this.addElementByRule(e,s,a,s.consuming===!1?i:void 0)}}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let o=0;o<this.parser.matchedStyles.length;o++){let i=this.parser.matchedStyles[o],s=r.getPropertyValue(i);if(s)for(let a=void 0;;){let l=this.parser.matchStyle(i,s,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(u=>!l.clearMark(u)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,r,o){let i,s;if(n.node)if(s=this.parser.schema.nodes[n.node],s.isLeaf)this.insertNode(s.create(n.attrs),r)||this.leafFallback(e,r);else{let l=this.enter(s,n.attrs||null,r,n.preserveWhitespace);l&&(i=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(s&&s.isLeaf)this.findInside(e);else if(o)this.addElement(e,r,o);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r)}i&&this.sync(a)&&this.open--}addAll(e,n,r,o){let i=r||0;for(let s=r?e.childNodes[r]:e.firstChild,a=o==null?null:e.childNodes[o];s!=a;s=s.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(s,n);this.findAtPoint(e,i)}findPlace(e,n){let r,o;for(let i=this.open;i>=0;i--){let s=this.nodes[i],a=s.findWrapping(e);if(a&&(!r||r.length>a.length)&&(r=a,o=s,!a.length)||s.solid)break}if(!r)return null;this.sync(o);for(let i=0;i<r.length;i++)n=this.enterInner(r[i],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(n=this.enterInner(o,null,n))}let r=this.findPlace(e,n);if(r){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let i=Et.none;for(let s of r.concat(e.marks))(o.type?o.type.allowsMarkType(s.type):PD(s.type,e.type))&&(i=s.addToSet(i));return o.content.push(e.mark(i)),!0}return!1}enter(e,n,r,o){let i=this.findPlace(e.create(n),r);return i&&(i=this.enterInner(e,n,r,!0,o)),i}enterInner(e,n,r,o=!1,i){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let a=kD(e,i,s.options);s.options&Mh&&s.content.length==0&&(a|=Mh);let l=Et.none;return r=r.filter(u=>(s.type?s.type.allowsMarkType(u.type):PD(u.type,e))?(l=u.addToSet(l),!1):!0),this.nodes.push(new ty(e,n,l,o,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let o=r.length-1;o>=0;o--)e+=r[o].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&e.nodeType==1&&e.contains(this.find[o].node)&&n.compareDocumentPosition(this.find[o].node)&(r?2:4)&&(this.find[o].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,o=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1),s=(a,l)=>{for(;a>=0;a--){let u=n[a];if(u==""){if(a==n.length-1||a==0)continue;for(;l>=i;l--)if(s(a-1,l))return!0;return!1}else{let d=l>0||l==0&&o?this.nodes[l].type:r&&l>=i?r.node(l-i).type:null;if(!d||d.name!=u&&d.groups.indexOf(u)==-1)return!1;l--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function zle(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&YV.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function Fle(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function OD(t){let e={};for(let n in t)e[n]=t[n];return e}function PD(t,e){let n=e.schema.nodes;for(let r in n){let o=n[r];if(!o.allowsMarkType(t))continue;let i=[],s=a=>{i.push(a);for(let l=0;l<a.edgeCount;l++){let{type:u,next:d}=a.edge(l);if(u==e||i.indexOf(d)<0&&s(d))return!0}};if(s(o.contentMatch))return!0}}class Gs{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Db(n).createDocumentFragment());let o=r,i=[];return e.forEach(s=>{if(i.length||s.marks.length){let a=0,l=0;for(;a<i.length&&l<s.marks.length;){let u=s.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(i[a][0])||u.type.spec.spanning===!1)break;a++,l++}for(;a<i.length;)o=i.pop()[1];for(;l<s.marks.length;){let u=s.marks[l++],d=this.serializeMark(u,s.isInline,n);d&&(i.push([u,o]),o.appendChild(d.dom),o=d.contentDOM||d.dom)}}o.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:o}=My(Db(n),this.nodes[e.type.name](e),null,e.attrs);if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,o)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let o=e.marks.length-1;o>=0;o--){let i=this.serializeMark(e.marks[o],e.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(e,n,r={}){let o=this.marks[e.type.name];return o&&My(Db(r),o(e,n),null,e.attrs)}static renderSpec(e,n,r=null,o){return My(e,n,r,o)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Gs(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=RD(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return RD(e.marks)}}function RD(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Db(t){return t.document||window.document}const TD=new WeakMap;function Ble(t){let e=TD.get(t);return e===void 0&&TD.set(t,e=jle(t)),e}function jle(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let o=0;o<r.length;o++)n(r[o]);else for(let o in r)n(r[o])}return n(t),e}function My(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let o=e[0],i;if(typeof o!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=Ble(r))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=o.indexOf(" ");s>0&&(n=o.slice(0,s),o=o.slice(s+1));let a,l=n?t.createElementNS(n,o):t.createElement(o),u=e[1],d=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){d=2;for(let c in u)if(u[c]!=null){let f=c.indexOf(" ");f>0?l.setAttributeNS(c.slice(0,f),c.slice(f+1),u[c]):l.setAttribute(c,u[c])}}for(let c=d;c<e.length;c++){let f=e[c];if(f===0){if(c<e.length-1||c>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:p,contentDOM:m}=My(t,f,n,r);if(l.appendChild(p),m){if(a)throw new RangeError("Multiple content holes");a=m}}}return{dom:l,contentDOM:a}}const XV=65535,JV=Math.pow(2,16);function Vle(t,e){return t+e*JV}function MD(t){return t&XV}function Ule(t){return(t-(t&XV))/JV}const eU=1,tU=2,Ny=4,nU=8;class uE{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&nU)>0}get deletedBefore(){return(this.delInfo&(eU|Ny))>0}get deletedAfter(){return(this.delInfo&(tU|Ny))>0}get deletedAcross(){return(this.delInfo&Ny)>0}}class io{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&io.empty)return io.empty}recover(e){let n=0,r=MD(e);if(!this.inverted)for(let o=0;o<r;o++)n+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+n+Ule(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let o=0,i=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?o:0);if(l>e)break;let u=this.ranges[a+i],d=this.ranges[a+s],c=l+u;if(e<=c){let f=u?e==l?-1:e==c?1:n:n,p=l+o+(f<0?0:d);if(r)return p;let m=e==(n<0?l:c)?null:Vle(a/3,e-l),g=e==l?tU:e==c?eU:Ny;return(n<0?e!=l:e!=c)&&(g|=nU),new uE(p,g,m)}o+=d-u}return r?e+o:new uE(e+o,0,null)}touches(e,n){let r=0,o=MD(n),i=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let u=this.ranges[a+i],d=l+u;if(e<=d&&a==o*3)return!0;r+=this.ranges[a+s]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let o=0,i=0;o<this.ranges.length;o+=3){let s=this.ranges[o],a=s-(this.inverted?i:0),l=s+(this.inverted?0:i),u=this.ranges[o+n],d=this.ranges[o+r];e(a,a+u,l,l+d),i+=d-u}}invert(){return new io(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?io.empty:new io(e<0?[0,-e,0]:[0,0,e])}}io.empty=new io([]);class fd{constructor(e=[],n,r=0,o=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=o}slice(e=0,n=this.maps.length){return new fd(this.maps,this.mirror,e,n)}copy(){return new fd(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let o=e.getMirror(n);this.appendMap(e.maps[n],o!=null&&o<n?r+o:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let o=e.getMirror(n);this.appendMap(e.maps[n].invert(),o!=null&&o>n?r-o-1:void 0)}}invert(){let e=new fd;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let o=0;for(let i=this.from;i<this.to;i++){let s=this.maps[i],a=s.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(i);if(l!=null&&l>i&&l<this.to){i=l,e=this.maps[l].recover(a.recover);continue}}o|=a.delInfo,e=a.pos}return r?e:new uE(e,o,null)}}const Ab=Object.create(null);class sr{getMap(){return io.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Ab[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Ab)throw new RangeError("Duplicate use of step JSON ID "+e);return Ab[e]=n,n.prototype.jsonID=e,n}}class _n{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new _n(e,null)}static fail(e){return new _n(null,e)}static fromReplace(e,n,r,o){try{return _n.ok(e.replace(n,r,o))}catch(i){if(i instanceof ux)return _n.fail(i.message);throw i}}}function tP(t,e,n){let r=[];for(let o=0;o<t.childCount;o++){let i=t.child(o);i.content.size&&(i=i.copy(tP(i.content,e,i))),i.isInline&&(i=e(i,n,o)),r.push(i)}return V.fromArray(r)}class Aa extends sr{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new ue(tP(n.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),o),n.openStart,n.openEnd);return _n.fromReplace(e,this.from,this.to,i)}invert(){return new Ui(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Aa(n.pos,r.pos,this.mark)}merge(e){return e instanceof Aa&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Aa(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Aa(n.from,n.to,e.markFromJSON(n.mark))}}sr.jsonID("addMark",Aa);class Ui extends sr{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new ue(tP(n.content,o=>o.mark(this.mark.removeFromSet(o.marks)),e),n.openStart,n.openEnd);return _n.fromReplace(e,this.from,this.to,r)}invert(){return new Aa(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ui(n.pos,r.pos,this.mark)}merge(e){return e instanceof Ui&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ui(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ui(n.from,n.to,e.markFromJSON(n.mark))}}sr.jsonID("removeMark",Ui);class Ia extends sr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return _n.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return _n.fromReplace(e,this.pos,this.pos+1,new ue(V.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let o=0;o<n.marks.length;o++)if(!n.marks[o].isInSet(r))return new Ia(this.pos,n.marks[o]);return new Ia(this.pos,this.mark)}}return new ef(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ia(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ia(n.pos,e.markFromJSON(n.mark))}}sr.jsonID("addNodeMark",Ia);class ef extends sr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return _n.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return _n.fromReplace(e,this.pos,this.pos+1,new ue(V.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Ia(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ef(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ef(n.pos,e.markFromJSON(n.mark))}}sr.jsonID("removeNodeMark",ef);class tr extends sr{constructor(e,n,r,o=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=o}apply(e){return this.structure&&dE(e,this.from,this.to)?_n.fail("Structure replace would overwrite content"):_n.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new io([this.from,this.to-this.from,this.slice.size])}invert(e){return new tr(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new tr(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof tr)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?ue.empty:new ue(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new tr(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?ue.empty:new ue(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new tr(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new tr(n.from,n.to,ue.fromJSON(e,n.slice),!!n.structure)}}sr.jsonID("replace",tr);class Rn extends sr{constructor(e,n,r,o,i,s,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=s,this.structure=a}apply(e){if(this.structure&&(dE(e,this.from,this.gapFrom)||dE(e,this.gapTo,this.to)))return _n.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return _n.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?_n.fromReplace(e,this.from,this.to,r):_n.fail("Content does not fit in gap")}getMap(){return new io([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Rn(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||o<n.pos||i>r.pos?null:new Rn(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Rn(n.from,n.to,n.gapFrom,n.gapTo,ue.fromJSON(e,n.slice),n.insert,!!n.structure)}}sr.jsonID("replaceAround",Rn);function dE(t,e,n){let r=t.resolve(e),o=n-e,i=r.depth;for(;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0){let s=r.node(i).maybeChild(r.indexAfter(i));for(;o>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,o--}}return!1}function Hle(t,e,n,r){let o=[],i=[],s,a;t.doc.nodesBetween(e,n,(l,u,d)=>{if(!l.isInline)return;let c=l.marks;if(!r.isInSet(c)&&d.type.allowsMarkType(r.type)){let f=Math.max(u,e),p=Math.min(u+l.nodeSize,n),m=r.addToSet(c);for(let g=0;g<c.length;g++)c[g].isInSet(m)||(s&&s.to==f&&s.mark.eq(c[g])?s.to=p:o.push(s=new Ui(f,p,c[g])));a&&a.to==f?a.to=p:i.push(a=new Aa(f,p,r))}}),o.forEach(l=>t.step(l)),i.forEach(l=>t.step(l))}function Wle(t,e,n,r){let o=[],i=0;t.doc.nodesBetween(e,n,(s,a)=>{if(!s.isInline)return;i++;let l=null;if(r instanceof Ng){let u=s.marks,d;for(;d=r.isInSet(u);)(l||(l=[])).push(d),u=d.removeFromSet(u)}else r?r.isInSet(s.marks)&&(l=[r]):l=s.marks;if(l&&l.length){let u=Math.min(a+s.nodeSize,n);for(let d=0;d<l.length;d++){let c=l[d],f;for(let p=0;p<o.length;p++){let m=o[p];m.step==i-1&&c.eq(o[p].style)&&(f=m)}f?(f.to=u,f.step=i):o.push({style:c,from:Math.max(a,e),to:u,step:i})}}}),o.forEach(s=>t.step(new Ui(s.from,s.to,s.style)))}function rU(t,e,n,r=n.contentMatch,o=!0){let i=t.doc.nodeAt(e),s=[],a=e+1;for(let l=0;l<i.childCount;l++){let u=i.child(l),d=a+u.nodeSize,c=r.matchType(u.type);if(!c)s.push(new tr(a,d,ue.empty));else{r=c;for(let f=0;f<u.marks.length;f++)n.allowsMarkType(u.marks[f].type)||t.step(new Ui(a,d,u.marks[f]));if(o&&u.isText&&n.whitespace!="pre"){let f,p=/\r?\n|\r/g,m;for(;f=p.exec(u.text);)m||(m=new ue(V.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),s.push(new tr(a+f.index,a+f.index+f[0].length,m))}}a=d}if(!r.validEnd){let l=r.fillBefore(V.empty,!0);t.replace(a,a,new ue(l,0,0))}for(let l=s.length-1;l>=0;l--)t.step(s[l])}function Kle(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function kf(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let o=t.$from.node(r),i=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&o.canReplace(i,s,n))return r;if(r==0||o.type.spec.isolating||!Kle(o,i,s))break}return null}function qle(t,e,n){let{$from:r,$to:o,depth:i}=e,s=r.before(i+1),a=o.after(i+1),l=s,u=a,d=V.empty,c=0;for(let m=i,g=!1;m>n;m--)g||r.index(m)>0?(g=!0,d=V.from(r.node(m).copy(d)),c++):l--;let f=V.empty,p=0;for(let m=i,g=!1;m>n;m--)g||o.after(m+1)<o.end(m)?(g=!0,f=V.from(o.node(m).copy(f)),p++):u++;t.step(new Rn(l,u,s,a,new ue(d.append(f),c,p),d.size-c,!0))}function nP(t,e,n=null,r=t){let o=Gle(t,e),i=o&&Zle(r,e);return i?o.map(ND).concat({type:e,attrs:n}).concat(i.map(ND)):null}function ND(t){return{type:t,attrs:null}}function Gle(t,e){let{parent:n,startIndex:r,endIndex:o}=t,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;let s=i.length?i[0]:e;return n.canReplaceWith(r,o,s)?i:null}function Zle(t,e){let{parent:n,startIndex:r,endIndex:o}=t,i=n.child(r),s=e.contentMatch.findWrapping(i.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let u=r;l&&u<o;u++)l=l.matchType(n.child(u).type);return!l||!l.validEnd?null:s}function Qle(t,e,n){let r=V.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let a=n[s].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=V.from(n[s].type.create(n[s].attrs,r))}let o=e.start,i=e.end;t.step(new Rn(o,i,o,i,new ue(r,0,0),n.length,!0))}function Yle(t,e,n,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,n,(s,a)=>{let l=typeof o=="function"?o(s):o;if(s.isTextblock&&!s.hasMarkup(r,l)&&ece(t.doc,t.mapping.slice(i).map(a),r)){let u=null;if(r.schema.linebreakReplacement){let p=r.whitespace=="pre",m=!!r.contentMatch.matchType(r.schema.linebreakReplacement);p&&!m?u=!1:!p&&m&&(u=!0)}u===!1&&Jle(t,s,a,i),rU(t,t.mapping.slice(i).map(a,1),r,void 0,u===null);let d=t.mapping.slice(i),c=d.map(a,1),f=d.map(a+s.nodeSize,1);return t.step(new Rn(c,f,c+1,f-1,new ue(V.from(r.create(l,null,s.marks)),0,0),1,!0)),u===!0&&Xle(t,s,a,i),!1}})}function Xle(t,e,n,r){e.forEach((o,i)=>{if(o.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(o.text);){let l=t.mapping.slice(r).map(n+1+i+s.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function Jle(t,e,n,r){e.forEach((o,i)=>{if(o.type==o.type.schema.linebreakReplacement){let s=t.mapping.slice(r).map(n+1+i);t.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function ece(t,e,n){let r=t.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}function tce(t,e,n,r,o){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let s=n.create(r,null,o||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,s);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Rn(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new ue(V.from(s),0,0),1,!0))}function pd(t,e,n=1,r){let o=t.resolve(e),i=o.depth-n,s=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let u=o.depth-1,d=n-2;u>i;u--,d--){let c=o.node(u),f=o.index(u);if(c.type.spec.isolating)return!1;let p=c.content.cutByIndex(f,c.childCount),m=r&&r[d+1];m&&(p=p.replaceChild(0,m.type.create(m.attrs)));let g=r&&r[d]||c;if(!c.canReplace(f+1,c.childCount)||!g.type.validContent(p))return!1}let a=o.indexAfter(i),l=r&&r[0];return o.node(i).canReplaceWith(a,a,l?l.type:o.node(i+1).type)}function nce(t,e,n=1,r){let o=t.doc.resolve(e),i=V.empty,s=V.empty;for(let a=o.depth,l=o.depth-n,u=n-1;a>l;a--,u--){i=V.from(o.node(a).copy(i));let d=r&&r[u];s=V.from(d?d.type.create(d.attrs,s):o.node(a).copy(s))}t.step(new tr(e,e,new ue(i.append(s),n,n),!0))}function Dg(t,e){let n=t.resolve(e),r=n.index();return rce(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function rce(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function oce(t,e,n){let r=new tr(e-n,e+n,ue.empty,!0);t.step(r)}function ice(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let o=r.depth-1;o>=0;o--){let i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let i=r.indexAfter(o);if(r.node(o).canReplaceWith(i,i,n))return r.after(o+1);if(i<r.node(o).childCount)return null}return null}function sce(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let o=n.content;for(let i=0;i<n.openStart;i++)o=o.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let s=r.depth;s>=0;s--){let a=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,l=r.index(s)+(a>0?1:0),u=r.node(s),d=!1;if(i==1)d=u.canReplace(l,l,o);else{let c=u.contentMatchAt(l).findWrapping(o.firstChild.type);d=c&&u.canReplaceWith(l,l,c[0])}if(d)return a==0?r.pos:a<0?r.before(s+1):r.after(s+1)}return null}function rP(t,e,n=e,r=ue.empty){if(e==n&&!r.size)return null;let o=t.resolve(e),i=t.resolve(n);return oU(o,i,r)?new tr(e,n,r):new ace(o,i,r).fit()}function oU(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class ace{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=V.empty;for(let o=0;o<=e.depth;o++){let i=e.node(o);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(o))})}for(let o=e.depth;o>0;o--)this.placed=V.from(e.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(e<0?this.$to:r.doc.resolve(e));if(!o)return null;let i=this.placed,s=r.depth,a=o.depth;for(;s&&a&&i.childCount==1;)i=i.firstChild.content,s--,a--;let l=new ue(i,s,a);return e>-1?new Rn(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new tr(r.pos,o.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,o=this.unplaced.openEnd;r<e;r++){let i=n.firstChild;if(n.childCount>1&&(o=0),i.type.spec.isolating&&o<=r){e=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let o,i=null;r?(i=Ib(this.unplaced.content,r-1).firstChild,o=i.content):o=this.unplaced.content;let s=o.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:u}=this.frontier[a],d,c=null;if(n==1&&(s?u.matchType(s.type)||(c=u.fillBefore(V.from(s),!1)):i&&l.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:a,parent:i,inject:c};if(n==2&&s&&(d=u.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:i,wrap:d};if(i&&u.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,o=Ib(e,n);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new ue(e,n+1,Math.max(r,o.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,o=Ib(e,n);if(o.childCount<=1&&n>0){let i=e.size-n<=n+o.size;this.unplaced=new ue(Cp(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new ue(Cp(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:o,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let g=0;g<i.length;g++)this.openFrontierNode(i[g]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-e,u=0,d=[],{match:c,type:f}=this.frontier[n];if(o){for(let g=0;g<o.childCount;g++)d.push(o.child(g));c=c.matchFragment(o)}let p=a.size+e-(s.content.size-s.openEnd);for(;u<a.childCount;){let g=a.child(u),x=c.matchType(g.type);if(!x)break;u++,(u>1||l==0||g.content.size)&&(c=x,d.push(iU(g.mark(f.allowedMarks(g.marks)),u==1?l:0,u==a.childCount?p:-1)))}let m=u==a.childCount;m||(p=-1),this.placed=Op(this.placed,n,V.from(d)),this.frontier[n].match=c,m&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,x=a;g<p;g++){let v=x.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),x=v.content}this.unplaced=m?e==0?ue.empty:new ue(Cp(s.content,e-1,1),e-1,p<0?s.openEnd:e-1):new ue(Cp(s.content,e,u),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Lb(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,o=this.$to.after(r);for(;r>1&&o==this.$to.end(--r);)++o;return o}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:o}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=Lb(e,n,o,r,i);if(!!s){for(let a=n-1;a>=0;a--){let{match:l,type:u}=this.frontier[a],d=Lb(e,a,u,l,!0);if(!d||d.childCount)continue e}return{depth:n,fit:s,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Op(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let o=e.node(r),i=o.type.contentMatch.fillBefore(o.content,!0,e.index(r));this.openFrontierNode(o.type,o.attrs,i)}return e}openFrontierNode(e,n=null,r){let o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=Op(this.placed,this.depth,V.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(V.empty,!0);n.childCount&&(this.placed=Op(this.placed,this.frontier.length,n))}}function Cp(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Cp(t.firstChild.content,e-1,n)))}function Op(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Op(t.lastChild.content,e-1,n)))}function Ib(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function iU(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,iU(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(V.empty,!0)))),t.copy(r)}function Lb(t,e,n,r,o){let i=t.node(e),s=o?t.indexAfter(e):t.index(e);if(s==i.childCount&&!n.compatibleContent(i.type))return null;let a=r.fillBefore(i.content,!0,s);return a&&!lce(n,i.content,s)?a:null}function lce(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function cce(t){return t.spec.defining||t.spec.definingForContent}function uce(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let o=t.doc.resolve(e),i=t.doc.resolve(n);if(oU(o,i,r))return t.step(new tr(e,n,r));let s=aU(o,t.doc.resolve(n));s[s.length-1]==0&&s.pop();let a=-(o.depth+1);s.unshift(a);for(let f=o.depth,p=o.pos-1;f>0;f--,p--){let m=o.node(f).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;s.indexOf(f)>-1?a=f:o.before(f)==p&&s.splice(1,0,-f)}let l=s.indexOf(a),u=[],d=r.openStart;for(let f=r.content,p=0;;p++){let m=f.firstChild;if(u.push(m),p==r.openStart)break;f=m.content}for(let f=d-1;f>=0;f--){let p=u[f],m=cce(p.type);if(m&&!p.sameMarkup(o.node(Math.abs(a)-1)))d=f;else if(m||!p.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let p=(f+d+1)%(r.openStart+1),m=u[p];if(!!m)for(let g=0;g<s.length;g++){let x=s[(g+l)%s.length],v=!0;x<0&&(v=!1,x=-x);let h=o.node(x-1),_=o.index(x-1);if(h.canReplaceWith(_,_,m.type,m.marks))return t.replace(o.before(x),v?i.after(x):n,new ue(sU(r.content,0,r.openStart,p),p,r.openEnd))}}let c=t.steps.length;for(let f=s.length-1;f>=0&&(t.replace(e,n,r),!(t.steps.length>c));f--){let p=s[f];p<0||(e=o.before(p),n=i.after(p))}}function sU(t,e,n,r,o){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy(sU(i.content,e+1,n,r,i)))}if(e>r){let i=o.contentMatchAt(0),s=i.fillBefore(t).append(t);t=s.append(i.matchFragment(s).fillBefore(V.empty,!0))}return t}function dce(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let o=ice(t.doc,e,r.type);o!=null&&(e=n=o)}t.replaceRange(e,n,new ue(V.from(r),0,0))}function fce(t,e,n){let r=t.doc.resolve(e),o=t.doc.resolve(n),i=aU(r,o);for(let s=0;s<i.length;s++){let a=i[s],l=s==i.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),o.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),o.indexAfter(a-1))))return t.delete(r.before(a),o.after(a))}for(let s=1;s<=r.depth&&s<=o.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&o.end(s)-n!=o.depth-s)return t.delete(r.before(s),n);t.delete(e,n)}function aU(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let o=r;o>=0;o--){let i=t.start(o);if(i<t.pos-(t.depth-o)||e.end(o)>e.pos+(e.depth-o)||t.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;(i==e.start(o)||o==t.depth&&o==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&o&&e.start(o-1)==i-1)&&n.push(o)}return n}class hd extends sr{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return _n.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let o=n.type.create(r,null,n.marks);return _n.fromReplace(e,this.pos,this.pos+1,new ue(V.from(o),0,n.isLeaf?0:1))}getMap(){return io.empty}invert(e){return new hd(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new hd(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new hd(n.pos,n.attr,n.value)}}sr.jsonID("attr",hd);class Mm extends sr{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let o in e.attrs)n[o]=e.attrs[o];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return _n.ok(r)}getMap(){return io.empty}invert(e){return new Mm(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Mm(n.attr,n.value)}}sr.jsonID("docAttr",Mm);let tf=class extends Error{};tf=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};tf.prototype=Object.create(Error.prototype);tf.prototype.constructor=tf;tf.prototype.name="TransformError";class pce{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new fd}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new tf(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=ue.empty){let o=rP(this.doc,e,n,r);return o&&this.step(o),this}replaceWith(e,n,r){return this.replace(e,n,new ue(V.from(r),0,0))}delete(e,n){return this.replace(e,n,ue.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return uce(this,e,n,r),this}replaceRangeWith(e,n,r){return dce(this,e,n,r),this}deleteRange(e,n){return fce(this,e,n),this}lift(e,n){return qle(this,e,n),this}join(e,n=1){return oce(this,e,n),this}wrap(e,n){return Qle(this,e,n),this}setBlockType(e,n=e,r,o=null){return Yle(this,e,n,r,o),this}setNodeMarkup(e,n,r=null,o){return tce(this,e,n,r,o),this}setNodeAttribute(e,n,r){return this.step(new hd(e,n,r)),this}setDocAttribute(e,n){return this.step(new Mm(e,n)),this}addNodeMark(e,n){return this.step(new Ia(e,n)),this}removeNodeMark(e,n){if(!(n instanceof Et)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new ef(e,n)),this}split(e,n=1,r){return nce(this,e,n,r),this}addMark(e,n,r){return Hle(this,e,n,r),this}removeMark(e,n,r){return Wle(this,e,n,r),this}clearIncompatible(e,n,r){return rU(this,e,n,r),this}}const $b=Object.create(null);class mt{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new fE(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=ue.empty){let r=n.content.lastChild,o=null;for(let a=0;a<n.openEnd;a++)o=r,r=r.lastChild;let i=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:u}=s[a],d=e.mapping.slice(i);e.replaceRange(d.map(l.pos),d.map(u.pos),a?ue.empty:n),a==0&&ID(e,i,(r?r.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,o=this.ranges;for(let i=0;i<o.length;i++){let{$from:s,$to:a}=o[i],l=e.mapping.slice(r),u=l.map(s.pos),d=l.map(a.pos);i?e.deleteRange(u,d):(e.replaceRangeWith(u,d,n),ID(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let o=e.parent.inlineContent?new nt(e):Cu(e.node(0),e.parent,e.pos,e.index(),n,r);if(o)return o;for(let i=e.depth-1;i>=0;i--){let s=n<0?Cu(e.node(0),e.node(i),e.before(i+1),e.index(i),n,r):Cu(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,r);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Wr(e.node(0))}static atStart(e){return Cu(e,e,0,0,1)||new Wr(e)}static atEnd(e){return Cu(e,e,e.content.size,e.childCount,-1)||new Wr(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=$b[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in $b)throw new RangeError("Duplicate use of selection JSON ID "+e);return $b[e]=n,n.prototype.jsonID=e,n}getBookmark(){return nt.between(this.$anchor,this.$head).getBookmark()}}mt.prototype.visible=!0;class fE{constructor(e,n){this.$from=e,this.$to=n}}let DD=!1;function AD(t){!DD&&!t.parent.inlineContent&&(DD=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class nt extends mt{constructor(e,n=e){AD(e),AD(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return mt.near(r);let o=e.resolve(n.map(this.anchor));return new nt(o.parent.inlineContent?o:r,r)}replace(e,n=ue.empty){if(super.replace(e,n),n==ue.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof nt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new iw(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new nt(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let o=e.resolve(n);return new this(o,r==n?o:e.resolve(r))}static between(e,n,r){let o=e.pos-n.pos;if((!r||o)&&(r=o>=0?1:-1),!n.parent.inlineContent){let i=mt.findFrom(n,r,!0)||mt.findFrom(n,-r,!0);if(i)n=i.$head;else return mt.near(n,r)}return e.parent.inlineContent||(o==0?e=n:(e=(mt.findFrom(e,-r,!0)||mt.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=o<0&&(e=n))),new nt(e,n)}}mt.jsonID("text",nt);class iw{constructor(e,n){this.anchor=e,this.head=n}map(e){return new iw(e.map(this.anchor),e.map(this.head))}resolve(e){return nt.between(e.resolve(this.anchor),e.resolve(this.head))}}class qe extends mt{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:o}=n.mapResult(this.anchor),i=e.resolve(o);return r?mt.near(i):new qe(i)}content(){return new ue(V.from(this.node),0,0)}eq(e){return e instanceof qe&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new oP(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new qe(e.resolve(n.anchor))}static create(e,n){return new qe(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}qe.prototype.visible=!1;mt.jsonID("node",qe);class oP{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new iw(r,r):new oP(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&qe.isSelectable(r)?new qe(n):mt.near(n)}}class Wr extends mt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=ue.empty){if(n==ue.empty){e.delete(0,e.doc.content.size);let r=mt.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Wr(e)}map(e){return new Wr(e)}eq(e){return e instanceof Wr}getBookmark(){return hce}}mt.jsonID("all",Wr);const hce={map(){return this},resolve(t){return new Wr(t)}};function Cu(t,e,n,r,o,i=!1){if(e.inlineContent)return nt.create(t,n);for(let s=r-(o>0?0:1);o>0?s<e.childCount:s>=0;s+=o){let a=e.child(s);if(a.isAtom){if(!i&&qe.isSelectable(a))return qe.create(t,n-(o<0?a.nodeSize:0))}else{let l=Cu(t,a,n+o,o<0?a.childCount:0,o,i);if(l)return l}n+=a.nodeSize*o}return null}function ID(t,e,n){let r=t.steps.length-1;if(r<e)return;let o=t.steps[r];if(!(o instanceof tr||o instanceof Rn))return;let i=t.mapping.maps[r],s;i.forEach((a,l,u,d)=>{s==null&&(s=d)}),t.setSelection(mt.near(t.doc.resolve(s),n))}const LD=1,ny=2,$D=4;class mce extends pce{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|LD)&~ny,this.storedMarks=null,this}get selectionSet(){return(this.updated&LD)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=ny,this}ensureMarks(e){return Et.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&ny)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~ny,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Et.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let o=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(o.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r==null?n:r,!e)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let s=this.doc.resolve(n);i=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,o.text(e,i)),this.selection.empty||this.setSelection(mt.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=$D,this}get scrolledIntoView(){return(this.updated&$D)>0}}function zD(t,e){return!e||!t?t:t.bind(e)}class Pp{constructor(e,n,r){this.name=e,this.init=zD(n.init,r),this.apply=zD(n.apply,r)}}const gce=[new Pp("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Pp("selection",{init(t,e){return t.selection||mt.atStart(e.doc)},apply(t){return t.selection}}),new Pp("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Pp("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class zb{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=gce.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Pp(r.key,r.spec.state,r))})}}class Yl{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let o=this.config.plugins[r];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),o=null;for(;;){let i=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=o?o[s].n:0,u=o?o[s].state:this,d=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,u,r);if(d&&r.filterTransaction(d,s)){if(d.setMeta("appendedTransaction",e),!o){o=[];for(let c=0;c<this.config.plugins.length;c++)o.push(c<s?{state:r,n:n.length}:{state:this,n:0})}n.push(d),r=r.applyInner(d),i=!0}o&&(o[s]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Yl(this.config),r=this.config.fields;for(let o=0;o<r.length;o++){let i=r[o];n[i.name]=i.apply(e,this[i.name],this,n)}return n}get tr(){return new mce(this)}static create(e){let n=new zb(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Yl(n);for(let o=0;o<n.fields.length;o++)r[n.fields[o].name]=n.fields[o].init(e,r);return r}reconfigure(e){let n=new zb(this.schema,e.plugins),r=n.fields,o=new Yl(n);for(let i=0;i<r.length;i++){let s=r[i].name;o[s]=this.hasOwnProperty(s)?this[s]:r[i].init(e,o)}return o}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=e[r],i=o.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(o,this[o.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let o=new zb(e.schema,e.plugins),i=new Yl(o);return o.fields.forEach(s=>{if(s.name=="doc")i.doc=mi.fromJSON(e.schema,n.doc);else if(s.name=="selection")i.selection=mt.fromJSON(i.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],u=l.spec.state;if(l.key==s.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){i[s.name]=u.fromJSON.call(l,e,n[a],i);return}}i[s.name]=s.init(e,i)}}),i}}function lU(t,e,n){for(let r in t){let o=t[r];o instanceof Function?o=o.bind(e):r=="handleDOMEvents"&&(o=lU(o,e,{})),n[r]=o}return n}class El{constructor(e){this.spec=e,this.props={},e.props&&lU(e.props,this,this.props),this.key=e.key?e.key.key:cU("plugin")}getState(e){return e[this.key]}}const Fb=Object.create(null);function cU(t){return t in Fb?t+"$"+ ++Fb[t]:(Fb[t]=0,t+"$")}class Cf{constructor(e="key"){this.key=cU(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}var vce=/[A-Z]/g,yce=/^ms-/,Bb={};function xce(t){return"-"+t.toLowerCase()}function _ce(t){if(Bb.hasOwnProperty(t))return Bb[t];var e=t.replace(vce,xce);return Bb[t]=yce.test(e)?"-"+e:e}function wce(t){return _ce(t)}function bce(t,e){return wce(t)+":"+e}function Sce(t){var e="";for(var n in t){var r=t[n];typeof r!="string"&&typeof r!="number"||(e&&(e+=";"),e+=bce(n,r))}return e}function Ece(){return typeof document<"u"?document:null}var uU=Ece;const kce={id:"extension.command.copy.label",comment:"Label for copy command.",message:"Copy"},Cce={id:"extension.command.copy.description",comment:"Description for copy command.",message:"Copy the selected text"},Oce={id:"extension.command.cut.label",comment:"Label for cut command.",message:"Cut"},Pce={id:"extension.command.cut.description",comment:"Description for cut command.",message:"Cut the selected text"},Rce={id:"extension.command.paste.label",comment:"Label for paste command.",message:"Paste"},Tce={id:"extension.command.paste.description",comment:"Description for paste command.",message:"Paste content into the editor"},Mce={id:"extension.command.select-all.label",comment:"Label for select all command.",message:"Select all"},Nce={id:"extension.command.select-all.description",comment:"Description for select all command.",message:"Select all content within the editor"};var ta=Object.freeze({__proto__:null,COPY_DESCRIPTION:Cce,COPY_LABEL:kce,CUT_DESCRIPTION:Pce,CUT_LABEL:Oce,PASTE_DESCRIPTION:Tce,PASTE_LABEL:Rce,SELECT_ALL_DESCRIPTION:Nce,SELECT_ALL_LABEL:Mce});const Dce={id:"extension.command.toggle-blockquote.label",comment:"Label for blockquote formatting command.",message:"Blockquote"},Ace={id:"extension.command.toggle-blockquote.description",comment:"Description for blockquote formatting command.",message:"Add blockquote formatting to the selected text"};var FD=Object.freeze({__proto__:null,DESCRIPTION:Ace,LABEL:Dce});const Ice={id:"extension.command.toggle-bold.label",comment:"Label for bold formatting command.",message:"Bold"},Lce={id:"extension.command.toggle-bold.description",comment:"Description for bold formatting command.",message:"Add bold formatting to the selected text"};var BD=Object.freeze({__proto__:null,DESCRIPTION:Lce,LABEL:Ice});const $ce={id:"extension.command.toggle-code.label",comment:"Label for the inline code formatting.",message:"Code"},zce={id:"extension.command.toggle-code.description",comment:"Description for the inline code formatting command.",message:"Add inline code formatting to the selected text"};var Fce=Object.freeze({__proto__:null,DESCRIPTION:zce,LABEL:$ce});const Bce={id:"extension.command.toggle-heading.label",comment:"Label for heading command with support for levels.",message:`{level, select, 1 {Heading 1}
                            2 {Heading 2}
                            3 {Heading 3}
                            4 {Heading 4}
                            5 {Heading 5}
                            6 {Heading 6}
                            other {Heading}}`};var jce=Object.freeze({__proto__:null,LABEL:Bce});const Vce={id:"extension.command.undo.label",comment:"Label for undo.",message:"Undo"},Uce={id:"extension.command.undo.description",comment:"Description for undo.",message:"Undo the most recent action"},Hce={id:"extension.command.redo.label",comment:"Label for redo.",message:"Redo"},Wce={id:"extension.command.redo.description",comment:"Description for redo.",message:"Redo the most recent action"};var ry=Object.freeze({__proto__:null,REDO_DESCRIPTION:Wce,REDO_LABEL:Hce,UNDO_DESCRIPTION:Uce,UNDO_LABEL:Vce});const Kce={id:"extension.command.toggle-italic.label",comment:"Label for italic formatting command.",message:"Italic"},qce={id:"extension.command.toggle-italic.description",comment:"Description for italic formatting command.",message:"Italicize the selected text"};var jD=Object.freeze({__proto__:null,DESCRIPTION:qce,LABEL:Kce});const Gce={id:"extension.command.toggle-ordered-list.label",comment:"Label for inserting an ordered list into the editor.",message:"Ordered list"},Zce={id:"extension.command.toggle-bullet-list.description",comment:"Description for inserting a bullet list into the editor.",message:"Bulleted list"},Qce={id:"extension.command.toggle-task-list.description",comment:"Description for inserting a task list into the editor.",message:"Tasked list"};var iP=Object.freeze({__proto__:null,BULLET_LIST_LABEL:Zce,ORDERED_LIST_LABEL:Gce,TASK_LIST_LABEL:Qce});const Yce={id:"extension.command.insert-paragraph.label",comment:"Label for inserting a paragraph.",message:"Insert Paragraph"},Xce={id:"extension.command.insert-paragraph.description",comment:"Description for inserting a paragraph.",message:"Insert a new paragraph"},Jce={id:"extension.command.convert-paragraph.label",comment:"Label for converting the current node into a paragraph.",message:"Convert Paragraph"},eue={id:"extension.command.convert-paragraph.description",comment:"Description for converting a paragraph.",message:"Convert current block into a paragraph block."};var mx=Object.freeze({__proto__:null,CONVERT_DESCRIPTION:eue,CONVERT_LABEL:Jce,INSERT_DESCRIPTION:Xce,INSERT_LABEL:Yce});const tue={id:"extension.command.toggle-strike.label",comment:"Label for strike formatting command.",message:"Strikethrough"},nue={id:"extension.command.toggle-strike.description",comment:"Description for strike formatting command.",message:"Strikethrough the selected text"};var VD=Object.freeze({__proto__:null,DESCRIPTION:nue,LABEL:tue});const rue={id:"extension.command.toggle-underline.label",comment:"Label for underline formatting command.",message:"Underline"},oue={id:"extension.command.toggle-underline.description",comment:"Description for underline formatting command.",message:"Underline the selected text"};var UD=Object.freeze({__proto__:null,DESCRIPTION:oue,LABEL:rue});class Fo{constructor(e,n,r={}){this.match=e,this.match=e,this.handler=typeof n=="string"?iue(n):n,this.undoable=r.undoable!==!1,this.inCode=r.inCode||!1}}function iue(t){return function(e,n,r,o){let i=t;if(n[1]){let s=n[0].lastIndexOf(n[1]);i+=n[0].slice(s+n[1].length),r+=s;let a=r-o;a>0&&(i=n[0].slice(s-a,s)+i,r=o)}return e.tr.insertText(i,r,o)}}const sue=500;function aue({rules:t}){let e=new El({state:{init(){return null},apply(n,r){let o=n.getMeta(this);return o||(n.selectionSet||n.docChanged?null:r)}},props:{handleTextInput(n,r,o,i){return HD(n,r,o,i,t,e)},handleDOMEvents:{compositionend:n=>{setTimeout(()=>{let{$cursor:r}=n.state.selection;r&&HD(n,r.pos,r.pos,"",t,e)})}}},isInputRules:!0});return e}function HD(t,e,n,r,o,i){if(t.composing)return!1;let s=t.state,a=s.doc.resolve(e),l=a.parent.textBetween(Math.max(0,a.parentOffset-sue),a.parentOffset,null,"\uFFFC")+r;for(let u=0;u<o.length;u++){let d=o[u];if(a.parent.type.spec.code){if(!d.inCode)continue}else if(d.inCode==="only")continue;let c=d.match.exec(l),f=c&&d.handler(s,c,e-(c[0].length-r.length),n);if(!!f)return d.undoable&&f.setMeta(i,{transform:f,from:e,to:n,text:r}),t.dispatch(f),!0}return!1}const lue=(t,e)=>{let n=t.plugins;for(let r=0;r<n.length;r++){let o=n[r],i;if(o.spec.isInputRules&&(i=o.getState(t))){if(e){let s=t.tr,a=i.transform;for(let l=a.steps.length-1;l>=0;l--)s.step(a.steps[l].invert(a.docs[l]));if(i.text){let l=s.doc.resolve(i.from).marks();s.replaceWith(i.from,i.to,t.schema.text(i.text,l))}else s.delete(i.from,i.to);e(s)}return!0}}return!1};new Fo(/--$/,"\u2014");new Fo(/\.\.\.$/,"\u2026");new Fo(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201C");new Fo(/"$/,"\u201D");new Fo(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018");new Fo(/'$/,"\u2019");function sw(t,e,n=null,r){return new Fo(t,(o,i,s,a)=>{let l=n instanceof Function?n(i):n,u=o.tr.delete(s,a),d=u.doc.resolve(s),c=d.blockRange(),f=c&&nP(c,e,l);if(!f)return null;u.wrap(c,f);let p=u.doc.resolve(s-1).nodeBefore;return p&&p.type==e&&Dg(u.doc,s-1)&&(!r||r(i,p))&&u.join(s-1),u})}function cue(t,e,n=null){return new Fo(t,(r,o,i,s)=>{let a=r.doc.resolve(i),l=n instanceof Function?n(o):n;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),e)?r.tr.delete(i,s).setBlockType(i,i,e,l):null})}const Vn=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Nm=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let pE=null;const bs=function(t,e,n){let r=pE||(pE=document.createRange());return r.setEnd(t,n==null?t.nodeValue.length:n),r.setStart(t,e||0),r},uue=function(){pE=null},zc=function(t,e,n,r){return n&&(WD(t,e,n,r,-1)||WD(t,e,n,r,1))},due=/^(img|br|input|textarea|hr)$/i;function WD(t,e,n,r,o){for(;;){if(t==n&&e==r)return!0;if(e==(o<0?0:Co(t))){let i=t.parentNode;if(!i||i.nodeType!=1||Ag(t)||due.test(t.nodeName)||t.contentEditable=="false")return!1;e=Vn(t)+(o<0?0:1),t=i}else if(t.nodeType==1){if(t=t.childNodes[e+(o<0?-1:0)],t.contentEditable=="false")return!1;e=o<0?Co(t):0}else return!1}}function Co(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function fue(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Co(t)}else if(t.parentNode&&!Ag(t))e=Vn(t),t=t.parentNode;else return null}}function pue(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Ag(t))e=Vn(t)+1,t=t.parentNode;else return null}}function hue(t,e,n){for(let r=e==0,o=e==Co(t);r||o;){if(t==n)return!0;let i=Vn(t);if(t=t.parentNode,!t)return!1;r=r&&i==0,o=o&&i==Co(t)}}function Ag(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const aw=function(t){return t.focusNode&&zc(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Vl(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function mue(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function gue(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Co(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Co(r.startContainer),r.startOffset)}}}const Xi=typeof navigator<"u"?navigator:null,KD=typeof document<"u"?document:null,kl=Xi&&Xi.userAgent||"",hE=/Edge\/(\d+)/.exec(kl),dU=/MSIE \d/.exec(kl),mE=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(kl),Kr=!!(dU||mE||hE),Ka=dU?document.documentMode:mE?+mE[1]:hE?+hE[1]:0,wi=!Kr&&/gecko\/(\d+)/i.test(kl);wi&&+(/Firefox\/(\d+)/.exec(kl)||[0,0])[1];const gE=!Kr&&/Chrome\/(\d+)/.exec(kl),nr=!!gE,fU=gE?+gE[1]:0,wr=!Kr&&!!Xi&&/Apple Computer/.test(Xi.vendor),nf=wr&&(/Mobile\/\w+/.test(kl)||!!Xi&&Xi.maxTouchPoints>2),So=nf||(Xi?/Mac/.test(Xi.platform):!1),vue=Xi?/Win/.test(Xi.platform):!1,oi=/Android \d/.test(kl),Ig=!!KD&&"webkitFontSmoothing"in KD.documentElement.style,yue=Ig?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function xue(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function fs(t,e){return typeof t=="number"?t:t[e]}function _ue(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function qD(t,e,n){let r=t.someProp("scrollThreshold")||0,o=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let s=n||t.dom;s;s=Nm(s)){if(s.nodeType!=1)continue;let a=s,l=a==i.body,u=l?xue(i):_ue(a),d=0,c=0;if(e.top<u.top+fs(r,"top")?c=-(u.top-e.top+fs(o,"top")):e.bottom>u.bottom-fs(r,"bottom")&&(c=e.bottom-e.top>u.bottom-u.top?e.top+fs(o,"top")-u.top:e.bottom-u.bottom+fs(o,"bottom")),e.left<u.left+fs(r,"left")?d=-(u.left-e.left+fs(o,"left")):e.right>u.right-fs(r,"right")&&(d=e.right-u.right+fs(o,"right")),d||c)if(l)i.defaultView.scrollBy(d,c);else{let f=a.scrollLeft,p=a.scrollTop;c&&(a.scrollTop+=c),d&&(a.scrollLeft+=d);let m=a.scrollLeft-f,g=a.scrollTop-p;e={left:e.left-m,top:e.top-g,right:e.right-m,bottom:e.bottom-g}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function wue(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,o;for(let i=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let a=t.root.elementFromPoint(i,s);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,o=l.top;break}}return{refDOM:r,refTop:o,stack:pU(t.dom)}}function pU(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Nm(r));return e}function bue({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;hU(n,r==0?0:r-e)}function hU(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:o,left:i}=t[n];r.scrollTop!=o+e&&(r.scrollTop=o+e),r.scrollLeft!=i&&(r.scrollLeft=i)}}let _u=null;function Sue(t){if(t.setActive)return t.setActive();if(_u)return t.focus(_u);let e=pU(t);t.focus(_u==null?{get preventScroll(){return _u={preventScroll:!0},!0}}:void 0),_u||(_u=!1,hU(e,0))}function mU(t,e){let n,r=2e8,o,i=0,s=e.top,a=e.top,l,u;for(let d=t.firstChild,c=0;d;d=d.nextSibling,c++){let f;if(d.nodeType==1)f=d.getClientRects();else if(d.nodeType==3)f=bs(d).getClientRects();else continue;for(let p=0;p<f.length;p++){let m=f[p];if(m.top<=s&&m.bottom>=a){s=Math.max(m.bottom,s),a=Math.min(m.top,a);let g=m.left>e.left?m.left-e.left:m.right<e.left?e.left-m.right:0;if(g<r){n=d,r=g,o=g&&n.nodeType==3?{left:m.right<e.left?m.right:m.left,top:e.top}:e,d.nodeType==1&&g&&(i=c+(e.left>=(m.left+m.right)/2?1:0));continue}}else m.top>e.top&&!l&&m.left<=e.left&&m.right>=e.left&&(l=d,u={left:Math.max(m.left,Math.min(m.right,e.left)),top:m.top});!n&&(e.left>=m.right&&e.top>=m.top||e.left>=m.left&&e.top>=m.bottom)&&(i=c+1)}}return!n&&l&&(n=l,o=u,r=0),n&&n.nodeType==3?Eue(n,o):!n||r&&n.nodeType==1?{node:t,offset:i}:mU(n,o)}function Eue(t,e){let n=t.nodeValue.length,r=document.createRange();for(let o=0;o<n;o++){r.setEnd(t,o+1),r.setStart(t,o);let i=sa(r,1);if(i.top!=i.bottom&&sP(e,i))return{node:t,offset:o+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function sP(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function kue(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function Cue(t,e,n){let{node:r,offset:o}=mU(e,n),i=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();i=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(r,o,i)}function Oue(t,e,n,r){let o=-1;for(let i=e,s=!1;i!=t.dom;){let a=t.docView.nearestDesc(i,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)){let l=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&(!s&&l.left>r.left||l.top>r.top?o=a.posBefore:(!s&&l.right<r.left||l.bottom<r.top)&&(o=a.posAfter),s=!0),!a.contentDOM&&o<0&&!a.node.isText)return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter}i=a.dom.parentNode}return o>-1?o:t.docView.posFromDOM(e,n,-1)}function gU(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),i=o;;){let s=t.childNodes[i];if(s.nodeType==1){let a=s.getClientRects();for(let l=0;l<a.length;l++){let u=a[l];if(sP(e,u))return gU(s,e,u)}}if((i=(i+1)%r)==o)break}return t}function Pue(t,e){let n=t.dom.ownerDocument,r,o=0,i=gue(n,e.left,e.top);i&&({node:r,offset:o}=i);let s=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let u=t.dom.getBoundingClientRect();if(!sP(e,u)||(s=gU(t.dom,e,u),!s))return null}if(wr)for(let u=s;r&&u;u=Nm(u))u.draggable&&(r=void 0);if(s=kue(s,e),r){if(wi&&r.nodeType==1&&(o=Math.min(o,r.childNodes.length),o<r.childNodes.length)){let d=r.childNodes[o],c;d.nodeName=="IMG"&&(c=d.getBoundingClientRect()).right<=e.left&&c.bottom>e.top&&o++}let u;Ig&&o&&r.nodeType==1&&(u=r.childNodes[o-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&o--,r==t.dom&&o==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(o==0||r.nodeType!=1||r.childNodes[o-1].nodeName!="BR")&&(a=Oue(t,r,o,e))}a==null&&(a=Cue(t,s,e));let l=t.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function GD(t){return t.top<t.bottom||t.left<t.right}function sa(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(GD(r))return r}return Array.prototype.find.call(n,GD)||t.getBoundingClientRect()}const Rue=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function vU(t,e,n){let{node:r,offset:o,atom:i}=t.docView.domFromPos(e,n<0?-1:1),s=Ig||wi;if(r.nodeType==3)if(s&&(Rue.test(r.nodeValue)||(n<0?!o:o==r.nodeValue.length))){let l=sa(bs(r,o,o),n);if(wi&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let u=sa(bs(r,o-1,o-1),-1);if(u.top==l.top){let d=sa(bs(r,o,o+1),-1);if(d.top!=l.top)return cp(d,d.left<u.left)}}return l}else{let l=o,u=o,d=n<0?1:-1;return n<0&&!o?(u++,d=-1):n>=0&&o==r.nodeValue.length?(l--,d=1):n<0?l--:u++,cp(sa(bs(r,l,u),d),d<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&o&&(n<0||o==Co(r))){let l=r.childNodes[o-1];if(l.nodeType==1)return jb(l.getBoundingClientRect(),!1)}if(i==null&&o<Co(r)){let l=r.childNodes[o];if(l.nodeType==1)return jb(l.getBoundingClientRect(),!0)}return jb(r.getBoundingClientRect(),n>=0)}if(i==null&&o&&(n<0||o==Co(r))){let l=r.childNodes[o-1],u=l.nodeType==3?bs(l,Co(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return cp(sa(u,1),!1)}if(i==null&&o<Co(r)){let l=r.childNodes[o];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?bs(l,0,s?0:1):l.nodeType==1?l:null:null;if(u)return cp(sa(u,-1),!0)}return cp(sa(r.nodeType==3?bs(r):r,-n),n>=0)}function cp(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function jb(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function yU(t,e,n){let r=t.state,o=t.root.activeElement;r!=e&&t.updateState(e),o!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),o!=t.dom&&o&&o.focus()}}function Tue(t,e,n){let r=e.selection,o=n=="up"?r.$from:r.$to;return yU(t,e,()=>{let{node:i}=t.docView.domFromPos(o.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(i,!0);if(!a)break;if(a.node.isBlock){i=a.contentDOM||a.dom;break}i=a.dom.parentNode}let s=vU(t,o.pos,1);for(let a=i.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=bs(a,0,a.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let d=l[u];if(d.bottom>d.top+1&&(n=="up"?s.top-d.top>(d.bottom-s.top)*2:d.bottom-s.bottom>(s.bottom-d.top)*2))return!1}}return!0})}const Mue=/[\u0590-\u08ac]/;function Nue(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,i=!o,s=o==r.parent.content.size,a=t.domSelection();return a?!Mue.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?i:s:yU(t,e,()=>{let{focusNode:l,focusOffset:u,anchorNode:d,anchorOffset:c}=t.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",n,"character");let p=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:m,focusOffset:g}=t.domSelectionRange(),x=m&&!p.contains(m.nodeType==1?m:m.parentNode)||l==m&&u==g;try{a.collapse(d,c),l&&(l!=d||u!=c)&&a.extend&&a.extend(l,u)}catch{}return f!=null&&(a.caretBidiLevel=f),x}):r.pos==r.start()||r.pos==r.end()}let ZD=null,QD=null,YD=!1;function Due(t,e,n){return ZD==e&&QD==n?YD:(ZD=e,QD=n,YD=n=="up"||n=="down"?Tue(t,e,n):Nue(t,e,n))}const Mo=0,XD=1,Xl=2,Ji=3;class Lg{constructor(e,n,r,o){this.parent=e,this.children=n,this.dom=r,this.contentDOM=o,this.dirty=Mo,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let o=this.children[n];if(o==e)return r;r+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let i,s;if(e==this.contentDOM)i=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((s=i.pmViewDesc)&&s.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(s)+s.size:this.posAtStart}else{let i,s;if(e==this.contentDOM)i=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((s=i.pmViewDesc)&&s.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(s):this.posAtEnd}let o;if(e==this.dom&&this.contentDOM)o=n>Vn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=e;;i=i.parentNode){if(i==this.dom){o=!1;break}if(i.previousSibling)break}if(o==null&&n==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){o=!0;break}if(i.nextSibling)break}}return(o==null?r>0:o)?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,o=e;o;o=o.parentNode){let i=this.getDesc(o),s;if(i&&(!n||i.node))if(r&&(s=i.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))r=!1;else return i}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let o=e;o;o=o.parentNode){let i=this.getDesc(o);if(i)return i.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let o=this.children[n],i=r+o.size;if(r==e&&i!=r){for(;!o.border&&o.children.length;)o=o.children[0];return o}if(e<i)return o.descAt(e-r-o.border);r=i}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,o=0;for(let i=0;r<this.children.length;r++){let s=this.children[r],a=i+s.size;if(a>e||s instanceof _U){o=e-i;break}i=a}if(o)return this.children[r].domFromPos(o-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof xU&&i.side>=0;r--);if(n<=0){let i,s=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,s=!1);return i&&n&&s&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?Vn(i.dom)+1:0}}else{let i,s=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,s=!1);return i&&s&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?Vn(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,i=-1;for(let s=r,a=0;;a++){let l=this.children[a],u=s+l.size;if(o==-1&&e<=u){let d=s+l.border;if(e>=d&&n<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,d);e=s;for(let c=a;c>0;c--){let f=this.children[c-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){o=Vn(f.dom)+1;break}e-=f.size}o==-1&&(o=0)}if(o>-1&&(u>n||a==this.children.length-1)){n=u;for(let d=a+1;d<this.children.length;d++){let c=this.children[d];if(c.size&&c.dom.parentNode==this.contentDOM&&!c.emptyChildAt(-1)){i=Vn(c.dom);break}n+=c.size}i==-1&&(i=this.contentDOM.childNodes.length);break}s=u}return{node:this.contentDOM,from:e,to:n,fromOffset:o,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,o=!1){let i=Math.min(e,n),s=Math.max(e,n);for(let f=0,p=0;f<this.children.length;f++){let m=this.children[f],g=p+m.size;if(i>p&&s<g)return m.setSelection(e-p-m.border,n-p-m.border,r,o);p=g}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),u=r.getSelection(),d=!1;if((wi||wr)&&e==n){let{node:f,offset:p}=a;if(f.nodeType==3){if(d=!!(p&&f.nodeValue[p-1]==`
`),d&&p==f.nodeValue.length)for(let m=f,g;m;m=m.parentNode){if(g=m.nextSibling){g.nodeName=="BR"&&(a=l={node:g.parentNode,offset:Vn(g)+1});break}let x=m.pmViewDesc;if(x&&x.node&&x.node.isBlock)break}}else{let m=f.childNodes[p-1];d=m&&(m.nodeName=="BR"||m.contentEditable=="false")}}if(wi&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let f=u.focusNode.childNodes[u.focusOffset];f&&f.contentEditable=="false"&&(o=!0)}if(!(o||d&&wr)&&zc(a.node,a.offset,u.anchorNode,u.anchorOffset)&&zc(l.node,l.offset,u.focusNode,u.focusOffset))return;let c=!1;if((u.extend||e==n)&&!d){u.collapse(a.node,a.offset);try{e!=n&&u.extend(l.node,l.offset),c=!0}catch{}}if(!c){if(e>n){let p=a;a=l,l=p}let f=document.createRange();f.setEnd(l.node,l.offset),f.setStart(a.node,a.offset),u.removeAllRanges(),u.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,o=0;o<this.children.length;o++){let i=this.children[o],s=r+i.size;if(r==s?e<=s&&n>=r:e<s&&n>r){let a=r+i.border,l=s-i.border;if(e>=a&&n<=l){this.dirty=e==r||n==s?Xl:XD,e==a&&n==l&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=Ji:i.markDirty(e-a,n-a);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?Xl:Ji}r=s}this.dirty=Xl}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Xl:XD;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class xU extends Lg{constructor(e,n,r,o){let i,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!i)return o;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,i=this}matchesWidget(e){return this.dirty==Mo&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Aue extends Lg{constructor(e,n,r,o){super(e,[],n,null),this.textDOM=r,this.text=o}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Fc extends Lg{constructor(e,n,r,o){super(e,[],r,o),this.mark=n}static create(e,n,r,o){let i=o.nodeViews[n.type.name],s=i&&i(n,o,r);return(!s||!s.dom)&&(s=Gs.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Fc(e,n,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&Ji||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Ji&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Mo){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Mo}}slice(e,n,r){let o=Fc.create(this.parent,this.mark,!0,r),i=this.children,s=this.size;n<s&&(i=yE(i,n,s,r)),e>0&&(i=yE(i,0,e,r));for(let a=0;a<i.length;a++)i[a].parent=o;return o.children=i,o}}class qa extends Lg{constructor(e,n,r,o,i,s,a,l,u){super(e,[],i,s),this.node=n,this.outerDeco=r,this.innerDeco=o,this.nodeDOM=a}static create(e,n,r,o,i,s){let a=i.nodeViews[n.type.name],l,u=a&&a(n,i,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},r,o),d=u&&u.dom,c=u&&u.contentDOM;if(n.isText){if(!d)d=document.createTextNode(n.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:c}=Gs.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!c&&!n.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),n.type.spec.draggable&&(d.draggable=!0));let f=d;return d=SU(d,r,n),u?l=new Iue(e,n,r,o,d,c||null,f,u,i,s+1):n.isText?new lw(e,n,r,o,d,f,i):new qa(e,n,r,o,d,c||null,f,i,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>V.empty)}return e}matchesNode(e,n,r){return this.dirty==Mo&&e.eq(this.node)&&gx(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,o=n,i=e.composing?this.localCompositionInfo(e,n):null,s=i&&i.pos>-1?i:null,a=i&&i.pos<0,l=new $ue(this,s&&s.node,e);Bue(this.node,this.innerDeco,(u,d,c)=>{u.spec.marks?l.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!c&&l.syncToMarks(d==this.node.childCount?Et.none:this.node.child(d).marks,r,e),l.placeWidget(u,e,o)},(u,d,c,f)=>{l.syncToMarks(u.marks,r,e);let p;l.findNodeMatch(u,d,c,f)||a&&e.state.selection.from>o&&e.state.selection.to<o+u.nodeSize&&(p=l.findIndexWithChild(i.node))>-1&&l.updateNodeAt(u,d,c,p,e)||l.updateNextNode(u,d,c,e,f,o)||l.addNode(u,d,c,e,o),o+=u.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Xl)&&(s&&this.protectLocalComposition(e,s),wU(this.contentDOM,this.children,e),nf&&jue(this.dom))}localCompositionInfo(e,n){let{from:r,to:o}=e.state.selection;if(!(e.state.selection instanceof nt)||r<n||o>n+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let s=i.nodeValue,a=Vue(this.node.content,s,r-n,o-n);return a<0?null:{node:i,pos:a,text:s}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:o}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let s=new Aue(this,i,n,o);e.input.compositionNodes.push(s),this.children=yE(this.children,r,r+o.length,e,s)}update(e,n,r,o){return this.dirty==Ji||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,o),!0)}updateInner(e,n,r,o){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=Mo}updateOuterDeco(e){if(gx(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=bU(this.dom,this.nodeDOM,vE(this.outerDeco,this.node,n),vE(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function JD(t,e,n,r,o){SU(r,e,t);let i=new qa(void 0,t,e,n,r,r,r,o,0);return i.contentDOM&&i.updateChildren(o,0),i}class lw extends qa{constructor(e,n,r,o,i,s,a){super(e,n,r,o,i,null,s,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,o){return this.dirty==Ji||this.dirty!=Mo&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Mo||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=e,this.dirty=Mo,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let o=this.node.cut(e,n),i=document.createTextNode(o.text);return new lw(this.parent,o,this.outerDeco,this.innerDeco,i,i,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Ji)}get domAtom(){return!1}isText(e){return this.node.text==e}}class _U extends Lg{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Mo&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Iue extends qa{constructor(e,n,r,o,i,s,a,l,u,d){super(e,n,r,o,i,s,a,u,d),this.spec=l}update(e,n,r,o){if(this.dirty==Ji)return!1;if(this.spec.update){let i=this.spec.update(e,n,r);return i&&this.updateInner(e,n,r,o),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,o){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function wU(t,e,n){let r=t.firstChild,o=!1;for(let i=0;i<e.length;i++){let s=e[i],a=s.dom;if(a.parentNode==t){for(;a!=r;)r=eA(r),o=!0;r=r.nextSibling}else o=!0,t.insertBefore(a,r);if(s instanceof Fc){let l=r?r.previousSibling:t.lastChild;wU(s.contentDOM,s.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=eA(r),o=!0;o&&n.trackWrites==t&&(n.trackWrites=null)}const Nh=function(t){t&&(this.nodeName=t)};Nh.prototype=Object.create(null);const Jl=[new Nh];function vE(t,e,n){if(t.length==0)return Jl;let r=n?Jl[0]:new Nh,o=[r];for(let i=0;i<t.length;i++){let s=t[i].type.attrs;if(!!s){s.nodeName&&o.push(r=new Nh(s.nodeName));for(let a in s){let l=s[a];l!=null&&(n&&o.length==1&&o.push(r=new Nh(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return o}function bU(t,e,n,r){if(n==Jl&&r==Jl)return e;let o=e;for(let i=0;i<r.length;i++){let s=r[i],a=n[i];if(i){let l;a&&a.nodeName==s.nodeName&&o!=t&&(l=o.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(o),a=Jl[0]),o=l}Lue(o,a||Jl[0],s)}return o}function Lue(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],o=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)o.indexOf(r[i])==-1&&t.classList.remove(r[i]);for(let i=0;i<o.length;i++)r.indexOf(o[i])==-1&&t.classList.add(o[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=r.exec(e.style);)t.style.removeProperty(o[1])}n.style&&(t.style.cssText+=n.style)}}function SU(t,e,n){return bU(t,t,Jl,vE(e,n,t.nodeType!=1))}function gx(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function eA(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class $ue{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=zue(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let o=0,i=this.stack.length>>1,s=Math.min(i,e.length);for(;o<s&&(o==i-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&e[o].type.spec.spanning!==!1;)o++;for(;o<i;)this.destroyRest(),this.top.dirty=Mo,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let u=this.top.children[l];if(u.matchesMark(e[i])&&!this.isLocked(u.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Fc.create(this.top,e[i],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,i++}}findNodeMatch(e,n,r,o){let i=-1,s;if(o>=this.preMatch.index&&(s=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,r))i=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let u=this.top.children[a];if(u.matchesNode(e,n,r)&&!this.preMatch.matched.has(u)){i=a;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,n,r,o,i){let s=this.top.children[o];return s.dirty==Ji&&s.dom==s.contentDOM&&(s.dirty=Xl),s.update(e,n,r,i)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==r)return o}return-1}e=n}}updateNextNode(e,n,r,o,i,s){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof qa){let u=this.preMatch.matched.get(l);if(u!=null&&u!=i)return!1;let d=l.dom,c,f=this.isLocked(d)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Ji&&gx(n,l.outerDeco));if(!f&&l.update(e,n,r,o))return this.destroyBetween(this.index,a),l.dom!=d&&(this.changed=!0),this.index++,!0;if(!f&&(c=this.recreateWrapper(l,e,n,r,o,s)))return this.destroyBetween(this.index,a),this.top.children[this.index]=c,c.contentDOM&&(c.dirty=Xl,c.updateChildren(o,s+1),c.dirty=Mo),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,o,i,s){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!gx(r,e.outerDeco)||!o.eq(e.innerDeco))return null;let a=qa.create(this.top,n,r,o,i,s);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,r,o,i){let s=qa.create(this.top,e,n,r,o,i);s.contentDOM&&s.updateChildren(o,i+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,n,r){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(e)&&(e==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let i=new xU(this.top,e,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Fc;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof lw)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((wr||nr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let o=new _U(this.top,[],r,null);n!=this.top?n.children.push(o):n.children.splice(this.index++,0,o),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function zue(t,e){let n=e,r=n.children.length,o=t.childCount,i=new Map,s=[];e:for(;o>0;){let a;for(;;)if(r){let u=n.children[r-1];if(u instanceof Fc)n=u,r=u.children.length;else{a=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(!!l){if(l!=t.child(o-1))break;--o,i.set(a,o),s.push(a)}}return{index:o,matched:i,matches:s.reverse()}}function Fue(t,e){return t.type.side-e.type.side}function Bue(t,e,n,r){let o=e.locals(t),i=0;if(o.length==0){for(let u=0;u<t.childCount;u++){let d=t.child(u);r(d,o,e.forChild(i,d),u),i+=d.nodeSize}return}let s=0,a=[],l=null;for(let u=0;;){let d,c;for(;s<o.length&&o[s].to==i;){let x=o[s++];x.widget&&(d?(c||(c=[d])).push(x):d=x)}if(d)if(c){c.sort(Fue);for(let x=0;x<c.length;x++)n(c[x],u,!!l)}else n(d,u,!!l);let f,p;if(l)p=-1,f=l,l=null;else if(u<t.childCount)p=u,f=t.child(u++);else break;for(let x=0;x<a.length;x++)a[x].to<=i&&a.splice(x--,1);for(;s<o.length&&o[s].from<=i&&o[s].to>i;)a.push(o[s++]);let m=i+f.nodeSize;if(f.isText){let x=m;s<o.length&&o[s].from<x&&(x=o[s].from);for(let v=0;v<a.length;v++)a[v].to<x&&(x=a[v].to);x<m&&(l=f.cut(x-i),f=f.cut(0,x-i),m=x,p=-1)}else for(;s<o.length&&o[s].to<m;)s++;let g=f.isInline&&!f.isLeaf?a.filter(x=>!x.inline):a.slice();r(f,g,e.forChild(i,f),p),i=m}}function jue(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function Vue(t,e,n,r){for(let o=0,i=0;o<t.childCount&&i<=r;){let s=t.child(o++),a=i;if(i+=s.nodeSize,!s.isText)continue;let l=s.text;for(;o<t.childCount;){let u=t.child(o++);if(i+=u.nodeSize,!u.isText)break;l+=u.text}if(i>=n){if(i>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let u=a<r?l.lastIndexOf(e,r-a-1):-1;if(u>=0&&u+e.length+a>=n)return a+u;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function yE(t,e,n,r,o){let i=[];for(let s=0,a=0;s<t.length;s++){let l=t[s],u=a,d=a+=l.size;u>=n||d<=e?i.push(l):(u<e&&i.push(l.slice(0,e-u,r)),o&&(i.push(o),o=void 0),d>n&&i.push(l.slice(n-u,l.size,r)))}return i}function aP(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let o=t.docView.nearestDesc(n.focusNode),i=o&&o.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a=r.resolve(s),l,u;if(aw(n)){for(l=s;o&&!o.node;)o=o.parent;let c=o.node;if(o&&c.isAtom&&qe.isSelectable(c)&&o.parent&&!(c.isInline&&hue(n.focusNode,n.focusOffset,o.dom))){let f=o.posBefore;u=new qe(s==f?a:r.resolve(f))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let c=s,f=s;for(let p=0;p<n.rangeCount;p++){let m=n.getRangeAt(p);c=Math.min(c,t.docView.posFromDOM(m.startContainer,m.startOffset,1)),f=Math.max(f,t.docView.posFromDOM(m.endContainer,m.endOffset,-1))}if(c<0)return null;[l,s]=f==t.state.selection.anchor?[f,c]:[c,f],a=r.resolve(s)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let d=r.resolve(l);if(!u){let c=e=="pointer"||t.state.selection.head<a.pos&&!i?1:-1;u=lP(t,d,a,c)}return u}function EU(t){return t.editable?t.hasFocus():CU(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function As(t,e=!1){let n=t.state.selection;if(kU(t,n),!!EU(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&nr){let r=t.domSelectionRange(),o=t.domObserver.currentSelection;if(r.anchorNode&&o.anchorNode&&zc(r.anchorNode,r.anchorOffset,o.anchorNode,o.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)Hue(t);else{let{anchor:r,head:o}=n,i,s;tA&&!(n instanceof nt)&&(n.$from.parent.inlineContent||(i=nA(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=nA(t,n.to))),t.docView.setSelection(r,o,t.root,e),tA&&(i&&rA(i),s&&rA(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Uue(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const tA=wr||nr&&fU<63;function nA(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),o=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(wr&&o&&o.contentEditable=="false")return Vb(o);if((!o||o.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(o)return Vb(o);if(i)return Vb(i)}}function Vb(t){return t.contentEditable="true",wr&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function rA(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Uue(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,o=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=o)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!EU(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function Hue(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,o=r.nodeName=="IMG";o?n.setStart(r.parentNode,Vn(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!o&&!t.state.selection.visible&&Kr&&Ka<=11&&(r.disabled=!0,r.disabled=!1)}function kU(t,e){if(e instanceof qe){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(oA(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else oA(t)}function oA(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function lP(t,e,n,r){return t.someProp("createSelectionBetween",o=>o(t,e,n))||nt.between(e,n,r)}function iA(t){return t.editable&&!t.hasFocus()?!1:CU(t)}function CU(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Wue(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return zc(e.node,e.offset,n.anchorNode,n.anchorOffset)}function xE(t,e){let{$anchor:n,$head:r}=t.selection,o=e>0?n.max(r):n.min(r),i=o.parent.inlineContent?o.depth?t.doc.resolve(e>0?o.after():o.before()):null:o;return i&&mt.findFrom(i,e)}function pa(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function sA(t,e,n){let r=t.state.selection;if(r instanceof nt)if(n.indexOf("s")>-1){let{$head:o}=r,i=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let s=t.state.doc.resolve(o.pos+i.nodeSize*(e<0?-1:1));return pa(t,new nt(r.$anchor,s))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let o=xE(t.state,e);return o&&o instanceof qe?pa(t,o):!1}else if(!(So&&n.indexOf("m")>-1)){let o=r.$head,i=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter,s;if(!i||i.isText)return!1;let a=e<0?o.pos-i.nodeSize:o.pos;return i.isAtom||(s=t.docView.descAt(a))&&!s.contentDOM?qe.isSelectable(i)?pa(t,new qe(e<0?t.state.doc.resolve(o.pos-i.nodeSize):o)):Ig?pa(t,new nt(t.state.doc.resolve(e<0?a:a+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof qe&&r.node.isInline)return pa(t,new nt(e>0?r.$to:r.$from));{let o=xE(t.state,e);return o?pa(t,o):!1}}}function vx(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Dh(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function wu(t,e){return e<0?Kue(t):que(t)}function Kue(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let o,i,s=!1;for(wi&&n.nodeType==1&&r<vx(n)&&Dh(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(Dh(a,-1))o=n,i=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(OU(n))break;{let a=n.previousSibling;for(;a&&Dh(a,-1);)o=n.parentNode,i=Vn(a),a=a.previousSibling;if(a)n=a,r=vx(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?_E(t,n,r):o&&_E(t,o,i)}function que(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let o=vx(n),i,s;for(;;)if(r<o){if(n.nodeType!=1)break;let a=n.childNodes[r];if(Dh(a,1))i=n,s=++r;else break}else{if(OU(n))break;{let a=n.nextSibling;for(;a&&Dh(a,1);)i=a.parentNode,s=Vn(a)+1,a=a.nextSibling;if(a)n=a,r=0,o=vx(n);else{if(n=n.parentNode,n==t.dom)break;r=o=0}}}i&&_E(t,i,s)}function OU(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Gue(t,e){for(;t&&e==t.childNodes.length&&!Ag(t);)e=Vn(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function Zue(t,e){for(;t&&!e&&!Ag(t);)e=Vn(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function _E(t,e,n){if(e.nodeType!=3){let i,s;(s=Gue(e,n))?(e=s,n=0):(i=Zue(e,n))&&(e=i,n=i.nodeValue.length)}let r=t.domSelection();if(!r)return;if(aw(r)){let i=document.createRange();i.setEnd(e,n),i.setStart(e,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:o}=t;setTimeout(()=>{t.state==o&&As(t)},50)}function aA(t,e){let n=t.state.doc.resolve(e);if(!(nr||vue)&&n.parent.inlineContent){let o=t.coordsAtPos(e);if(e>n.start()){let i=t.coordsAtPos(e-1),s=(i.top+i.bottom)/2;if(s>o.top&&s<o.bottom&&Math.abs(i.left-o.left)>1)return i.left<o.left?"ltr":"rtl"}if(e<n.end()){let i=t.coordsAtPos(e+1),s=(i.top+i.bottom)/2;if(s>o.top&&s<o.bottom&&Math.abs(i.left-o.left)>1)return i.left>o.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function lA(t,e,n){let r=t.state.selection;if(r instanceof nt&&!r.empty||n.indexOf("s")>-1||So&&n.indexOf("m")>-1)return!1;let{$from:o,$to:i}=r;if(!o.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=xE(t.state,e);if(s&&s instanceof qe)return pa(t,s)}if(!o.parent.inlineContent){let s=e<0?o:i,a=r instanceof Wr?mt.near(s,e):mt.findFrom(s,e);return a?pa(t,a):!1}return!1}function cA(t,e){if(!(t.state.selection instanceof nt))return!0;let{$head:n,$anchor:r,empty:o}=t.state.selection;if(!n.sameParent(r))return!0;if(!o)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let s=t.state.tr;return e<0?s.delete(n.pos-i.nodeSize,n.pos):s.delete(n.pos,n.pos+i.nodeSize),t.dispatch(s),!0}return!1}function uA(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function Que(t){if(!wr||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;uA(t,r,"true"),setTimeout(()=>uA(t,r,"false"),20)}return!1}function Yue(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function Xue(t,e){let n=e.keyCode,r=Yue(e);if(n==8||So&&n==72&&r=="c")return cA(t,-1)||wu(t,-1);if(n==46&&!e.shiftKey||So&&n==68&&r=="c")return cA(t,1)||wu(t,1);if(n==13||n==27)return!0;if(n==37||So&&n==66&&r=="c"){let o=n==37?aA(t,t.state.selection.from)=="ltr"?-1:1:-1;return sA(t,o,r)||wu(t,o)}else if(n==39||So&&n==70&&r=="c"){let o=n==39?aA(t,t.state.selection.from)=="ltr"?1:-1:1;return sA(t,o,r)||wu(t,o)}else{if(n==38||So&&n==80&&r=="c")return lA(t,-1,r)||wu(t,-1);if(n==40||So&&n==78&&r=="c")return Que(t)||lA(t,1,r)||wu(t,1);if(r==(So?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function PU(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let n=[],{content:r,openStart:o,openEnd:i}=e;for(;o>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){o--,i--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let s=t.someProp("clipboardSerializer")||Gs.fromSchema(t.state.schema),a=AU(),l=a.createElement("div");l.appendChild(s.serializeFragment(r,{document:a}));let u=l.firstChild,d,c=0;for(;u&&u.nodeType==1&&(d=DU[u.nodeName.toLowerCase()]);){for(let p=d.length-1;p>=0;p--){let m=a.createElement(d[p]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),c++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${o} ${i}${c?` -${c}`:""} ${JSON.stringify(n)}`);let f=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:f,slice:e}}function RU(t,e,n,r,o){let i=o.parent.type.spec.code,s,a;if(!n&&!e)return null;let l=e&&(r||i||!n);if(l){if(t.someProp("transformPastedText",f=>{e=f(e,i||r,t)}),i)return e?new ue(V.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):ue.empty;let c=t.someProp("clipboardTextParser",f=>f(e,o,r,t));if(c)a=c;else{let f=o.marks(),{schema:p}=t.state,m=Gs.fromSchema(p);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let x=s.appendChild(document.createElement("p"));g&&x.appendChild(m.serializeNode(p.text(g,f)))})}}else t.someProp("transformPastedHTML",c=>{n=c(n,t)}),s=nde(n),Ig&&rde(s);let u=s&&s.querySelector("[data-pm-slice]"),d=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let c=+d[3];c>0;c--){let f=s.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;s=f}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||Jd.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||d),context:o,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!Jue.test(f.parentNode.nodeName)?{ignore:!0}:null}})),d)a=ode(dA(a,+d[1],+d[2]),d[4]);else if(a=ue.maxOpen(ede(a.content,o),!0),a.openStart||a.openEnd){let c=0,f=0;for(let p=a.content.firstChild;c<a.openStart&&!p.type.spec.isolating;c++,p=p.firstChild);for(let p=a.content.lastChild;f<a.openEnd&&!p.type.spec.isolating;f++,p=p.lastChild);a=dA(a,c,f)}return t.someProp("transformPasted",c=>{a=c(a,t)}),a}const Jue=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function ede(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let o=e.node(n).contentMatchAt(e.index(n)),i,s=[];if(t.forEach(a=>{if(!s)return;let l=o.findWrapping(a.type),u;if(!l)return s=null;if(u=s.length&&i.length&&MU(l,i,a,s[s.length-1],0))s[s.length-1]=u;else{s.length&&(s[s.length-1]=NU(s[s.length-1],i.length));let d=TU(a,l);s.push(d),o=o.matchType(d.type),i=l}}),s)return V.from(s)}return t}function TU(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,V.from(t));return t}function MU(t,e,n,r,o){if(o<t.length&&o<e.length&&t[o]==e[o]){let i=MU(t,e,n,r.lastChild,o+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(o==t.length-1?n.type:t[o+1]))return r.copy(r.content.append(V.from(TU(n,t,o+1))))}}function NU(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,NU(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(V.empty,!0);return t.copy(n.append(r))}function wE(t,e,n,r,o,i){let s=e<0?t.firstChild:t.lastChild,a=s.content;return t.childCount>1&&(i=0),o<r-1&&(a=wE(a,e,n,r,o+1,i)),o>=n&&(a=e<0?s.contentMatchAt(0).fillBefore(a,i<=o).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(V.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(a))}function dA(t,e,n){return e<t.openStart&&(t=new ue(wE(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new ue(wE(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const DU={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let fA=null;function AU(){return fA||(fA=document.implementation.createHTMLDocument("title"))}function tde(t){let e=window.trustedTypes;return e?e.createPolicy("detachedDocument",{createHTML:n=>n}).createHTML(t):t}function nde(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=AU().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),o;if((o=r&&DU[r[1].toLowerCase()])&&(t=o.map(i=>"<"+i+">").join("")+t+o.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=tde(t),o)for(let i=0;i<o.length;i++)n=n.querySelector(o[i])||n;return n}function rde(t){let e=t.querySelectorAll(nr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent=="\xA0"&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function ode(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:o,openStart:i,openEnd:s}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;o=V.from(l.create(r[a+1],o)),i++,s++}return new ue(o,i,s)}const br={},Sr={},ide={touchstart:!0,touchmove:!0};class sde{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function ade(t){for(let e in br){let n=br[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{cde(t,r)&&!cP(t,r)&&(t.editable||!(r.type in Sr))&&n(t,r)},ide[e]?{passive:!0}:void 0)}wr&&t.dom.addEventListener("input",()=>null),bE(t)}function La(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function lde(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function bE(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>cP(t,r))})}function cP(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function cde(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function ude(t,e){!cP(t,e)&&br[e.type]&&(t.editable||!(e.type in Sr))&&br[e.type](t,e)}Sr.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!LU(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(oi&&nr&&n.keyCode==13)))if(t.domObserver.selectionChanged(t.domSelectionRange())?t.domObserver.flush():n.keyCode!=229&&t.domObserver.forceFlush(),nf&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",o=>o(t,Vl(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||Xue(t,n)?n.preventDefault():La(t,"key")};Sr.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Sr.keypress=(t,e)=>{let n=e;if(LU(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||So&&n.metaKey)return;if(t.someProp("handleKeyPress",o=>o(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof nt)||!r.$from.sameParent(r.$to)){let o=String.fromCharCode(n.charCode);!/[\r\n]/.test(o)&&!t.someProp("handleTextInput",i=>i(t,r.$from.pos,r.$to.pos,o))&&t.dispatch(t.state.tr.insertText(o).scrollIntoView()),n.preventDefault()}};function cw(t){return{left:t.clientX,top:t.clientY}}function dde(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function uP(t,e,n,r,o){if(r==-1)return!1;let i=t.state.doc.resolve(r);for(let s=i.depth+1;s>0;s--)if(t.someProp(e,a=>s>i.depth?a(t,n,i.nodeAfter,i.before(s),o,!0):a(t,n,i.node(s),i.before(s),o,!1)))return!0;return!1}function md(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function fde(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&qe.isSelectable(r)?(md(t,new qe(n),"pointer"),!0):!1}function pde(t,e){if(e==-1)return!1;let n=t.state.selection,r,o;n instanceof qe&&(r=n.node);let i=t.state.doc.resolve(e);for(let s=i.depth+1;s>0;s--){let a=s>i.depth?i.nodeAfter:i.node(s);if(qe.isSelectable(a)){r&&n.$from.depth>0&&s>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?o=i.before(n.$from.depth):o=i.before(s);break}}return o!=null?(md(t,qe.create(t.state.doc,o),"pointer"),!0):!1}function hde(t,e,n,r,o){return uP(t,"handleClickOn",e,n,r)||t.someProp("handleClick",i=>i(t,e,r))||(o?pde(t,n):fde(t,n))}function mde(t,e,n,r){return uP(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",o=>o(t,e,r))}function gde(t,e,n,r){return uP(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",o=>o(t,e,r))||vde(t,n,r)}function vde(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(md(t,nt.create(r,0,r.content.size),"pointer"),!0):!1;let o=r.resolve(e);for(let i=o.depth+1;i>0;i--){let s=i>o.depth?o.nodeAfter:o.node(i),a=o.before(i);if(s.inlineContent)md(t,nt.create(r,a+1,a+1+s.content.size),"pointer");else if(qe.isSelectable(s))md(t,qe.create(r,a),"pointer");else continue;return!0}}function dP(t){return yx(t)}const IU=So?"metaKey":"ctrlKey";br.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=dP(t),o=Date.now(),i="singleClick";o-t.input.lastClick.time<500&&dde(n,t.input.lastClick)&&!n[IU]&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:i};let s=t.posAtCoords(cw(n));!s||(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new yde(t,s,n,!!r)):(i=="doubleClick"?mde:gde)(t,s.pos,s.inside,n)?n.preventDefault():La(t,"pointer"))};class yde{constructor(e,n,r,o){this.view=e,this.pos=n,this.event=r,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[IU],this.allowDefault=r.shiftKey;let i,s;if(n.inside>-1)i=e.state.doc.nodeAt(n.inside),s=n.inside;else{let d=e.state.doc.resolve(n.pos);i=d.parent,s=d.depth?d.before():0}const a=o?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:u}=e.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||u instanceof qe&&u.from<=s&&u.to>s)&&(this.mightDrag={node:i,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&wi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),La(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>As(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(cw(e))),this.updateAllowDefault(e),this.allowDefault||!n?La(this.view,"pointer"):hde(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||wr&&this.mightDrag&&!this.mightDrag.node.isAtom||nr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(md(this.view,mt.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):La(this.view,"pointer")}move(e){this.updateAllowDefault(e),La(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}br.touchstart=t=>{t.input.lastTouch=Date.now(),dP(t),La(t,"pointer")};br.touchmove=t=>{t.input.lastTouch=Date.now(),La(t,"pointer")};br.contextmenu=t=>dP(t);function LU(t,e){return t.composing?!0:wr&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const xde=oi?5e3:-1;Sr.compositionstart=Sr.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof nt&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),yx(t,!0),t.markCursor=null;else if(yx(t,!e.selection.empty),wi&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let o=r.focusNode,i=r.focusOffset;o&&o.nodeType==1&&i!=0;){let s=i<0?o.lastChild:o.childNodes[i-1];if(!s)break;if(s.nodeType==3){let a=t.domSelection();a&&a.collapse(s,s.nodeValue.length);break}else o=s,i=-1}}t.input.composing=!0}$U(t,xde)};Sr.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,$U(t,20))};function $U(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>yx(t),e))}function zU(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=wde());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function _de(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=fue(e.focusNode,e.focusOffset),r=pue(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let o=r.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!o||!o.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let s=n.pmViewDesc;if(!(!s||!s.isText(n.nodeValue)))return r}}return n||r}function wde(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function yx(t,e=!1){if(!(oi&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),zU(t),e||t.docView&&t.docView.dirty){let n=aP(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function bde(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Dm=Kr&&Ka<15||nf&&yue<604;br.copy=Sr.cut=(t,e)=>{let n=e,r=t.state.selection,o=n.type=="cut";if(r.empty)return;let i=Dm?null:n.clipboardData,s=r.content(),{dom:a,text:l}=PU(t,s);i?(n.preventDefault(),i.clearData(),i.setData("text/html",a.innerHTML),i.setData("text/plain",l)):bde(t,a),o&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Sde(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function Ede(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Am(t,r.value,null,o,e):Am(t,r.textContent,r.innerHTML,o,e)},50)}function Am(t,e,n,r,o){let i=RU(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,o,i||ue.empty)))return!0;if(!i)return!1;let s=Sde(i),a=s?t.state.tr.replaceSelectionWith(s,r):t.state.tr.replaceSelection(i);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function FU(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Sr.paste=(t,e)=>{let n=e;if(t.composing&&!oi)return;let r=Dm?null:n.clipboardData,o=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Am(t,FU(r),r.getData("text/html"),o,n)?n.preventDefault():Ede(t,n)};class BU{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const jU=So?"altKey":"ctrlKey";br.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let o=t.state.selection,i=o.empty?null:t.posAtCoords(cw(n)),s;if(!(i&&i.pos>=o.from&&i.pos<=(o instanceof qe?o.to-1:o.to))){if(r&&r.mightDrag)s=qe.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let c=t.docView.nearestDesc(n.target,!0);c&&c.node.type.spec.draggable&&c!=t.docView&&(s=qe.create(t.state.doc,c.posBefore))}}let a=(s||t.state.selection).content(),{dom:l,text:u,slice:d}=PU(t,a);(!n.dataTransfer.files.length||!nr||fU>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Dm?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Dm||n.dataTransfer.setData("text/plain",u),t.dragging=new BU(d,!n[jU],s)};br.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Sr.dragover=Sr.dragenter=(t,e)=>e.preventDefault();Sr.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let o=t.posAtCoords(cw(n));if(!o)return;let i=t.state.doc.resolve(o.pos),s=r&&r.slice;s?t.someProp("transformPasted",m=>{s=m(s,t)}):s=RU(t,FU(n.dataTransfer),Dm?null:n.dataTransfer.getData("text/html"),!1,i);let a=!!(r&&!n[jU]);if(t.someProp("handleDrop",m=>m(t,n,s||ue.empty,a))){n.preventDefault();return}if(!s)return;n.preventDefault();let l=s?sce(t.state.doc,i.pos,s):i.pos;l==null&&(l=i.pos);let u=t.state.tr;if(a){let{node:m}=r;m?m.replace(u):u.deleteSelection()}let d=u.mapping.map(l),c=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,f=u.doc;if(c?u.replaceRangeWith(d,d,s.content.firstChild):u.replaceRange(d,d,s),u.doc.eq(f))return;let p=u.doc.resolve(d);if(c&&qe.isSelectable(s.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(s.content.firstChild))u.setSelection(new qe(p));else{let m=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((g,x,v,h)=>m=h),u.setSelection(lP(t,p,u.doc.resolve(m)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};br.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&As(t)},20))};br.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};br.beforeinput=(t,e)=>{if(nr&&oi&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,Vl(8,"Backspace")))))return;let{$cursor:o}=t.state.selection;o&&o.pos>0&&t.dispatch(t.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let t in Sr)br[t]=Sr[t];function Im(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class xx{constructor(e,n){this.toDOM=e,this.spec=n||xc,this.side=this.spec.side||0}map(e,n,r,o){let{pos:i,deleted:s}=e.mapResult(n.from+o,this.side<0?-1:1);return s?null:new qt(i-r,i-r,this)}valid(){return!0}eq(e){return this==e||e instanceof xx&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Im(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Ga{constructor(e,n){this.attrs=e,this.spec=n||xc}map(e,n,r,o){let i=e.map(n.from+o,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+o,this.spec.inclusiveEnd?1:-1)-r;return i>=s?null:new qt(i,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Ga&&Im(this.attrs,e.attrs)&&Im(this.spec,e.spec)}static is(e){return e.type instanceof Ga}destroy(){}}class fP{constructor(e,n){this.attrs=e,this.spec=n||xc}map(e,n,r,o){let i=e.mapResult(n.from+o,1);if(i.deleted)return null;let s=e.mapResult(n.to+o,-1);return s.deleted||s.pos<=i.pos?null:new qt(i.pos-r,s.pos-r,this)}valid(e,n){let{index:r,offset:o}=e.content.findIndex(n.from),i;return o==n.from&&!(i=e.child(r)).isText&&o+i.nodeSize==n.to}eq(e){return this==e||e instanceof fP&&Im(this.attrs,e.attrs)&&Im(this.spec,e.spec)}destroy(){}}class qt{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new qt(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new qt(e,e,new xx(n,r))}static inline(e,n,r,o){return new qt(e,n,new Ga(r,o))}static node(e,n,r,o){return new qt(e,n,new fP(r,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ga}get widget(){return this.type instanceof xx}}const Ou=[],xc={};class Rt{constructor(e,n){this.local=e.length?e:Ou,this.children=n.length?n:Ou}static create(e,n){return n.length?_x(n,e,0,xc):Xn}find(e,n,r){let o=[];return this.findInner(e==null?0:e,n==null?1e9:n,o,0,r),o}findInner(e,n,r,o,i){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=n&&a.to>=e&&(!i||i(a.spec))&&r.push(a.copy(a.from+o,a.to+o))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let a=this.children[s]+1;this.children[s+2].findInner(e-a,n-a,r,o+a,i)}}map(e,n,r){return this==Xn||e.maps.length==0?this:this.mapInner(e,n,0,0,r||xc)}mapInner(e,n,r,o,i){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,o);l&&l.type.valid(n,l)?(s||(s=[])).push(l):i.onRemove&&i.onRemove(this.local[a].spec)}return this.children.length?kde(this.children,s||[],e,n,r,o,i):s?new Rt(s.sort(_c),Ou):Xn}add(e,n){return n.length?this==Xn?Rt.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let o,i=0;e.forEach((a,l)=>{let u=l+r,d;if(!!(d=UU(n,a,u))){for(o||(o=this.children.slice());i<o.length&&o[i]<l;)i+=3;o[i]==l?o[i+2]=o[i+2].addInner(a,d,u+1):o.splice(i,0,l,l+a.nodeSize,_x(d,a,u+1,xc)),i+=3}});let s=VU(i?HU(n):n,-r);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||s.splice(a--,1);return new Rt(s.length?this.local.concat(s).sort(_c):this.local,o||this.children)}remove(e){return e.length==0||this==Xn?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,o=this.local;for(let i=0;i<r.length;i+=3){let s,a=r[i]+n,l=r[i+1]+n;for(let d=0,c;d<e.length;d++)(c=e[d])&&c.from>a&&c.to<l&&(e[d]=null,(s||(s=[])).push(c));if(!s)continue;r==this.children&&(r=this.children.slice());let u=r[i+2].removeInner(s,a+1);u!=Xn?r[i+2]=u:(r.splice(i,3),i-=3)}if(o.length){for(let i=0,s;i<e.length;i++)if(s=e[i])for(let a=0;a<o.length;a++)o[a].eq(s,n)&&(o==this.local&&(o=this.local.slice()),o.splice(a--,1))}return r==this.children&&o==this.local?this:o.length||r.length?new Rt(o,r):Xn}forChild(e,n){if(this==Xn)return this;if(n.isLeaf)return Rt.empty;let r,o;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let i=e+1,s=i+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>i&&l.type instanceof Ga){let u=Math.max(i,l.from)-i,d=Math.min(s,l.to)-i;u<d&&(o||(o=[])).push(l.copy(u,d))}}if(o){let a=new Rt(o.sort(_c),Ou);return r?new wa([a,r]):a}return r||Xn}eq(e){if(this==e)return!0;if(!(e instanceof Rt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return pP(this.localsInner(e))}localsInner(e){if(this==Xn)return Ou;if(e.inlineContent||!this.local.some(Ga.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Ga||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Rt.empty=new Rt([],[]);Rt.removeOverlap=pP;const Xn=Rt.empty;class wa{constructor(e){this.members=e}map(e,n){const r=this.members.map(o=>o.map(e,n,xc));return wa.from(r)}forChild(e,n){if(n.isLeaf)return Rt.empty;let r=[];for(let o=0;o<this.members.length;o++){let i=this.members[o].forChild(e,n);i!=Xn&&(i instanceof wa?r=r.concat(i.members):r.push(i))}return wa.from(r)}eq(e){if(!(e instanceof wa)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let o=0;o<this.members.length;o++){let i=this.members[o].localsInner(e);if(!!i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let s=0;s<i.length;s++)n.push(i[s])}}return n?pP(r?n:n.sort(_c)):Ou}static from(e){switch(e.length){case 0:return Xn;case 1:return e[0];default:return new wa(e.every(n=>n instanceof Rt)?e:e.reduce((n,r)=>n.concat(r instanceof Rt?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function kde(t,e,n,r,o,i,s){let a=t.slice();for(let u=0,d=i;u<n.maps.length;u++){let c=0;n.maps[u].forEach((f,p,m,g)=>{let x=g-m-(p-f);for(let v=0;v<a.length;v+=3){let h=a[v+1];if(h<0||f>h+d-c)continue;let _=a[v]+d-c;p>=_?a[v+1]=f<=_?-2:-1:f>=d&&x&&(a[v]+=x,a[v+1]+=x)}c+=x}),d=n.maps[u].map(d,-1)}let l=!1;for(let u=0;u<a.length;u+=3)if(a[u+1]<0){if(a[u+1]==-2){l=!0,a[u+1]=-1;continue}let d=n.map(t[u]+i),c=d-o;if(c<0||c>=r.content.size){l=!0;continue}let f=n.map(t[u+1]+i,-1),p=f-o,{index:m,offset:g}=r.content.findIndex(c),x=r.maybeChild(m);if(x&&g==c&&g+x.nodeSize==p){let v=a[u+2].mapInner(n,x,d+1,t[u]+i+1,s);v!=Xn?(a[u]=c,a[u+1]=p,a[u+2]=v):(a[u+1]=-2,l=!0)}else l=!0}if(l){let u=Cde(a,t,e,n,o,i,s),d=_x(u,r,0,s);e=d.local;for(let c=0;c<a.length;c+=3)a[c+1]<0&&(a.splice(c,3),c-=3);for(let c=0,f=0;c<d.children.length;c+=3){let p=d.children[c];for(;f<a.length&&a[f]<p;)f+=3;a.splice(f,0,d.children[c],d.children[c+1],d.children[c+2])}}return new Rt(e.sort(_c),a)}function VU(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let o=t[r];n.push(new qt(o.from+e,o.to+e,o.type))}return n}function Cde(t,e,n,r,o,i,s){function a(l,u){for(let d=0;d<l.local.length;d++){let c=l.local[d].map(r,o,u);c?n.push(c):s.onRemove&&s.onRemove(l.local[d].spec)}for(let d=0;d<l.children.length;d+=3)a(l.children[d+2],l.children[d]+u+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+i+1);return n}function UU(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,o=null;for(let i=0,s;i<t.length;i++)(s=t[i])&&s.from>n&&s.to<r&&((o||(o=[])).push(s),t[i]=null);return o}function HU(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function _x(t,e,n,r){let o=[],i=!1;e.forEach((a,l)=>{let u=UU(t,a,l+n);if(u){i=!0;let d=_x(u,a,n+l+1,r);d!=Xn&&o.push(l,l+a.nodeSize,d)}});let s=VU(i?HU(t):t,-n).sort(_c);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||o.length?new Rt(s,o):Xn}function _c(t,e){return t.from-e.from||t.to-e.to}function pP(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let o=n+1;o<e.length;o++){let i=e[o];if(i.from==r.from){i.to!=r.to&&(e==t&&(e=t.slice()),e[o]=i.copy(i.from,r.to),pA(e,o+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),pA(e,o,r.copy(i.from,r.to)));break}}}return e}function pA(t,e,n){for(;e<t.length&&_c(n,t[e])>0;)e++;t.splice(e,0,n)}function Ub(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Xn&&e.push(r)}),t.cursorWrapper&&e.push(Rt.create(t.state.doc,[t.cursorWrapper.deco])),wa.from(e)}const Ode={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Pde=Kr&&Ka<=11;class Rde{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Tde{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Rde,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let o=0;o<r.length;o++)this.queue.push(r[o]);Kr&&Ka<=11&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),Pde&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Ode)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(!!iA(this.view)){if(this.suppressingSelectionUpdates)return As(this.view);if(Kr&&Ka<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&zc(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let i=e.focusNode;i;i=Nm(i))n.add(i);for(let i=e.anchorNode;i;i=Nm(i))if(n.has(i)){r=i;break}let o=r&&this.view.docView.nearestDesc(r);if(o&&o.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}selectionChanged(e){return!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&iA(this.view)&&!this.ignoreSelectionChange(e)}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),o=this.selectionChanged(r),i=-1,s=-1,a=!1,l=[];if(e.editable)for(let d=0;d<n.length;d++){let c=this.registerMutation(n[d],l);c&&(i=i<0?c.from:Math.min(c.from,i),s=s<0?c.to:Math.max(c.to,s),c.typeOver&&(a=!0))}if(wi&&l.length){let d=l.filter(c=>c.nodeName=="BR");if(d.length==2){let[c,f]=d;c.parentNode&&c.parentNode.parentNode==f.parentNode?f.remove():c.remove()}else{let{focusNode:c}=this.currentSelection;for(let f of d){let p=f.parentNode;p&&p.nodeName=="LI"&&(!c||Dde(e,c)!=p)&&f.remove()}}}let u=null;i<0&&o&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&aw(r)&&(u=aP(e))&&u.eq(mt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,As(e),this.currentSelection.set(r),e.scrollToSelection()):(i>-1||o)&&(i>-1&&(e.docView.markDirty(i,s),Mde(e)),this.handleDOMChange(i,s,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||As(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++){let c=e.addedNodes[d];n.push(c),c.nodeType==3&&(this.lastChangedTextNode=c)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let o=e.previousSibling,i=e.nextSibling;if(Kr&&Ka<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:c,nextSibling:f}=e.addedNodes[d];(!c||Array.prototype.indexOf.call(e.addedNodes,c)<0)&&(o=c),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f)}let s=o&&o.parentNode==e.target?Vn(o)+1:0,a=r.localPosFromDOM(e.target,s,-1),l=i&&i.parentNode==e.target?Vn(i):e.target.childNodes.length,u=r.localPosFromDOM(e.target,l,1);return{from:a,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let hA=new WeakMap,mA=!1;function Mde(t){if(!hA.has(t)&&(hA.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=wi,mA)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),mA=!0}}function gA(t,e){let n=e.startContainer,r=e.startOffset,o=e.endContainer,i=e.endOffset,s=t.domAtPos(t.state.selection.anchor);return zc(s.node,s.offset,o,i)&&([n,r,o,i]=[o,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:i}}function Nde(t,e){if(e.getComposedRanges){let o=e.getComposedRanges(t.root)[0];if(o)return gA(t,o)}let n;function r(o){o.preventDefault(),o.stopImmediatePropagation(),n=o.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?gA(t,n):null}function Dde(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function Ade(t,e,n){let{node:r,fromOffset:o,toOffset:i,from:s,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),u,d=l.anchorNode;if(d&&t.dom.contains(d.nodeType==1?d:d.parentNode)&&(u=[{node:d,offset:l.anchorOffset}],aw(l)||u.push({node:l.focusNode,offset:l.focusOffset})),nr&&t.input.lastKeyCode===8)for(let x=i;x>o;x--){let v=r.childNodes[x-1],h=v.pmViewDesc;if(v.nodeName=="BR"&&!h){i=x;break}if(!h||h.size)break}let c=t.state.doc,f=t.someProp("domParser")||Jd.fromSchema(t.state.schema),p=c.resolve(s),m=null,g=f.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:o,to:i,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:Ide,context:p});if(u&&u[0].pos!=null){let x=u[0].pos,v=u[1]&&u[1].pos;v==null&&(v=x),m={anchor:x+s,head:v+s}}return{doc:g,sel:m,from:s,to:a}}function Ide(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(wr&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||wr&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Lde=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function $de(t,e,n,r,o){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let T=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,D=aP(t,T);if(D&&!t.state.selection.eq(D)){if(nr&&oi&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",A=>A(t,Vl(13,"Enter"))))return;let j=t.state.tr.setSelection(D);T=="pointer"?j.setMeta("pointer",!0):T=="key"&&j.scrollIntoView(),i&&j.setMeta("composition",i),t.dispatch(j)}return}let s=t.state.doc.resolve(e),a=s.sharedDepth(n);e=s.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,u=Ade(t,e,n),d=t.state.doc,c=d.slice(u.from,u.to),f,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,p="end"):(f=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let m=Bde(c.content,u.doc.content,u.from,f,p);if(m&&t.input.domChangeCount++,(nf&&t.input.lastIOSEnter>Date.now()-225||oi)&&o.some(T=>T.nodeType==1&&!Lde.test(T.nodeName))&&(!m||m.endA>=m.endB)&&t.someProp("handleKeyDown",T=>T(t,Vl(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!m)if(r&&l instanceof nt&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))m={start:l.from,endA:l.to,endB:l.to};else{if(u.sel){let T=vA(t,t.state.doc,u.sel);if(T&&!T.eq(t.state.selection)){let D=t.state.tr.setSelection(T);i&&D.setMeta("composition",i),t.dispatch(D)}}return}t.state.selection.from<t.state.selection.to&&m.start==m.endB&&t.state.selection instanceof nt&&(m.start>t.state.selection.from&&m.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?m.start=t.state.selection.from:m.endA<t.state.selection.to&&m.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(m.endB+=t.state.selection.to-m.endA,m.endA=t.state.selection.to)),Kr&&Ka<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>u.from&&u.doc.textBetween(m.start-u.from-1,m.start-u.from+1)==" \xA0"&&(m.start--,m.endA--,m.endB--);let g=u.doc.resolveNoCache(m.start-u.from),x=u.doc.resolveNoCache(m.endB-u.from),v=d.resolve(m.start),h=g.sameParent(x)&&g.parent.inlineContent&&v.end()>=m.endA,_;if((nf&&t.input.lastIOSEnter>Date.now()-225&&(!h||o.some(T=>T.nodeName=="DIV"||T.nodeName=="P"))||!h&&g.pos<u.doc.content.size&&!g.sameParent(x)&&(_=mt.findFrom(u.doc.resolve(g.pos+1),1,!0))&&_.head==x.pos)&&t.someProp("handleKeyDown",T=>T(t,Vl(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>m.start&&Fde(d,m.start,m.endA,g,x)&&t.someProp("handleKeyDown",T=>T(t,Vl(8,"Backspace")))){oi&&nr&&t.domObserver.suppressSelectionUpdates();return}nr&&oi&&m.endB==m.start&&(t.input.lastAndroidDelete=Date.now()),oi&&!h&&g.start()!=x.start()&&x.parentOffset==0&&g.depth==x.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==m.endA&&(m.endB-=2,x=u.doc.resolveNoCache(m.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(T){return T(t,Vl(13,"Enter"))})},20));let y=m.start,S=m.endA,O,k,E;if(h){if(g.pos==x.pos)Kr&&Ka<=11&&g.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>As(t),20)),O=t.state.tr.delete(y,S),k=d.resolve(m.start).marksAcross(d.resolve(m.endA));else if(m.endA==m.endB&&(E=zde(g.parent.content.cut(g.parentOffset,x.parentOffset),v.parent.content.cut(v.parentOffset,m.endA-v.start()))))O=t.state.tr,E.type=="add"?O.addMark(y,S,E.mark):O.removeMark(y,S,E.mark);else if(g.parent.child(g.index()).isText&&g.index()==x.index()-(x.textOffset?0:1)){let T=g.parent.textBetween(g.parentOffset,x.parentOffset);if(t.someProp("handleTextInput",D=>D(t,y,S,T)))return;O=t.state.tr.insertText(T,y,S)}}if(O||(O=t.state.tr.replace(y,S,u.doc.slice(m.start-u.from,m.endB-u.from))),u.sel){let T=vA(t,O.doc,u.sel);T&&!(nr&&oi&&t.composing&&T.empty&&(m.start!=m.endB||t.input.lastAndroidDelete<Date.now()-100)&&(T.head==y||T.head==O.mapping.map(S)-1)||Kr&&T.empty&&T.head==y)&&O.setSelection(T)}k&&O.ensureMarks(k),i&&O.setMeta("composition",i),t.dispatch(O.scrollIntoView())}function vA(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:lP(t,e.resolve(n.anchor),e.resolve(n.head))}function zde(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,o=n,i=r,s,a,l;for(let d=0;d<r.length;d++)o=r[d].removeFromSet(o);for(let d=0;d<n.length;d++)i=n[d].removeFromSet(i);if(o.length==1&&i.length==0)a=o[0],s="add",l=d=>d.mark(a.addToSet(d.marks));else if(o.length==0&&i.length==1)a=i[0],s="remove",l=d=>d.mark(a.removeFromSet(d.marks));else return null;let u=[];for(let d=0;d<e.childCount;d++)u.push(l(e.child(d)));if(V.from(u).eq(t))return{mark:a,type:s}}function Fde(t,e,n,r,o){if(n-e<=o.pos-r.pos||Hb(r,!0,!1)<o.pos)return!1;let i=t.resolve(e);if(!r.parent.isTextblock){let a=i.nodeAfter;return a!=null&&n==e+a.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let s=t.resolve(Hb(i,!0,!0));return!s.parent.isTextblock||s.pos>n||Hb(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function Hb(t,e,n){let r=t.depth,o=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,o++,e=!1;if(n){let i=t.node(r).maybeChild(t.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,o++}return o}function Bde(t,e,n,r,o){let i=t.findDiffStart(e,n);if(i==null)return null;let{a:s,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(o=="end"){let l=Math.max(0,i-Math.min(s,a));r-=s+l-i}if(s<i&&t.size<e.size){let l=r<=i&&r>=s?i-r:0;i-=l,i&&i<e.size&&yA(e.textBetween(i-1,i+1))&&(i+=l?1:-1),a=i+(a-s),s=i}else if(a<i){let l=r<=i&&r>=a?i-r:0;i-=l,i&&i<t.size&&yA(t.textBetween(i-1,i+1))&&(i+=l?1:-1),s=i+(s-a),a=i}return{start:i,endA:s,endB:a}}function yA(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class jde{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new sde,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(SA),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=wA(this),_A(this),this.nodeViews=bA(this),this.docView=JD(this.state.doc,xA(this),Ub(this),this.dom,this),this.domObserver=new Tde(this,(r,o,i,s)=>$de(this,r,o,i,s)),this.domObserver.start(),ade(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&bE(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(SA),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let o=this.state,i=!1,s=!1;e.storedMarks&&this.composing&&(zU(this),s=!0),this.state=e;let a=o.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let p=bA(this);Ude(p,this.nodeViews)&&(this.nodeViews=p,i=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&bE(this),this.editable=wA(this),_A(this);let l=Ub(this),u=xA(this),d=o.plugins!=e.plugins&&!o.doc.eq(e.doc)?"reset":e.scrollToSelection>o.scrollToSelection?"to selection":"preserve",c=i||!this.docView.matchesNode(e.doc,u,l);(c||!e.selection.eq(o.selection))&&(s=!0);let f=d=="preserve"&&s&&this.dom.style.overflowAnchor==null&&wue(this);if(s){this.domObserver.stop();let p=c&&(Kr||nr)&&!this.composing&&!o.selection.empty&&!e.selection.empty&&Vde(o.selection,e.selection);if(c){let m=nr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=_de(this)),(i||!this.docView.update(e.doc,u,l,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=JD(e.doc,u,l,this.dom,this)),m&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Wue(this))?As(this,p):(kU(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),((r=this.dragging)===null||r===void 0?void 0:r.node)&&!o.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,o),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():f&&bue(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof qe){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&qD(this,n.getBoundingClientRect(),e)}else qD(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,o=-1;if(this.state.doc.nodeAt(r.from)==r.node)o=r.from;else{let i=r.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(o=i)}this.dragging=new BU(e.slice,e.move,o<0?void 0:qe.create(this.state.doc,o))}someProp(e,n){let r=this._props&&this._props[e],o;if(r!=null&&(o=n?n(r):r))return o;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[e];if(a!=null&&(o=n?n(a):a))return o}let i=this.state.plugins;if(i)for(let s=0;s<i.length;s++){let a=i[s].props[e];if(a!=null&&(o=n?n(a):a))return o}}hasFocus(){if(Kr){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Sue(this.dom),As(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Pue(this,e)}coordsAtPos(e,n=1){return vU(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let o=this.docView.posFromDOM(e,n,r);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(e,n){return Due(this,n||this.state,e)}pasteHTML(e,n){return Am(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Am(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){!this.docView||(lde(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ub(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,uue())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return ude(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?wr&&this.root.nodeType===11&&mue(this.dom.ownerDocument)==this.dom&&Nde(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function xA(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[qt.node(0,t.state.doc.content.size,e)]}function _A(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:qt.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function wA(t){return!t.someProp("editable",e=>e(t.state)===!1)}function Vde(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function bA(t){let e=Object.create(null);function n(r){for(let o in r)Object.prototype.hasOwnProperty.call(e,o)||(e[o]=r[o])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function Ude(t,e){let n=0,r=0;for(let o in t){if(t[o]!=e[o])return!0;n++}for(let o in e)r++;return n!=r}function SA(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Hde=t=>{if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")},Wde=Object.defineProperty,Kde=Object.defineProperties,qde=Object.getOwnPropertyDescriptors,EA=Object.getOwnPropertySymbols,Gde=Object.prototype.hasOwnProperty,Zde=Object.prototype.propertyIsEnumerable,WU=t=>{throw TypeError(t)},SE=(t,e,n)=>e in t?Wde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Lm=(t,e)=>{for(var n in e||(e={}))Gde.call(e,n)&&SE(t,n,e[n]);if(EA)for(var n of EA(e))Zde.call(e,n)&&SE(t,n,e[n]);return t},Qde=(t,e)=>Kde(t,qde(e)),ps=(t,e,n)=>SE(t,typeof e!="symbol"?e+"":e,n),KU=(t,e,n)=>e.has(t)||WU("Cannot "+n),ct=(t,e,n)=>(KU(t,e,"read from private field"),n?n.call(t):e.get(t)),hs=(t,e,n)=>e.has(t)?WU("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),zt=(t,e,n,r)=>(KU(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);function Yde(t){return!!(t.prev&&t.next&&t.prev.text.full!==t.next.text.full)}function Xde(t){return!!(t.prev&&t.next&&t.prev.range.cursor!==t.next.range.cursor)}function Jde(t){return!!(!t.prev&&t.next)}function efe(t){return!!(t.prev&&!t.next)}function tfe(t){return!!(t.prev&&t.next&&t.prev.range.from!==t.next.range.from)}function nfe(t){return t==="invalid-exit-split"}var rfe=["jump-backward-exit","jump-forward-exit"],ofe=["jump-backward-change","jump-forward-change"];function ife(t){var e,n;return Yi(rfe,(e=t.exit)==null?void 0:e.exitReason)||Yi(ofe,(n=t.change)==null?void 0:n.changeReason)}function kA(t){return!!(t&&t.query.full.length>=t.suggester.matchOffset)}function CA(t){return ir(t)&&t instanceof nt}function Br(t){const{match:e,changeReason:n,exitReason:r}=t;return Qde(Lm({},e),{changeReason:n,exitReason:r})}function sfe(t,e){const{invalidPrefixCharacters:n,validPrefixCharacters:r}=e;return n?!new RegExp(kE(n)).test(t):new RegExp(kE(r)).test(t)}function afe(t){const{text:e,regexp:n,$pos:r,suggester:o}=t,i=r.start();let s;return eP(e,n).forEach(a=>{const l=a.input.slice(Math.max(0,a.index-1),a.index);if(sfe(l,o)){const u=a.index+i,d=a[0],c=a[1];if(!Ye(d)||!Ye(c))return;const f=u+d.length,p=Math.min(f,r.pos),m=p-u;u<r.pos&&f>=r.pos&&(s={range:{from:u,to:f,cursor:p},match:a,query:{partial:d.slice(c.length,m),full:d.slice(c.length)},text:{partial:d.slice(0,m),full:d},textAfter:r.doc.textBetween(f,r.end(),Da,Da),textBefore:r.doc.textBetween(i,u,Da,Da),suggester:o})}}),s}function qU(t){const{$pos:e,suggester:n}=t,{char:r,name:o,startOfLine:i,supportedCharacters:s,matchOffset:a,multiline:l,caseInsensitive:u,unicode:d}=n,c=gfe({char:r,matchOffset:a,startOfLine:i,supportedCharacters:s,multiline:l,caseInsensitive:u,unicode:d}),f=e.doc.textBetween(e.before(),e.end(),Da,Da);return afe({suggester:n,text:f,regexp:c,$pos:e,char:r,name:o})}function GU(t){const{state:e,match:n}=t;try{return qU({$pos:e.doc.resolve(n.range.cursor),suggester:n.suggester})}catch{return}}function ZU(t){const{prev:e,next:n,state:r}=t;return!n&&e.range.from>=r.doc.nodeSize?{exit:Br({match:e,exitReason:"delete"})}:!n||!e.query.partial?{exit:Br({match:e,exitReason:"invalid-exit-split"})}:e.range.to===n.range.cursor?{exit:Br({match:n,exitReason:"exit-end"})}:e.query.partial?{exit:Br({match:n,exitReason:"exit-split"})}:{}}function lfe(t){const{prev:e,next:n,state:r}=t,o=ze(),i=GU({state:r,match:e}),{exit:s}=i&&i.query.full!==e.query.full?ZU({prev:e,next:i,state:r}):o;return e.range.from<n.range.from?{exit:s!=null?s:Br({match:e,exitReason:"jump-forward-exit"}),change:Br({match:n,changeReason:"jump-forward-change"})}:{exit:s!=null?s:Br({match:e,exitReason:"jump-backward-exit"}),change:Br({match:n,changeReason:"jump-backward-change"})}}function cfe(t){const{match:e,state:n,$pos:r}=t,{selection:o}=n,i=GU({match:e,state:n});return!i||i.text.full!==e.text.full?ZU({prev:e,next:i,state:n}):!o.empty&&(o.from<=e.range.from||o.to>=e.range.to)?{exit:Br({match:e,exitReason:"selection-outside"})}:r.pos>e.range.to?{exit:Br({match:e,exitReason:"move-end"})}:r.pos<=e.range.from?{exit:Br({match:e,exitReason:"move-start"})}:{}}function ufe(t){const{prev:e,next:n,state:r,$pos:o}=t,i=ze();if(!e&&!n)return i;const s={prev:e,next:n};return tfe(s)?lfe({prev:s.prev,next:s.next,state:r}):Jde(s)?{change:Br({match:s.next,changeReason:"start"})}:efe(s)?cfe({$pos:o,match:s.prev,state:r}):Yde(s)?{change:Br({match:s.next,changeReason:"change-character"})}:Xde(s)?{change:Br({match:s.next,changeReason:r.selection.empty?"move":"selection-inside"})}:i}function OA(t,e){for(let n=t.depth;n>0;n--){const r=t.node(n);if(e.includes(r.type.name))return!0}return!1}function EE(t,e){const{$from:n,$to:r}=t;return QU(t,e)?!0:NV(n.pos,r.pos).some(o=>dfe(n.doc.resolve(o),e))}function QU(t,e){var n;const{$from:r,$to:o}=t,i=new Set(((n=r.marksAcross(o))!=null?n:[]).map(s=>s.type.name));return e.some(s=>i.has(s))}function dfe(t,e){const n=new Set(t.marks().map(r=>r.type.name));return e.some(r=>n.has(r))}function ffe(t,e){const{$cursor:n}=e,{validMarks:r,validNodes:o,invalidMarks:i,invalidNodes:s}=t;return!r&&!o&&ll(i)&&ll(s)?!0:!(r&&!QU(e,r)||o&&!OA(n,o)||!r&&EE(e,i)||!o&&OA(n,s))}function PA(t){const{suggesters:e,$pos:n,selectionEmpty:r}=t;for(const o of e)if(!(o.emptySelectionsOnly&&!r))try{const i=qU({suggester:o,$pos:n});if(!i)continue;const s={$from:n.doc.resolve(i.range.from),$to:n.doc.resolve(i.range.to),$cursor:n};if(ffe(o,s)&&o.isValidPosition(s,i))return i}catch{}}function kE(t){return rle(t)?t.source:t}function pfe(t){return t?"^":""}function hfe(t,e){return"(?:".concat(kE(t),"){").concat(e,",}")}function mfe(t){return Ye(t)?new RegExp(Hde(t)):t}function gfe(t){const{char:e,matchOffset:n,startOfLine:r,supportedCharacters:o,captureChar:i=!0,caseInsensitive:s=!1,multiline:a=!1,unicode:l=!1}=t,u="g".concat(a?"m":"").concat(s?"i":"").concat(l?"u":"");let d=mfe(e).source;return i&&(d="(".concat(d,")")),new RegExp("".concat(pfe(r)).concat(d).concat(hfe(o,n)),u)}var vfe={appendTransaction:!1,priority:50,ignoredTag:"span",matchOffset:0,disableDecorations:!1,startOfLine:!1,suggestClassName:"suggest",suggestTag:"span",supportedCharacters:/\w+/,validPrefixCharacters:/^[\s\0]?$/,invalidPrefixCharacters:null,ignoredClassName:null,invalidMarks:[],invalidNodes:[],validMarks:null,validNodes:null,isValidPosition:()=>!0,checkNextValidSelection:null,emptySelectionsOnly:!1,caseInsensitive:!1,multiline:!1,unicode:!1,captureChar:!0},YU="__ignore_prosemirror_suggest_update__",Dy,Rp,Nn,aa,Pu,Ti,Sn,la,Ru,yfe=class XU{constructor(e){hs(this,Dy,!1),hs(this,Rp,!1),hs(this,Nn),hs(this,aa),hs(this,Pu),hs(this,Ti,ze()),ps(this,"view"),hs(this,Sn,Rt.empty),hs(this,la,!1),hs(this,Ru,!1),ps(this,"setMarkRemoved",()=>{zt(this,la,!0)}),ps(this,"findNextTextSelection",r=>{const o=r.$from.doc,i=Math.min(o.nodeSize-2,r.to+1),s=o.resolve(i),a=mt.findFrom(s,1,!0);if(!!CA(a))return a}),ps(this,"ignoreNextExit",()=>{zt(this,Rp,!0)}),ps(this,"addIgnored",({from:r,name:o,specific:i=!1})=>{const s=ct(this,Nn).find(c=>c.name===o);if(!s)throw new Error("No suggester exists for the name provided: ".concat(o));const a=Ye(s.char)?s.char.length:1,l=r+a,u=s.ignoredClassName?{class:s.ignoredClassName}:{},d=qt.inline(r,l,Lm({nodeName:s.ignoredTag},u),{name:o,specific:i,char:s.char});zt(this,Sn,ct(this,Sn).add(this.view.state.doc,[d]))}),ps(this,"removeIgnored",({from:r,name:o})=>{const i=ct(this,Nn).find(l=>l.name===o);if(!i)throw new Error("No suggester exists for the name provided: ".concat(o));const s=Ye(i.char)?i.char.length:1,a=ct(this,Sn).find(r,r+s)[0];!a||a.spec.name!==o||zt(this,Sn,ct(this,Sn).remove([a]))}),ps(this,"clearIgnored",r=>{if(!r){zt(this,Sn,Rt.empty);return}const i=ct(this,Sn).find().filter(({spec:s})=>s.name===r);zt(this,Sn,ct(this,Sn).remove(i))}),ps(this,"findMatchAtPosition",(r,o)=>{const i=o?ct(this,Nn).filter(s=>s.name===o):ct(this,Nn);return PA({suggesters:i,$pos:r,docChanged:!1,selectionEmpty:!0})}),ps(this,"setLastChangeFromAppend",()=>{zt(this,Ru,!0)});const n=RA();zt(this,Nn,e.map(n)),zt(this,Nn,Yd(ct(this,Nn),(r,o)=>o.priority-r.priority))}static create(e){return new XU(e)}get decorationSet(){return ct(this,Sn)}get removed(){return ct(this,la)}get match(){return ct(this,aa)?ct(this,aa):ct(this,Pu)&&ct(this,Ti).exit?ct(this,Pu):void 0}init(e){return this.view=e,this}createProps(e){const{name:n,char:r}=e.suggester;return Lm({view:this.view,addIgnored:this.addIgnored,clearIgnored:this.clearIgnored,ignoreNextExit:this.ignoreNextExit,setMarkRemoved:this.setMarkRemoved,name:n,char:r},e)}shouldRunExit(){return ct(this,Rp)?(zt(this,Rp,!1),!1):!0}updateWithNextSelection(e){var n,r,o;const i=this.findNextTextSelection(e.selection);if(!!i)for(const s of ct(this,Nn)){const a=(n=ct(this,Ti).change)==null?void 0:n.suggester.name,l=(r=ct(this,Ti).exit)==null?void 0:r.suggester.name;(o=s.checkNextValidSelection)==null||o.call(s,i.$from,e,{change:a,exit:l})}}changeHandler(e,n){const{change:r,exit:o}=ct(this,Ti),i=this.match;if(!r&&!o||!kA(i))return;const s=n===(o==null?void 0:o.suggester.appendTransaction)&&this.shouldRunExit(),a=n===(r==null?void 0:r.suggester.appendTransaction);if(!(!s&&!a)){if(r&&o&&ife({change:r,exit:o})){const l=this.createProps(o),u=this.createProps(r),d=o.range.from<r.range.from;s&&o.suggester.onChange(l,e),a&&r.suggester.onChange(u,e),s&&zt(this,la,!1);return}r&&a&&r.suggester.onChange(this.createProps(r),e),o&&s&&(o.suggester.onChange(this.createProps(o),e),zt(this,la,!1),nfe(o.exitReason)&&zt(this,Ti,ze()))}}mapIgnoredDecorations(e){const n=ct(this,Sn).map(e.mapping,e.doc),o=n.find().filter(({from:i,to:s,spec:a})=>{const l=Ye(a.char)?a.char.length:1;return s-i!==l});zt(this,Sn,n.remove(o))}shouldIgnoreMatch({range:e,suggester:{name:n}}){return ct(this,Sn).find().some(({spec:i,from:s})=>s!==e.from?!1:i.specific?i.name===n:!0)}resetState(){zt(this,Ti,ze()),zt(this,aa,void 0),zt(this,la,!1),zt(this,Ru,!1)}updateReasons(e){const{$pos:n,state:r}=e,o=ct(this,Dy),i=ct(this,Nn),s=r.selection.empty,a=CA(r.selection)?PA({suggesters:i,$pos:n,docChanged:o,selectionEmpty:s}):void 0;zt(this,aa,a&&this.shouldIgnoreMatch(a)?void 0:a),zt(this,Ti,ufe({next:ct(this,aa),prev:ct(this,Pu),state:r,$pos:n}))}addSuggester(e){const n=ct(this,Nn).find(o=>o.name===e.name),r=RA();if(n)zt(this,Nn,ct(this,Nn).map(o=>o===n?r(e):o));else{const o=[...ct(this,Nn),r(e)];zt(this,Nn,Yd(o,(i,s)=>s.priority-i.priority))}return()=>this.removeSuggester(e.name)}removeSuggester(e){const n=Ye(e)?e:e.name;zt(this,Nn,ct(this,Nn).filter(r=>r.name!==n)),this.clearIgnored(n)}toJSON(){return this.match}apply(e){const{exit:n,change:r}=ct(this,Ti);if(ct(this,Ru)&&(zt(this,Ru,!1),!(n!=null&&n.suggester.appendTransaction)&&!(r!=null&&r.suggester.appendTransaction)))return this;const{tr:o,state:i}=e,s=o.docChanged||o.selectionSet;return o.getMeta(YU)||!s&&!ct(this,la)?this:(zt(this,Dy,o.docChanged),this.mapIgnoredDecorations(o),n&&this.resetState(),zt(this,Pu,ct(this,aa)),this.updateReasons({$pos:o.selection.$from,state:i}),this)}createDecorations(e){const n=this.match;if(!kA(n))return ct(this,Sn);const{disableDecorations:r}=n.suggester;if(Gt(r)?r(e,n):r)return ct(this,Sn);const{range:i,suggester:s}=n,{name:a,suggestTag:l,suggestClassName:u}=s,{from:d,to:c}=i;return this.shouldIgnoreMatch(n)?ct(this,Sn):ct(this,Sn).add(e.doc,[qt.inline(d,c,{nodeName:l,class:a?"".concat(u," suggest-").concat(a):u},{name:a})])}};Dy=new WeakMap;Rp=new WeakMap;Nn=new WeakMap;aa=new WeakMap;Pu=new WeakMap;Ti=new WeakMap;Sn=new WeakMap;la=new WeakMap;Ru=new WeakMap;var xfe=yfe;function RA(){const t=new Set;return e=>{if(t.has(e.name))throw new Error("A suggester already exists with the name '".concat(e.name,"'. The name provided must be unique."));const n=Lm(Lm({},vfe),e);return t.add(e.name),n}}var JU=new Cf("suggest");function hP(t){return JU.getState(t)}function TA(t,e){return hP(t).addSuggester(e)}function MA(t){t.setMeta(YU,!0)}function _fe(t,e){return hP(t).removeSuggester(e)}function wfe(...t){const e=xfe.create(t);return new El({key:JU,view:n=>(e.init(n),{update:r=>e.changeHandler(r.state.tr,!1)}),state:{init:()=>e,apply:(n,r,o,i)=>e.apply({tr:n,state:i})},appendTransaction:(n,r,o)=>{const i=o.tr;return e.updateWithNextSelection(i),e.changeHandler(i,!0),i.docChanged||i.steps.length>0||i.selectionSet||i.storedMarksSet?(e.setLastChangeFromAppend(),i):null},props:{decorations:n=>e.createDecorations(n)}})}var bfe=Object.defineProperty,Sfe=Object.defineProperties,Efe=Object.getOwnPropertyDescriptors,wx=Object.getOwnPropertySymbols,eH=Object.prototype.hasOwnProperty,tH=Object.prototype.propertyIsEnumerable,NA=(t,e,n)=>e in t?bfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nH=(t,e)=>{for(var n in e||(e={}))eH.call(e,n)&&NA(t,n,e[n]);if(wx)for(var n of wx(e))tH.call(e,n)&&NA(t,n,e[n]);return t},kfe=(t,e)=>Sfe(t,Efe(e)),Cfe=(t,e)=>{var n={};for(var r in t)eH.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&wx)for(var r of wx(t))e.indexOf(r)<0&&tH.call(t,r)&&(n[r]=t[r]);return n};function mP(t,e){const n=Object.getPrototypeOf(e);let r=t.selection,o=t.doc,i=t.storedMarks;const s=ze();for(const[a,l]of Object.entries(e))s[a]={value:l};return Object.create(n,kfe(nH({},s),{storedMarks:{get(){return i}},selection:{get(){return r}},doc:{get(){return o}},tr:{get(){return r=t.selection,o=t.doc,i=t.storedMarks,t}}}))}function Ah(t){return({state:e,dispatch:n,view:r,tr:o})=>t(mP(o,e),n,r)}function DA(t){return e=>{var n;return Ke(e.dispatch===void 0||e.dispatch===((n=e.view)==null?void 0:n.dispatch),{code:te.NON_CHAINABLE_COMMAND}),t(e)}}function Ofe(...t){return e=>{var n=e,{state:r,dispatch:o,view:i,tr:s}=n,a=Cfe(n,["state","dispatch","view","tr"]);for(const l of t)if(l(nH({state:r,dispatch:o,view:i,tr:s},a)))return!0;return!1}}var Pfe=Object.defineProperty,Rfe=Object.defineProperties,Tfe=Object.getOwnPropertyDescriptors,bx=Object.getOwnPropertySymbols,rH=Object.prototype.hasOwnProperty,oH=Object.prototype.propertyIsEnumerable,AA=(t,e,n)=>e in t?Pfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wn=(t,e)=>{for(var n in e||(e={}))rH.call(e,n)&&AA(t,n,e[n]);if(bx)for(var n of bx(e))oH.call(e,n)&&AA(t,n,e[n]);return t},rf=(t,e)=>Rfe(t,Tfe(e)),iH=(t,e)=>{var n={};for(var r in t)rH.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&bx)for(var r of bx(t))e.indexOf(r)<0&&oH.call(t,r)&&(n[r]=t[r]);return n},ai={get isBrowser(){return!!(typeof window<"u"&&typeof window.document<"u"&&window.navigator&&window.navigator.userAgent)},get isJSDOM(){return ai.isBrowser&&window.navigator.userAgent.includes("jsdom")},get isNode(){return typeof process<"u"&&process.versions!=null&&process.versions.node!=null},get isIos(){return ai.isBrowser&&/iPod|iPhone|iPad/.test(navigator.platform)},get isMac(){return ai.isBrowser&&/Mac|iPod|iPhone|iPad/.test(navigator.platform)},get isApple(){return ai.isNode?process.platform==="darwin":ai.isBrowser?/Mac|iPod|iPhone|iPad/.test(window.navigator.platform):!1},get isDevelopment(){return!1},get isTest(){return!1},get isProduction(){return!0}};function na(t,e){var n,r;const o=Xfe(t);return(r=(n=o==null?void 0:o.getComputedStyle(t))==null?void 0:n.getPropertyValue(e))!=null?r:""}function CE(t){return ir(t)&&Io(t.nodeType)&&Ye(t.nodeName)}function Er(t){return CE(t)&&t.nodeType===1}function gP(t){const{types:e,node:n}=t;if(!n)return!1;const r=o=>o===n.type||o===n.type.name;return Tn(e)?e.some(r):r(e)}function uw(t){const{predicate:e,selection:n}=t,r=lH(n)?n.selection.$from:yP(n)?n.$from:n;for(let o=r.depth;o>0;o--){const i=r.node(o),s=o>0?r.before(o):0,a=r.start(o),l=s+i.nodeSize;if(e(i,s))return{pos:s,depth:o,node:i,start:a,end:l}}}function Mfe(t){const{depth:e}=t,n=e>0?t.before(e):0,r=t.node(e),o=t.start(e),i=n+r.nodeSize;return{pos:n,start:o,node:r,end:i,depth:e}}function $m(t){const{types:e,selection:n}=t;return uw({predicate:r=>gP({types:e,node:r}),selection:n})}function Nfe(t){const{types:e,selection:n}=t;if(!(!fw(n)||!gP({types:e,node:n.node})))return{pos:n.$from.pos,depth:n.$from.depth,start:n.$from.start(),end:n.$from.pos+n.node.nodeSize,node:n.node}}function sH(t){return yP(t)?t.empty:t.selection.empty}function Dfe(t){return t.docChanged||t.selectionSet}function Afe(t){return!!zm(t)}function zm(t){var e;const{state:n,type:r,attrs:o}=t,{selection:i,doc:s}=n,a=Ye(r)?s.type.schema.nodes[r]:r;Ke(a,{code:te.SCHEMA,message:"No node exists for ".concat(r)});const l=(e=Nfe({selection:i,types:r}))!=null?e:uw({predicate:u=>u.type===a,selection:i});return!o||ix(o)||!l||l.node.hasMarkup(a,wn(wn({},l.node.attrs),o))?l:void 0}function Sx(...t){return e=>{if(!xD(t))return!1;const[n,...r]=t;let o=!1;const i=(...l)=>()=>{if(!xD(l))return!1;o=!0;const[,...u]=l;return Sx(...l)(rf(wn({},e),{next:i(...u)}))},s=i(...r),a=n(rf(wn({},e),{next:s}));return o||a?a:s()}}function Ife(t,e){var n;const r=new Map,o=ze();for(const i of t)for(const[s,a]of On(i)){const u=[...(n=r.get(s))!=null?n:[],a],d=Sx(...u);r.set(s,u),o[s]=e(d)}return o}function Lfe(t){return Ife(t,e=>(n,r,o)=>e({state:n,dispatch:r,view:o,tr:n.tr,next:()=>!1}))}function vP(t,e){var n;const r=(n=t.attrs)!=null?n:{};return Object.entries(e).every(([o,i])=>r[o]===i)}function Of(t){return ir(t)}function Pf(t,e){return Tn(e)?Yi(e,t[Us]):e===t[Us]}function $fe(t){return ir(t)&&t instanceof Tm}function zfe(t,e){return Ye(t)?tn(e.nodes,t):t}function aH(t){return ir(t)&&t instanceof Ng}function Ffe(t,e){return Ye(t)?tn(e.marks,t):t}function dw(t){return ir(t)&&t instanceof mi}function Bfe(t){return ir(t)&&t instanceof V}function jfe(t){return ir(t)&&t instanceof Et}function lH(t){return ir(t)&&t instanceof Yl}function Rf(t){return ir(t)&&t instanceof nt}function yP(t){return ir(t)&&t instanceof mt}function Vfe(t){return ir(t)&&t instanceof Xd}function IA(t){const{trState:e,from:n,to:r,type:o,attrs:i={}}=t,{doc:s}=e,a=Ffe(o,s.type.schema);if(Object.keys(i).length===0)return s.rangeHasMark(n,r,a);let l=!1;return r>n&&s.nodesBetween(n,r,u=>{var d;return l?!1:(l=((d=u.marks)!=null?d:[]).some(f=>f.type!==a?!1:vP(f,i)),!l)}),l}function fw(t){return ir(t)&&t instanceof qe}function cH(t){const{trState:e,type:n,attrs:r={},from:o,to:i}=t,{selection:s,doc:a,storedMarks:l}=e,u=Ye(n)?a.type.schema.marks[n]:n;if(Ke(u,{code:te.SCHEMA,message:"Mark type: ".concat(n," does not exist on the current schema.")}),o&&i)try{return Math.max(o,i)<a.nodeSize&&IA(rf(wn({},t),{from:o,to:i}))}catch{return!1}return s.empty?(l!=null?l:s.$from.marks()).some(c=>c.type!==n?!1:vP(c,r!=null?r:{})):IA(rf(wn({},t),{from:s.from,to:s.to}))}function xP(t,e={}){const n=Ufe(t.type.schema);if(!n)return!1;const{ignoreAttributes:r,ignoreDocAttributes:o}=e;return r?uH(n,t):o?n.content.eq(t.content):n.eq(t)}function uH(t,e){if(t===e)return!0;const n=t.type===e.type&&Et.sameSet(t.marks,e.marks);function r(){if(t.content===e.content)return!0;if(t.content.size!==e.content.size)return!1;const o=[],i=[];t.content.forEach(s=>o.push(s)),e.content.forEach(s=>i.push(s));for(const[s,a]of o.entries()){const l=i[s];if(!l||!uH(a,l))return!1}return!0}return n&&r()}function Ufe(t){var e,n;return(n=(e=t.nodes.doc)==null?void 0:e.createAndFill())!=null?n:void 0}function pw(t){for(const e of Object.values(t.nodes))if(e.name!=="doc"&&(e.isBlock||e.isTextblock))return e;Ke(!1,{code:te.SCHEMA,message:"No default block node found for the provided schema."})}function Hfe(t){return t.type===pw(t.type.schema)}function _P(t){return!!t&&t.type.isBlock&&!t.textContent&&!t.childCount}function eu(t,e,n){const r=t.parent.childAfter(t.parentOffset);if(!r.node)return;const o=Ye(e)?e:e.name,i=r.node.marks.find(({type:c})=>c.name===o);let s=t.index(),a=t.start()+r.offset,l=s+1,u=a+r.node.nodeSize;if(!i)return n&&u<n.pos?eu(t.doc.resolve(u+1),e,n):void 0;for(;s>0&&i.isInSet(t.parent.child(s-1).marks);)s-=1,a-=t.parent.child(s).nodeSize;for(;l<t.parent.childCount&&i.isInSet(t.parent.child(l).marks);)u+=t.parent.child(l).nodeSize,l+=1;const d=t.doc.textBetween(a,u,YO,`

`);return{from:a,to:u,text:d,mark:i}}function Wfe(t){var e,n;return(n=(e=t.content.firstChild)==null?void 0:e.textContent)!=null?n:""}function Kfe(t,e){if(!Rf(t.selection))return;let{from:n,to:r}=t.selection;const o=(s,a)=>Wfe(nt.between(t.doc.resolve(s),t.doc.resolve(a)).content());for(let s=o(n-1,n);s&&!e.test(s);n--,s=o(n-1,n));for(let s=o(r,r+1);s&&!e.test(s);r++,s=o(r,r+1));if(n===r)return;const i=t.doc.textBetween(n,r,YO,`

`);return{from:n,to:r,text:i}}function qfe(t){return Kfe(t,/\W/)}function LA(t,e=0){const n=Tn(t)?t[e]:t;return OV(Ye(n),"No match string found for match ".concat(t)),n!=null?n:""}function Gfe(t){return Rf(t)?t.$cursor:void 0}function Zfe(t,e){return dw(t)?e?t.type===e.nodes.doc:t.type.name==="doc":!1}function Qfe(t){return ir(t)&&Io(t.anchor)&&Io(t.head)}function bi(t,e){const n=e.nodeSize-2,r=0;let o;const i=l=>lle({min:r,max:n,value:l});if(yP(t))return t;if(t==="all")return new Wr(e);if(t==="start"?o=r:t==="end"?o=n:Vfe(t)?o=t.pos:o=t,Io(o))return o=i(o),nt.near(e.resolve(o));if(Qfe(o)){const l=i(o.anchor),u=i(o.head);return nt.between(e.resolve(l),e.resolve(u))}const s=i(o.from),a=i(o.to);return nt.between(e.resolve(s),e.resolve(a))}var Yfe=3;function dH(t){const{content:e,schema:n,document:r,stringHandler:o,onError:i,attempts:s=0}=t,a=i&&s<=Yfe||s===0;if(Ke(a,{code:te.INVALID_CONTENT,message:"The invalid content has been called recursively more than ${MAX_ATTEMPTS} times. The content is invalid and the error handler has not been able to recover properly."}),Ye(e))return Ke(o,{code:te.INVALID_CONTENT,message:"The string '".concat(e,"' was added to the editor, but no `stringHandler` was added. Please provide a valid string handler which transforms your content to a `ProsemirrorNode` to prevent this error.")}),o({document:r,content:e,schema:n});if(lH(e))return e.doc;if(dw(e))return e;try{return n.nodeFromJSON(e)}catch(l){const u=spe({schema:n,error:l,json:e}),d=i==null?void 0:i(u);return Ke(d,{code:te.INVALID_CONTENT,message:"An error occurred when processing the content. Please provide an `onError` handler to process the invalid content: ".concat(JSON.stringify(u.invalidContent,null,2))}),dH(rf(wn({},t),{content:d,attempts:s+1}))}}function hw(){const t=uU();if(t)return t;throw new Error(`Unable to retrieve the document from the global scope. 
It seems that you are running Remirror in a non-browser environment. Remirror need browser APIs to work. 
If you are using Jest (or other testing frameworks), make sure that you are using the JSDOM environment (https://jestjs.io/docs/29.0/configuration#testenvironment-string). 
If you are using Next.js (or other server-side rendering frameworks), please use dynamic import with \`ssr: false\` to load the editor component without rendering it on the server (https://nextjs.org/docs/advanced-features/dynamic-import#with-no-ssr). 
If you are using Node.js, you can install JSDOM and Remirror will try to use it automatically, or you can create a fake document and pass it to Remirror`)}function fH(t){var e,n,r;return(r=(e=t==null?void 0:t.defaultView)!=null?e:typeof window<"u"?window:void 0)!=null?r:(n=uU())==null?void 0:n.defaultView}function Xfe(t){return fH(t==null?void 0:t.ownerDocument)}function Jfe(t){var e;const n=(e=fH(t))!=null?e:hw().defaultView;if(n)return n;throw new Error("Unable to retrieve the window from the global scope")}function epe(t,e=hw()){const n=Zfe(t,t.type.schema)?t.content:V.from(t);return Gs.fromSchema(t.type.schema).serializeFragment(n,{document:e})}function tpe(t,e){return new(Jfe(e)).DOMParser().parseFromString("<body>".concat(t,"</body>"),"text/html").body}function npe(t,e=hw()){const n=e.createElement("div");return n.append(epe(t,e)),n.innerHTML}function OE(t){const e=t,{content:n,schema:r,document:o,fragment:i=!1}=e,s=iH(e,["content","schema","document","fragment"]),a=tpe(n,o),l=Jd.fromSchema(r);return i?l.parseSlice(a,wn(wn({},$A),s)).content:l.parse(a,wn(wn({},$A),s))}var $A={preserveWhitespace:!1};function rpe(t,e){const n=Pm(e.defaults());return XO(wn({},t),n)}function ope(t,e){let n="";e&&(n="".concat(e.trim()));const r=Sce(t);if(!r)return n;const o=(n.endsWith(";")," ");return"".concat(n).concat(o).concat(r)}var ipe={remove(t,e){let n=t;for(const r of e)r.invalidParentNode||(n=ule(r.path,n));return n}};function spe(t){var e=t,{json:n,schema:r}=e,o=iH(e,["json","schema"]);const i=new Set(Pm(r.marks)),s=new Set(Pm(r.nodes)),a=pH({json:n,path:[],validNodes:s,validMarks:i});return wn({json:n,invalidContent:a,transformers:ipe},o)}function pH(t){const{json:e,validMarks:n,validNodes:r,path:o=[]}=t,i={validMarks:n,validNodes:r},s=[],{type:a,marks:l,content:u}=e;let{invalidParentMark:d=!1,invalidParentNode:c=!1}=t;if(l){const f=[];for(const[p,m]of l.entries()){const g=Ye(m)?m:m.type;n.has(g)||(f.unshift({name:g,path:[...o,"marks","".concat(p)],type:"mark",invalidParentMark:d,invalidParentNode:c}),d=!0)}s.push(...f)}if(r.has(a)||(s.push({name:a,type:"node",path:o,invalidParentMark:d,invalidParentNode:c}),c=!0),u){const f=[];for(const[p,m]of u.entries())f.unshift(...pH(rf(wn({},i),{json:m,path:[...o,"content","".concat(p)],invalidParentMark:d,invalidParentNode:c})));s.unshift(...f)}return s}function ape(t){return!!(Rf(t)&&t.$cursor&&t.$cursor.parentOffset>=t.$cursor.parent.content.size)}function PE(t){return!!(Rf(t)&&t.$cursor&&t.$cursor.parentOffset<=0)}function zA(t){const e=mt.atStart(t.$anchor.doc);return!!(PE(t)&&e.anchor===t.anchor)}function lpe({tr:t,dispatch:e}){const{$from:n,$to:r}=t.selection,o=n.blockRange(r),i=o&&kf(o);return!Io(i)||!o?!1:(e==null||e(t.lift(o,i).scrollIntoView()),!0)}function hH(t,e={},n){return function(r){const{tr:o,dispatch:i,state:s}=r,a=Ye(t)?tn(s.schema.nodes,t):t,{from:l,to:u}=bi(n!=null?n:o.selection,o.doc),d=o.doc.resolve(l),c=o.doc.resolve(u),f=d.blockRange(c),p=f&&nP(f,a,e);return!p||!f?!1:(i==null||i(o.wrap(f,p).scrollIntoView()),!0)}}function mH(t,e={},n){return r=>{const{tr:o,state:i}=r,s=Ye(t)?tn(i.schema.nodes,t):t;return zm({state:o,type:s,attrs:e})?lpe(r):hH(t,e,n)(r)}}function Ex(t,e,n,r=!0){return function(o){const{tr:i,dispatch:s,state:a}=o,l=Ye(t)?tn(a.schema.nodes,t):t,{from:u,to:d}=bi(n!=null?n:i.selection,i.doc);let c=!1,f;return i.doc.nodesBetween(u,d,(p,m)=>{if(c)return!1;if(!p.isTextblock||p.hasMarkup(l,e))return;if(p.type===l){c=!0,f=p.attrs;return}const g=i.doc.resolve(m),x=g.index();c=g.parent.canReplaceWith(x,x+1,l),c&&(f=g.parent.attrs)}),c?(s==null||s(i.setBlockType(u,d,l,wn(wn({},r?f:{}),e)).scrollIntoView()),!0):!1}}function gH(t){return e=>{var n;const{tr:r,state:o}=e,{type:i,attrs:s,preserveAttrs:a=!0}=t,l=zm({state:r,type:i,attrs:s}),u=(n=t.toggleType)!=null?n:pw(o.schema);if(l)return Ex(u,wn(wn({},a?l.node.attrs:{}),s))(e);const d=zm({state:r,type:u,attrs:s});return Ex(i,wn(wn({},a?d==null?void 0:d.node.attrs:{}),s))(e)}}function cpe(t=0){const e=navigator.userAgent.match(/Chrom(e|ium)\/(\d+)\./);return e?Number.parseInt(tn(e,2),10)>=t:!1}function upe(t,e){let{head:n,empty:r,anchor:o}=t;for(const i of e.steps)n=i.getMap().map(n);r?e.setSelection(nt.near(e.doc.resolve(n))):e.setSelection(nt.between(e.doc.resolve(o),e.doc.resolve(n)))}function dpe(t){const{attrs:e={},appendText:n="",content:r="",keepSelection:o=!1,range:i}=t;return({state:s,tr:a,dispatch:l})=>{var u,d,c,f;const p=s.schema,m=bi((d=(u=t.selection)!=null?u:i)!=null?d:a.selection,a.doc),g=m.$from.index(),{from:x,to:v,$from:h}=m,_=Ye(t.type)?(c=p.nodes[t.type])!=null?c:p.marks[t.type]:t.type;if(Ke(Ye(t.type)?_:!0,{code:te.SCHEMA,message:"Schema contains no marks or nodes with name ".concat(_)}),$fe(_)){if(!h.parent.canReplaceWith(g,g,_))return!1;a.replaceWith(x,v,_.create(e,r?p.text(r):void 0))}else Ke(r,{message:"`replaceText` cannot be called without content when using a mark type"}),a.replaceWith(x,v,p.text(r,aH(_)?[_.create(e)]:void 0));return n&&a.insertText(n),o&&upe(s.selection,a),l&&(cpe(60)&&((f=document.getSelection())==null||f.empty()),l(a)),!0}}function vH(t,e){const n=t.parent.childAfter(t.parentOffset);if(!n.node)return;const{marks:r,nodeSize:o}=n.node;if(r[0])return r[0].type;const s=t.start()+n.offset+o;return vH(t.doc.resolve(s+1))}function fpe(t){return({dispatch:e,tr:n,state:r})=>{var o,i;const{type:s,expand:a=!0,range:l}=t,u=bi((i=(o=t.selection)!=null?o:l)!=null?i:n.selection,n.doc);let{from:d,to:c,$from:f,$to:p}=u;const m=Ye(s)?r.schema.marks[s]:s;m!==null&&Ke(m,{code:te.SCHEMA,message:"Mark type: ".concat(s," does not exist on the current schema.")});const g=m!=null?m:vH(f);if(!g)return!1;const x=eu(f,g,p);return a&&x&&(d=Math.max(0,Math.min(d,x.from)),c=Math.min(Math.max(c,x.to),n.doc.nodeSize-2)),e==null||e(n.removeMark(d,Io(c)?c:d,aH(m)?m:void 0)),!0}}function Fm(t){const{regexp:e,type:n,getAttributes:r,ignoreWhitespace:o=!1,beforeDispatch:i,updateCaptured:s,shouldSkip:a,invalidMarks:l}=t;let u;const d=new Fo(e,(c,f,p,m)=>{var g;const{tr:x,schema:v}=c;u||(u=Ye(n)?v.marks[n]:n,Ke(u,{code:te.SCHEMA,message:"Mark type: ".concat(n," does not exist on the current schema.")}));let h=f[1],_=f[0];const y=ppe({captureGroup:h,fullMatch:_,end:m,start:p,rule:d,state:c,ignoreWhitespace:o,invalidMarks:l,shouldSkip:a,updateCaptured:s});if(!y)return null;({start:p,end:m,captureGroup:h,fullMatch:_}=y);const S=Gt(r)?r(f):r;let O=m,k=[];if(h){const E=_.search(/\S/),T=p+_.indexOf(h),D=T+h.length;k=(g=x.storedMarks)!=null?g:[],D<m&&x.delete(D,m),T>p&&x.delete(p+E,T),O=p+E+h.length}return x.addMark(p,O,u.create(S)),x.setStoredMarks(k),i==null||i({tr:x,match:f,start:p,end:m}),x});return d}function ppe({captureGroup:t,fullMatch:e,end:n,start:r,rule:o,ignoreWhitespace:i,shouldSkip:s,updateCaptured:a,state:l,invalidMarks:u}){var d,c,f,p,m,g;if(e==null)return null;const x=(d=a==null?void 0:a({captureGroup:t,fullMatch:e,start:r,end:n}))!=null?d:{};t=(c=x.captureGroup)!=null?c:t,e=(f=x.fullMatch)!=null?f:e,r=(p=x.start)!=null?p:r,n=(m=x.end)!=null?m:n;const v=l.doc.resolve(r),h=l.doc.resolve(n);return u&&EE({$from:v,$to:h},u)||o.invalidMarks&&EE({$from:v,$to:h},o.invalidMarks)||i&&(t==null?void 0:t.trim())===""||(s==null?void 0:s({state:l,captureGroup:t,fullMatch:e,start:r,end:n,ruleType:"mark"}))||((g=o.shouldSkip)==null?void 0:g.call(o,{state:l,captureGroup:t,fullMatch:e,start:r,end:n,ruleType:"mark"}))?null:{captureGroup:t,end:n,fullMatch:e,start:r}}const yH=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function hpe(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const xH=(t,e,n)=>{let r=hpe(t,n);if(!r)return!1;let o=_H(r);if(!o){let s=r.blockRange(),a=s&&kf(s);return a==null?!1:(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)}let i=o.nodeBefore;if(SH(t,o,e,-1))return!0;if(r.parent.content.size==0&&(of(i,"end")||qe.isSelectable(i)))for(let s=r.depth;;s--){let a=rP(t.doc,r.before(s),r.after(s),ue.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(of(i,"end")?mt.findFrom(l.doc.resolve(l.mapping.map(o.pos,-1)),-1):qe.create(l.doc,o.pos-i.nodeSize)),e(l.scrollIntoView())}return!0}if(s==1||r.node(s-1).childCount>1)break}return i.isAtom&&o.depth==r.depth-1?(e&&e(t.tr.delete(o.pos-i.nodeSize,o.pos).scrollIntoView()),!0):!1};function of(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const mpe=(t,e,n)=>{let{$head:r,empty:o}=t.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;i=_H(r)}let s=i&&i.nodeBefore;return!s||!qe.isSelectable(s)?!1:(e&&e(t.tr.setSelection(qe.create(t.doc,i.pos-s.nodeSize)).scrollIntoView()),!0)};function _H(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function gpe(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const vpe=(t,e,n)=>{let r=gpe(t,n);if(!r)return!1;let o=wH(r);if(!o)return!1;let i=o.nodeAfter;if(SH(t,o,e,1))return!0;if(r.parent.content.size==0&&(of(i,"start")||qe.isSelectable(i))){let s=rP(t.doc,r.before(),r.after(),ue.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=t.tr.step(s);a.setSelection(of(i,"start")?mt.findFrom(a.doc.resolve(a.mapping.map(o.pos)),1):qe.create(a.doc,a.mapping.map(o.pos))),e(a.scrollIntoView())}return!0}}return i.isAtom&&o.depth==r.depth-1?(e&&e(t.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),!0):!1},ype=(t,e,n)=>{let{$head:r,empty:o}=t.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;i=wH(r)}let s=i&&i.nodeAfter;return!s||!qe.isSelectable(s)?!1:(e&&e(t.tr.setSelection(qe.create(t.doc,i.pos)).scrollIntoView()),!0)};function wH(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const xpe=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function wP(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const bH=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let o=n.node(-1),i=n.indexAfter(-1),s=wP(o.contentMatchAt(i));if(!s||!o.canReplaceWith(i,i,s))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,s.createAndFill());l.setSelection(mt.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},_pe=(t,e)=>{let n=t.selection,{$from:r,$to:o}=n;if(n instanceof Wr||r.parent.inlineContent||o.parent.inlineContent)return!1;let i=wP(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let s=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,a=t.tr.insert(s,i.createAndFill());a.setSelection(nt.create(a.doc,s+1)),e(a.scrollIntoView())}return!0},wpe=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(pd(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),o=r&&kf(r);return o==null?!1:(e&&e(t.tr.lift(r,o).scrollIntoView()),!0)};function bpe(t){return(e,n)=>{let{$from:r,$to:o}=e.selection;if(e.selection instanceof qe&&e.selection.node.isBlock)return!r.parentOffset||!pd(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(n){let i=o.parentOffset==o.parent.content.size,s=e.tr;(e.selection instanceof nt||e.selection instanceof Wr)&&s.deleteSelection();let a=r.depth==0?null:wP(r.node(-1).contentMatchAt(r.indexAfter(-1))),l=t&&t(o.parent,i,r),u=l?[l]:i&&a?[{type:a}]:void 0,d=pd(s.doc,s.mapping.map(r.pos),1,u);if(!u&&!d&&pd(s.doc,s.mapping.map(r.pos),1,a?[{type:a}]:void 0)&&(a&&(u=[{type:a}]),d=!0),d&&(s.split(s.mapping.map(r.pos),1,u),!i&&!r.parentOffset&&r.parent.type!=a)){let c=s.mapping.map(r.before()),f=s.doc.resolve(c);a&&r.node(-1).canReplaceWith(f.index(),f.index()+1,a)&&s.setNodeMarkup(s.mapping.map(r.before()),a)}n(s.scrollIntoView())}return!0}}const Spe=bpe(),Epe=(t,e)=>{let{$from:n,to:r}=t.selection,o,i=n.sharedDepth(r);return i==0?!1:(o=n.before(i),e&&e(t.tr.setSelection(qe.create(t.doc,o))),!0)},kpe=(t,e)=>(e&&e(t.tr.setSelection(new Wr(t.doc))),!0);function Cpe(t,e,n){let r=e.nodeBefore,o=e.nodeAfter,i=e.index();return!r||!o||!r.type.compatibleContent(o.type)?!1:!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(o.isTextblock||Dg(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function SH(t,e,n,r){let o=e.nodeBefore,i=e.nodeAfter,s,a,l=o.type.spec.isolating||i.type.spec.isolating;if(!l&&Cpe(t,e,n))return!0;let u=!l&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(s=(a=o.contentMatchAt(o.childCount)).findWrapping(i.type))&&a.matchType(s[0]||i.type).validEnd){if(n){let p=e.pos+i.nodeSize,m=V.empty;for(let v=s.length-1;v>=0;v--)m=V.from(s[v].create(null,m));m=V.from(o.copy(m));let g=t.tr.step(new Rn(e.pos-1,p,e.pos,p,new ue(m,1,0),s.length,!0)),x=p+2*s.length;Dg(g.doc,x)&&g.join(x),n(g.scrollIntoView())}return!0}let d=i.type.spec.isolating||r>0&&l?null:mt.findFrom(e,1),c=d&&d.$from.blockRange(d.$to),f=c&&kf(c);if(f!=null&&f>=e.depth)return n&&n(t.tr.lift(c,f).scrollIntoView()),!0;if(u&&of(i,"start",!0)&&of(o,"end")){let p=o,m=[];for(;m.push(p),!p.isTextblock;)p=p.lastChild;let g=i,x=1;for(;!g.isTextblock;g=g.firstChild)x++;if(p.canReplace(p.childCount,p.childCount,g.content)){if(n){let v=V.empty;for(let _=m.length-1;_>=0;_--)v=V.from(m[_].copy(v));let h=t.tr.step(new Rn(e.pos-m.length,e.pos+i.nodeSize,e.pos+x,e.pos+i.nodeSize-x,new ue(v,m.length,0),0,!0));n(h.scrollIntoView())}return!0}}return!1}function EH(t){return function(e,n){let r=e.selection,o=t<0?r.$from:r.$to,i=o.depth;for(;o.node(i).isInline;){if(!i)return!1;i--}return o.node(i).isTextblock?(n&&n(e.tr.setSelection(nt.create(e.doc,t<0?o.start(i):o.end(i)))),!0):!1}}const Ope=EH(-1),Ppe=EH(1);function Rpe(t,e,n,r){for(let o=0;o<e.length;o++){let{$from:i,$to:s}=e[o],a=i.depth==0?t.inlineContent&&t.type.allowsMarkType(n):!1;if(t.nodesBetween(i.pos,s.pos,(l,u)=>{if(a||!r&&l.isAtom&&l.isInline&&u>=i.pos&&u+l.nodeSize<=s.pos)return!1;a=l.inlineContent&&l.type.allowsMarkType(n)}),a)return!0}return!1}function Tpe(t){let e=[];for(let n=0;n<t.length;n++){let{$from:r,$to:o}=t[n];r.doc.nodesBetween(r.pos,o.pos,(i,s)=>{if(i.isAtom&&i.content.size&&i.isInline&&s>=r.pos&&s+i.nodeSize<=o.pos)return s+1>r.pos&&e.push(new fE(r,r.doc.resolve(s+1))),r=r.doc.resolve(s+1+i.content.size),!1}),r.pos<o.pos&&e.push(new fE(r,o))}return e}function Mpe(t,e=null,n){let r=(n&&n.removeWhenPresent)!==!1,o=(n&&n.enterInlineAtoms)!==!1;return function(i,s){let{empty:a,$cursor:l,ranges:u}=i.selection;if(a&&!l||!Rpe(i.doc,u,t,o))return!1;if(s)if(l)t.isInSet(i.storedMarks||l.marks())?s(i.tr.removeStoredMark(t)):s(i.tr.addStoredMark(t.create(e)));else{let d,c=i.tr;o||(u=Tpe(u)),r?d=!u.some(f=>i.doc.rangeHasMark(f.$from.pos,f.$to.pos,t)):d=!u.every(f=>{let p=!1;return c.doc.nodesBetween(f.$from.pos,f.$to.pos,(m,g,x)=>{if(p)return!1;p=!t.isInSet(m.marks)&&!!x&&x.type.allowsMarkType(t)&&!(m.isText&&/^\s*$/.test(m.textBetween(Math.max(0,f.$from.pos-g),Math.min(m.nodeSize,f.$to.pos-g))))}),!p});for(let f=0;f<u.length;f++){let{$from:p,$to:m}=u[f];if(!d)c.removeMark(p.pos,m.pos,t);else{let g=p.pos,x=m.pos,v=p.nodeAfter,h=m.nodeBefore,_=v&&v.isText?/^\s*/.exec(v.text)[0].length:0,y=h&&h.isText?/\s*$/.exec(h.text)[0].length:0;g+_<x&&(g+=_,x-=y),c.addMark(g,x,t.create(e))}}s(c.scrollIntoView())}return!0}}function mw(...t){return function(e,n,r){for(let o=0;o<t.length;o++)if(t[o](e,n,r))return!0;return!1}}let Wb=mw(yH,xH,mpe),FA=mw(yH,vpe,ype);const Es={Enter:mw(xpe,_pe,wpe,Spe),"Mod-Enter":bH,Backspace:Wb,"Mod-Backspace":Wb,"Shift-Backspace":Wb,Delete:FA,"Mod-Delete":FA,"Mod-a":kpe},kH={"Ctrl-h":Es.Backspace,"Alt-Backspace":Es["Mod-Backspace"],"Ctrl-d":Es.Delete,"Ctrl-Alt-Backspace":Es["Mod-Delete"],"Alt-Delete":Es["Mod-Delete"],"Alt-d":Es["Mod-Delete"],"Ctrl-a":Ope,"Ctrl-e":Ppe};for(let t in Es)kH[t]=Es[t];const Npe=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,Kb=Npe?kH:Es;var cl={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},kx={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Dpe=typeof navigator<"u"&&/Mac/.test(navigator.platform),Ape=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Un=0;Un<10;Un++)cl[48+Un]=cl[96+Un]=String(Un);for(var Un=1;Un<=24;Un++)cl[Un+111]="F"+Un;for(var Un=65;Un<=90;Un++)cl[Un]=String.fromCharCode(Un+32),kx[Un]=String.fromCharCode(Un);for(var qb in cl)kx.hasOwnProperty(qb)||(kx[qb]=cl[qb]);function Ipe(t){var e=Dpe&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||Ape&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?kx:cl)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Lpe=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function $pe(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,o,i,s;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))Lpe?s=!0:o=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),o&&(n="Ctrl-"+n),s&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function zpe(t){let e=Object.create(null);for(let n in t)e[$pe(n)]=t[n];return e}function Gb(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function CH(t){let e=zpe(t);return function(n,r){let o=Ipe(r),i,s=e[Gb(o,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(o.length==1&&o!=" "){if(r.shiftKey){let a=e[Gb(o,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||o.charCodeAt(0)>127)&&(i=cl[r.keyCode])&&i!=o){let a=e[Gb(i,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}function Fpe(t){const e=Yd(t,(i,s)=>{var a,l;return((a=s.priority)!=null?a:At.Low)-((l=i.priority)!=null?l:At.Low)}),n=[],r=[];for(const i of e)Kpe(i)?n.push(i):r.push(i);let o;return new El({key:Bpe,view:i=>(o=i,{}),props:{transformPasted:i=>{var s,a,l,u;const d=o.state.selection.$from,c=d.node().type.name,f=new Set(d.marks().map(p=>p.type.name));for(const p of n){if(((s=p.ignoredNodes)==null?void 0:s.includes(c))||((a=p.ignoredMarks)==null?void 0:a.some(_=>f.has(_))))continue;const m=(u=(l=i.content.firstChild)==null?void 0:l.textContent)!=null?u:"",g=!o.state.selection.empty&&i.content.childCount===1&&m,x=eP(m,p.regexp)[0];if(g&&x&&p.type==="mark"&&p.replaceSelection){const{from:_,to:y}=o.state.selection,S=o.state.doc.slice(_,y),O=S.content.textBetween(0,S.content.size);if(typeof p.replaceSelection!="boolean"?p.replaceSelection(O):p.replaceSelection){const k=[],{getAttributes:E,markType:T}=p,D=Gt(E)?E(x,!0):E,j=T.create(D);return S.content.forEach(A=>{if(A.isText){const K=j.addToSet(A.marks);k.push(A.mark(K))}}),ue.maxOpen(V.fromArray(k))}}const{nodes:v,transformed:h}=Hpe(i.content,p,o.state.schema);h&&(i=p.type==="node"&&p.nodeType.isBlock?new ue(V.fromArray(v),0,0):new ue(V.fromArray(v),i.openStart,i.openEnd))}return Qpe(i)},handleDOMEvents:{paste:(i,s)=>{var a,l;const u=s;if(!((l=(a=i.props).editable)!=null&&l.call(a,i.state)))return!1;const{clipboardData:d}=u;if(!d)return!1;const c=[...d.items].map(p=>p.getAsFile()).filter(p=>!!p);if(c.length===0)return!1;const{selection:f}=i.state;for(const{fileHandler:p,regexp:m}of r){const g=m?c.filter(x=>m.test(x.type)):c;if(g.length!==0&&p({event:u,files:g,selection:f,view:i,type:"paste"}))return u.preventDefault(),!0}return!1},drop:(i,s)=>{var a,l,u,d;const c=s;if(!((l=(a=i.props).editable)!=null&&l.call(a,i.state)))return!1;const{dataTransfer:f,clientX:p,clientY:m}=c;if(!f)return!1;const g=Zpe(c);if(g.length===0)return!1;const x=(d=(u=i.posAtCoords({left:p,top:m}))==null?void 0:u.pos)!=null?d:i.state.selection.anchor;for(const{fileHandler:v,regexp:h}of r){const _=h?g.filter(y=>h.test(y.type)):g;if(_.length!==0&&v({event:c,files:_,pos:x,view:i,type:"drop"}))return c.preventDefault(),!0}return!1}}}})}var Bpe=new Cf("pasteRule");function Zb(t,e){return function n(r){const{fragment:o,rule:i,nodes:s}=r,{regexp:a,ignoreWhitespace:l,ignoredMarks:u,ignoredNodes:d}=i;let c=!1;return o.forEach(f=>{var p;if((d==null?void 0:d.includes(f.type.name))||qpe(f)){s.push(f);return}if(!f.isText){const x=n({fragment:f.content,rule:i,nodes:[]});c||(c=x.transformed);const v=V.fromArray(x.nodes);f.type.validContent(v)?s.push(f.copy(v)):s.push(...x.nodes);return}if(f.marks.some(x=>Gpe(x)||(u==null?void 0:u.includes(x.type.name)))){s.push(f);return}const m=(p=f.text)!=null?p:"";let g=0;for(const x of eP(m,a)){const v=x[1],h=x[0];if(l&&(v==null?void 0:v.trim())===""||!h)return;const _=x.index,y=_+h.length;_>g&&s.push(f.cut(g,_));let S=f.cut(_,y);if(h&&v){const O=h.search(/\S/),k=_+h.indexOf(v),E=k+v.length;O&&s.push(f.cut(_,_+O)),S=f.cut(k,E)}t({nodes:s,rule:i,textNode:S,match:x,schema:e}),c=!0,g=y}m&&g<m.length&&s.push(f.cut(g))}),{nodes:s,transformed:c}}}function jpe(t){var e;const{nodes:n,rule:r,textNode:o,match:i,schema:s}=t,{transformMatch:a,getAttributes:l,markType:u}=r,d=Gt(l)?l(i,!1):l,c=(e=o.text)!=null?e:"",f=u.create(d),p=a==null?void 0:a(i);if(p==="")return;if(p===!1){n.push(s.text(c,o.marks));return}const m=f.addToSet(o.marks);n.push(s.text(p!=null?p:c,m))}function Vpe(t){var e;const{nodes:n,rule:r,textNode:o,match:i,schema:s}=t,{transformMatch:a}=r,l=a==null?void 0:a(i);if(l===""||l===!1)return;const u=(e=l!=null?l:o.text)!=null?e:"";n.push(s.text(u,o.marks))}function Upe(t){const{nodes:e,rule:n,textNode:r,match:o}=t,{getAttributes:i,nodeType:s,getContent:a}=n,l=Gt(i)?i(o,!1):i,u=(a?a(o):r)||void 0;e.push(s.createChecked(l,u))}function Hpe(t,e,n){const r=[];switch(e.type){case"mark":return Zb(jpe,n)({fragment:t,nodes:r,rule:e});case"node":return Zb(Upe,n)({fragment:t,nodes:r,rule:e});default:return Zb(Vpe,n)({fragment:t,nodes:r,rule:e})}}var Wpe=["mark","node","text"];function Kpe(t){return Yi(Wpe,t.type)}function qpe(t){var e;return t.type.spec.code||((e=t.type.spec.group)==null?void 0:e.split(" ").includes("code"))}function Gpe(t){var e;return t.type.name==="code"||((e=t.type.spec.group)==null?void 0:e.split(" ").includes("code"))}function Zpe(t){var e,n;const{dataTransfer:r}=t;return r?((e=r.files)==null?void 0:e.length)>0?[...r.files]:(n=r.items)!=null&&n.length?[...r.items].map(o=>o.getAsFile()).filter(o=>!!o):[]:[]}function Qpe(t){const e=ue.maxOpen(t.content);return e.openStart<t.openStart||e.openEnd<t.openEnd?e:t}let gw=()=>({events:{},emit(t,...e){(this.events[t]||[]).forEach(n=>n(...e))},on(t,e){return(this.events[t]=this.events[t]||[]).push(e),()=>this.events[t]=(this.events[t]||[]).filter(n=>n!==e)}});var Ype=Object.create,bP=Object.defineProperty,Xpe=Object.defineProperties,Jpe=Object.getOwnPropertyDescriptor,ehe=Object.getOwnPropertyDescriptors,Cx=Object.getOwnPropertySymbols,OH=Object.prototype.hasOwnProperty,PH=Object.prototype.propertyIsEnumerable,RH=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),Tf=t=>{throw TypeError(t)},Ox=(t,e,n)=>e in t?bP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,je=(t,e)=>{for(var n in e||(e={}))OH.call(e,n)&&Ox(t,n,e[n]);if(Cx)for(var n of Cx(e))PH.call(e,n)&&Ox(t,n,e[n]);return t},Pn=(t,e)=>Xpe(t,ehe(e)),BA=(t,e)=>bP(t,"name",{value:e,configurable:!0}),SP=(t,e)=>{var n={};for(var r in t)OH.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Cx)for(var r of Cx(t))e.indexOf(r)<0&&PH.call(t,r)&&(n[r]=t[r]);return n},Ci=t=>{var e;return[,,,Ype((e=t==null?void 0:t[RH("metadata")])!=null?e:null)]},TH=["class","method","getter","setter","accessor","field","value","get","set"],Tp=t=>t!==void 0&&typeof t!="function"?Tf("Function expected"):t,the=(t,e,n,r,o)=>({kind:TH[t],name:e,metadata:r,addInitializer:i=>n._?Tf("Already initialized"):o.push(Tp(i||null))}),nhe=(t,e)=>Ox(e,RH("metadata"),t[3]),ar=(t,e,n,r)=>{for(var o=0,i=t[e>>1],s=i&&i.length;o<s;o++)e&1?i[o].call(n):r=i[o].call(n,r);return r},Ce=(t,e,n,r,o,i)=>{var s,a,l,u,d,c=e&7,f=!!(e&8),p=!!(e&16),m=c>3?t.length+1:c?f?1:2:0,g=TH[c+5],x=c>3&&(t[m-1]=[]),v=t[m]||(t[m]=[]),h=c&&(!p&&!f&&(o=o.prototype),c<5&&(c>3||!p)&&Jpe(c<4?o:{get[n](){return ce(this,i)},set[n](y){return yn(this,i,y)}},n));c?p&&c<4&&BA(i,(c>2?"set ":c>1?"get ":"")+n):BA(o,n);for(var _=r.length-1;_>=0;_--)u=the(c,n,l={},t[3],v),c&&(u.static=f,u.private=p,d=u.access={has:p?y=>rhe(o,y):y=>n in y},c^3&&(d.get=p?y=>(c^1?ce:ohe)(y,o,c^4?i:h.get):y=>y[n]),c>2&&(d.set=p?(y,S)=>yn(y,o,S,c^4?i:h.set):(y,S)=>y[n]=S)),a=(0,r[_])(c?c<4?p?i:h[g]:c>4?void 0:{get:h.get,set:h.set}:o,u),l._=1,c^4||a===void 0?Tp(a)&&(c>4?x.unshift(a):c?p?i=a:h[g]=a:o=a):typeof a!="object"||a===null?Tf("Object expected"):(Tp(s=a.get)&&(h.get=s),Tp(s=a.set)&&(h.set=s),Tp(s=a.init)&&x.unshift(s));return c||nhe(t,o),h&&bP(o,n,h),p?c^4?i:h:o},Se=(t,e,n)=>Ox(t,typeof e!="symbol"?e+"":e,n),EP=(t,e,n)=>e.has(t)||Tf("Cannot "+n),rhe=(t,e)=>Object(e)!==e?Tf('Cannot use the "in" operator on this value'):t.has(e),ce=(t,e,n)=>(EP(t,e,"read from private field"),n?n.call(t):e.get(t)),vn=(t,e,n)=>e.has(t)?Tf("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),yn=(t,e,n,r)=>(EP(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ohe=(t,e,n)=>(EP(t,e,"access private method"),n);function ihe(t,e){return t===e}function jA(t){const{previousOptions:e,update:n,equals:r=ihe}=t,o=Ql(je(je({},e),n)),i=ze(),s=Pm(e);for(const l of s){const u=e[l],d=o[l];if(r(u,d)){i[l]={changed:!1};continue}i[l]={changed:!0,previousValue:u,value:d}}const a=l=>{const u=ze();for(const d of l){const c=i[d];c!=null&&c.changed&&(u[d]=c.value)}return u};return{changes:Ql(i),options:o,pickChanged:a}}var she={[te.DUPLICATE_HELPER_NAMES]:"helper method",[te.DUPLICATE_COMMAND_NAMES]:"command method"};function MH(t){const{name:e,set:n,code:r}=t,o=she[r];Ke(!n.has(e),{code:r,message:"There is a naming conflict for the name: ".concat(e," used in this '").concat(o,"'. Please rename or remove from the editor to avoid runtime errors.")}),n.add(e)}var VA="__IGNORE__",ahe="__ALL__",Mf=class{constructor(t,...[e]){Se(this,"~O",{}),Se(this,"_initialOptions"),Se(this,"_dynamicKeys"),Se(this,"_options"),Se(this,"_mappedHandlers"),Se(this,"onAddCustomHandler"),this._mappedHandlers=ze(),this.populateMappedHandlers(),this._options=this._initialOptions=MV(t,this.constructor.defaultOptions,e!=null?e:ze(),this.createDefaultHandlerOptions()),this._dynamicKeys=this.getDynamicKeys(),this.init()}get options(){return this._options}get dynamicKeys(){return this._dynamicKeys}get initialOptions(){return this._initialOptions}init(){}getDynamicKeys(){const t=[],{customHandlerKeys:e,handlerKeys:n,staticKeys:r}=this.constructor;for(const o of Pm(this._options))r.includes(o)||n.includes(o)||e.includes(o)||t.push(o);return t}ensureAllKeysAreDynamic(t){}setOptions(t){var e;const n=this.getDynamicOptions();this.ensureAllKeysAreDynamic(t);const{changes:r,options:o,pickChanged:i}=jA({previousOptions:n,update:t});this.updateDynamicOptions(o),(e=this.onSetOptions)==null||e.call(this,{reason:"set",changes:r,options:o,pickChanged:i,initialOptions:this._initialOptions})}resetOptions(){var t;const e=this.getDynamicOptions(),{changes:n,options:r,pickChanged:o}=jA({previousOptions:e,update:this._initialOptions});this.updateDynamicOptions(r),(t=this.onSetOptions)==null||t.call(this,{reason:"reset",options:r,changes:n,pickChanged:o,initialOptions:this._initialOptions})}getDynamicOptions(){return XO(this._options,[...this.constructor.customHandlerKeys,...this.constructor.handlerKeys])}updateDynamicOptions(t){this._options=je(je({},this._options),t)}populateMappedHandlers(){for(const t of this.constructor.handlerKeys)this._mappedHandlers[t]=[]}createDefaultHandlerOptions(){const t=ze();for(const e of this.constructor.handlerKeys)t[e]=(...n)=>{var r;const{handlerKeyOptions:o}=this.constructor,i=(r=o[e])==null?void 0:r.reducer;let s=i==null?void 0:i.getDefault(...n);for(const[,a]of this._mappedHandlers[e]){const l=a(...n);if(s=i?i.accumulator(s,l,...n):l,lhe(o,s,e))return s}return s};return t}addHandler(t,e,n=At.Default){return this._mappedHandlers[t].push([n,e]),this.sortHandlers(t),()=>this._mappedHandlers[t]=this._mappedHandlers[t].filter(([,r])=>r!==e)}hasHandlers(t){var e;return((e=this._mappedHandlers[t])!=null?e:[]).length>0}sortHandlers(t){this._mappedHandlers[t]=Yd(this._mappedHandlers[t],([e],[n])=>n-e)}addCustomHandler(t,e){var n,r;return(r=(n=this.onAddCustomHandler)==null?void 0:n.call(this,{[t]:e}))!=null?r:TV}};Se(Mf,"defaultOptions",{});Se(Mf,"staticKeys",[]);Se(Mf,"handlerKeys",[]);Se(Mf,"handlerKeyOptions",{});Se(Mf,"customHandlerKeys",[]);function lhe(t,e,n){const{[ahe]:r}=t,o=t[n];return!r&&!o?!1:!!(o&&o.earlyReturnValue!==VA&&(Gt(o.earlyReturnValue)?o.earlyReturnValue(e)===!0:e===o.earlyReturnValue)||r&&r.earlyReturnValue!==VA&&(Gt(r.earlyReturnValue)?r.earlyReturnValue(e)===!0:e===r.earlyReturnValue))}var vw=class extends Mf{constructor(...t){super(che,...t),Se(this,"priorityOverride"),Se(this,"_extensions"),Se(this,"extensionMap"),Se(this,"_store"),Se(this,"~E",{}),this._extensions=fle(this.createExtensions(),e=>e.constructor),this.extensionMap=new Map;for(const e of this._extensions)this.extensionMap.set(e.constructor,e)}get priority(){var t,e;return(e=(t=this.priorityOverride)!=null?t:this.options.priority)!=null?e:this.constructor.defaultPriority}get constructorName(){return"".concat(kV(this.name),"Extension")}get store(){return Ke(this._store,{code:te.MANAGER_PHASE_ERROR,message:"An error occurred while attempting to access the 'extension.store' when the Manager has not yet set created the lifecycle methods."}),Ql(this._store,{requireKeys:!0})}get extensions(){return this._extensions}replaceChildExtension(t,e){!this.extensionMap.has(t)||(this.extensionMap.set(t,e),this._extensions=this.extensions.map(n=>e.constructor===t?e:n))}createExtensions(){return[]}getExtension(t){const e=this.extensionMap.get(t);return Ke(e,{code:te.INVALID_GET_EXTENSION,message:"'".concat(t.name,"' does not exist within the preset: '").concat(this.name,"'")}),e}isOfType(t){return this.constructor===t}setStore(t){this._store||(this._store=t)}clone(...t){return new this.constructor(...t)}setPriority(t){this.priorityOverride=t}};Se(vw,"defaultPriority",At.Default);var Zt=class extends vw{static get[Us](){return Ln.PlainExtensionConstructor}get[Us](){return Ln.PlainExtension}},tu=class extends vw{static get[Us](){return Ln.MarkExtensionConstructor}get[Us](){return Ln.MarkExtension}get type(){return tn(this.store.schema.marks,this.name)}constructor(...t){super(...t)}};Se(tu,"disableExtraAttributes",!1);var Bo=class extends vw{static get[Us](){return Ln.NodeExtensionConstructor}get[Us](){return Ln.NodeExtension}get type(){return tn(this.store.schema.nodes,this.name)}constructor(...t){super(...t)}};Se(Bo,"disableExtraAttributes",!1);var che={priority:void 0,extraAttributes:{},disableExtraAttributes:!1,exclude:{}};function NH(t){return Of(t)&&Pf(t,[Ln.PlainExtension,Ln.MarkExtension,Ln.NodeExtension])}function uhe(t){return Of(t)&&Pf(t,[Ln.PlainExtensionConstructor,Ln.MarkExtensionConstructor,Ln.NodeExtensionConstructor])}function DH(t){return Of(t)&&Pf(t,Ln.PlainExtension)}function $g(t){return Of(t)&&Pf(t,Ln.NodeExtension)}function yw(t){return Of(t)&&Pf(t,Ln.MarkExtension)}function kt(t){return(e,n)=>{if(n&&n.kind!=="class")throw new Error("The extension decorator can only be used on a class.");const r=t,{defaultOptions:o,customHandlerKeys:i,handlerKeys:s,staticKeys:a,defaultPriority:l,handlerKeyOptions:u}=r,d=SP(r,["defaultOptions","customHandlerKeys","handlerKeys","staticKeys","defaultPriority","handlerKeyOptions"]),c=e;o&&(c.defaultOptions=o),l&&(c.defaultPriority=l),u&&(c.handlerKeyOptions=u),c.staticKeys=a!=null?a:[],c.handlerKeys=s!=null?s:[],c.customHandlerKeys=i!=null?i:[];for(const[f,p]of Object.entries(d))c[f]||(c[f]=p);return c}}var dhe=class extends Zt{constructor(){super(...arguments),Se(this,"attributeList",[]),Se(this,"attributeObject",ze()),Se(this,"updateAttributes",(t=!0)=>{this.transformAttributes(),t&&this.store.commands.forceUpdate("attributes")})}get name(){return"attributes"}onCreate(){this.transformAttributes(),this.store.setExtensionStore("updateAttributes",this.updateAttributes)}transformAttributes(){var t,e,n,r;if(this.attributeObject=ze(),(t=this.store.managerSettings.exclude)!=null&&t.attributes){this.store.setStoreKey("attributes",this.attributeObject);return}this.attributeList=[];for(const o of this.store.extensions){if((e=o.options.exclude)!=null&&e.attributes)continue;const i=(n=o.createAttributes)==null?void 0:n.call(o),s=Pn(je({},i),{class:lx(...(r=o.classNames)!=null?r:[],i==null?void 0:i.class)});this.attributeList.unshift(s)}for(const o of this.attributeList)this.attributeObject=Pn(je(je({},this.attributeObject),o),{class:lx(this.attributeObject.class,o.class)});this.store.setStoreKey("attributes",this.attributeObject)}};function un(t={}){return(e,n)=>{const r=n.name;if(typeof r!="string")throw new TypeError("Invalid method name provided");return n.addInitializer(function(){var o;const i=this;((o=i.decoratedHelpers)!=null?o:i.decoratedHelpers={})[r]=t}),e}}function Me(t={}){return(e,n)=>{const r=n.name;if(typeof r!="string")throw new TypeError("Invalid method name provided");return n.addInitializer(function(){var o;const i=this;((o=i.decoratedCommands)!=null?o:i.decoratedCommands={})[r]=t}),e}}function yr(t){return(e,n)=>{const r=n.name;if(typeof r!="string")throw new TypeError("Invalid method name provided");return n.addInitializer(function(){var o;const i=this;((o=i.decoratedKeybindings)!=null?o:i.decoratedKeybindings={})[r]=t}),e}}var fhe=class{constructor(t){this.promiseCreator=t,Se(this,"failureHandlers",[]),Se(this,"successHandlers",[]),Se(this,"validateHandlers",[]),Se(this,"generateCommand",()=>e=>{let n=!0;const{view:r,tr:o,dispatch:i}=e;if(!r)return!1;for(const a of this.validateHandlers)if(!a(Pn(je({},e),{dispatch:()=>{}}))){n=!1;break}return!i||!n?n:(this.promiseCreator(e).then(a=>{this.runHandlers(this.successHandlers,{value:a,state:r.state,tr:r.state.tr,dispatch:r.dispatch,view:r})}).catch(a=>{this.runHandlers(this.failureHandlers,{error:a,state:r.state,tr:r.state.tr,dispatch:r.dispatch,view:r})}),i(o),!0)})}validate(t,e="push"){return this.validateHandlers[e](t),this}success(t,e="push"){return this.successHandlers[e](t),this}failure(t,e="push"){return this.failureHandlers[e](t),this}runHandlers(t,e){var n;for(const r of t)if(!r(Pn(je({},e),{dispatch:()=>{}})))break;(n=e.dispatch)==null||n.call(e,e.tr)}};function ul(t){const{type:e,attrs:n,range:r,selection:o}=t;return i=>{var s;const{dispatch:a,tr:l,state:u}=i,d=Ye(e)?u.schema.marks[e]:e;if(Ke(d,{code:te.SCHEMA,message:"Mark type: ".concat(e," does not exist on the current schema.")}),r||o){const{from:c,to:f}=bi((s=o!=null?o:r)!=null?s:l.selection,l.doc);return cH(je({trState:l,type:e},r))?a==null||a(l.removeMark(c,f,d)):a==null||a(l.addMark(c,f,d.create(n))),!0}return Ah(Mpe(d,n))(i)}}function phe(t,e,n){for(const{$from:r,$to:o}of n){let i=r.depth===0?e.type.allowsMarkType(t):!1;if(e.nodesBetween(r.pos,o.pos,s=>{if(i)return!1;i=s.inlineContent&&s.type.allowsMarkType(t)}),i)return!0}return!1}function hhe(t,e,n){return({tr:r,dispatch:o,state:i})=>{const s=bi(n!=null?n:r.selection,r.doc),a=Gfe(s),l=Ye(t)?i.schema.marks[t]:t;if(Ke(l,{code:te.SCHEMA,message:"Mark type: ".concat(t," does not exist on the current schema.")}),s.empty&&!a||!phe(l,r.doc,s.ranges))return!1;if(!o)return!0;if(a)return r.removeStoredMark(l),e&&r.addStoredMark(l.create(e)),o(r),!0;let u=!1;for(const{$from:d,$to:c}of s.ranges){if(u)break;u=r.doc.rangeHasMark(d.pos,c.pos,l)}for(const{$from:d,$to:c}of s.ranges)u&&r.removeMark(d.pos,c.pos,l),e&&r.addMark(d.pos,c.pos,l.create(e));return o(r),!0}}function mhe(t,e={}){return({tr:n,dispatch:r,state:o})=>{const i=o.schema,s=n.selection,{from:a=s.from,to:l=a!=null?a:s.to,marks:u={}}=e;if(!r)return!0;n.insertText(t,a,l);const d=tn(n.steps,n.steps.length-1).getMap().map(l);for(const[c,f]of On(u))n.addMark(a,d,tn(i.marks,c).create(f));return r(n),!0}}var AH,IH,LH,$H,zH,FH,BH,jH,VH,UH,HH,WH,KH,qH,GH,ZH,QH,YH,XH,JH,e5,t5,n5,r5,o5,i5,s5,a5,l5,c5,u5,RE,d5,_t;d5=[kt({defaultPriority:At.Highest,defaultOptions:{trackerClassName:"remirror-tracker-position",trackerNodeName:"span"},staticKeys:["trackerClassName","trackerNodeName"]})];var pt=class extends(RE=Zt,u5=[Me()],c5=[Me()],l5=[Me()],a5=[Me()],s5=[Me()],i5=[Me()],o5=[Me()],r5=[Me()],n5=[Me()],t5=[Me()],e5=[Me()],JH=[Me()],XH=[Me()],YH=[Me()],QH=[Me()],ZH=[Me()],GH=[Me()],qH=[Me()],KH=[Me()],WH=[Me()],HH=[Me()],UH=[Me()],VH=[Me()],jH=[Me({description:({t})=>t(ta.SELECT_ALL_DESCRIPTION),label:({t})=>t(ta.SELECT_ALL_LABEL),shortcut:ne.SelectAll})],BH=[Me({description:({t})=>t(ta.COPY_DESCRIPTION),label:({t})=>t(ta.COPY_LABEL),shortcut:ne.Copy,icon:"fileCopyLine"})],FH=[Me({description:({t})=>t(ta.PASTE_DESCRIPTION),label:({t})=>t(ta.PASTE_LABEL),shortcut:ne.Paste,icon:"clipboardLine"})],zH=[Me({description:({t})=>t(ta.CUT_DESCRIPTION),label:({t})=>t(ta.CUT_LABEL),shortcut:ne.Cut,icon:"scissorsFill"})],$H=[Me()],LH=[un()],IH=[un()],AH=[un()],RE){constructor(){super(...arguments),ar(_t,5,this),Se(this,"_transaction"),Se(this,"decorated",new Map),Se(this,"forceUpdateTransaction",(t,...e)=>{const{forcedUpdates:n}=this.getCommandMeta(t);return this.setCommandMeta(t,{forcedUpdates:Rm([...n,...e])}),t})}get name(){return"commands"}get transaction(){const t=this.store.getState();this._transaction||(this._transaction=t.tr);const e=this._transaction.before.eq(t.doc),n=!ll(this._transaction.steps);if(!e){const r=t.tr;if(n)for(const o of this._transaction.steps)r.step(o);this._transaction=r}return this._transaction}onCreate(){this.store.setStoreKey("getForcedUpdates",this.getForcedUpdates.bind(this))}onView(t){var e,n,r;const{extensions:o,helpers:i}=this.store,s=ze(),a=new Set;let l=ze();const u=c=>{var f;const p=ze(),m=()=>c!=null?c:this.transaction;let g=[];const x=()=>g;for(const[h,_]of Object.entries(s))(f=l[h])!=null&&f.disableChaining||(p[h]=this.chainedFactory({chain:p,command:_.original,getTr:m,getChain:x}));const v=h=>{Ke(h===m(),{message:"Chaining currently only supports `CommandFunction` methods which do not use the `state.tr` property. Instead you should use the provided `tr` property."})};return p.run=(h={})=>{const _=g;g=[];for(const y of _)if(!y(v)&&h.exitEarly)return;t.dispatch(m())},p.tr=()=>{const h=g;g=[];for(const _ of h)_(v);return m()},p.enabled=()=>{for(const h of g)if(!h())return!1;return!0},p.new=h=>u(h),p};for(const c of o){const f=(n=(e=c.createCommands)==null?void 0:e.call(c))!=null?n:{},p=(r=c.decoratedCommands)!=null?r:{},m={};l=Pn(je({},l),{decoratedCommands:p});for(const[g,x]of Object.entries(p)){const v=Ye(x.shortcut)&&x.shortcut.startsWith("_|")?{shortcut:i.getNamedShortcut(x.shortcut,c.options)}:void 0;this.updateDecorated(g,je(Pn(je({},x),{name:c.name}),v)),f[g]=c[g].bind(c),x.active&&(m[g]=()=>{var h,_;return(_=(h=x.active)==null?void 0:h.call(x,c.options,this.store))!=null?_:!1})}ix(f)||this.addCommands({active:m,names:a,commands:s,extensionCommands:f})}const d=u();for(const[c,f]of Object.entries(d))u[c]=f;this.store.setStoreKey("commands",s),this.store.setStoreKey("chain",u),this.store.setExtensionStore("commands",s),this.store.setExtensionStore("chain",u)}onStateUpdate({state:t}){this._transaction=t.tr}createPlugin(){return{}}customDispatch(t){return t}insertText(t,e={}){return Ye(t)?mhe(t,e):this.store.createPlaceholderCommand({promise:t,placeholder:{type:"inline"},onSuccess:(n,r,o)=>this.insertText(n,je(je({},e),r))(o)}).generateCommand()}selectText(t,e={}){return({tr:n,dispatch:r})=>{const o=bi(t,n.doc);return n.selection.anchor===o.anchor&&n.selection.head===o.head&&!e.forceUpdate?!1:(r==null||r(n.setSelection(o)),!0)}}selectMark(t){return e=>{const{tr:n}=e,r=eu(n.selection.$from,t);return r?this.store.commands.selectText.original({from:r.from,to:r.to})(e):!1}}delete(t){return({tr:e,dispatch:n})=>{const{from:r,to:o}=t!=null?t:e.selection;return n==null||n(e.delete(r,o)),!0}}emptyUpdate(t){return({tr:e,dispatch:n})=>(n&&(t==null||t(),n(e)),!0)}forceUpdate(...t){return({tr:e,dispatch:n})=>(n==null||n(this.forceUpdateTransaction(e,...t)),!0)}updateNodeAttributes(t,e){return({tr:n,dispatch:r})=>(r==null||r(n.setNodeMarkup(t,void 0,e)),!0)}setContent(t,e){return n=>{const{tr:r,dispatch:o}=n,i=this.store.manager.createState({content:t,selection:e});return i?(o==null||o(r.replaceRangeWith(0,r.doc.nodeSize-2,i.doc)),!0):!1}}resetContent(){return t=>{const{tr:e,dispatch:n}=t,r=this.store.manager.createEmptyDoc();return r?this.setContent(r)(t):(n==null||n(e.delete(0,e.doc.nodeSize)),!0)}}emptySelection(){return({tr:t,dispatch:e})=>t.selection.empty?!1:(e==null||e(t.setSelection(nt.near(t.selection.$anchor))),!0)}insertNewLine(){return({dispatch:t,tr:e})=>Rf(e.selection)?(t==null||t(e.insertText(`
`)),!0):!1}insertNode(t,e={}){return({dispatch:n,tr:r,state:o})=>{var i,s;const{attrs:a,range:l,selection:u,replaceEmptyParentBlock:d=!1}=e,{from:c,to:f,$from:p}=bi((i=u!=null?u:l)!=null?i:r.selection,r.doc);if(dw(t)||Bfe(t)){const h=p.before(p.depth);return n==null||n(d&&c===f&&_P(p.parent)?r.replaceWith(h,h+p.parent.nodeSize,t):r.replaceWith(c,f,t)),!0}const m=Ye(t)?o.schema.nodes[t]:t;Ke(m,{code:te.SCHEMA,message:"The requested node type ".concat(t," does not exist in the schema.")});const g=(s=e.marks)==null?void 0:s.map(h=>{if(h instanceof Et)return h;const _=Ye(h)?o.schema.marks[h]:h;return Ke(_,{code:te.SCHEMA,message:"The requested mark type ".concat(h," does not exist in the schema.")}),_.create()}),x=m.createAndFill(a,Ye(e.content)?o.schema.text(e.content):e.content,g);if(!x)return!1;const v=c!==f;return n==null||n(v?r.replaceRangeWith(c,f,x):r.insert(c,x)),!0}}focus(t){return e=>{const{dispatch:n,tr:r}=e,{view:o}=this.store;if(t===!1||o.hasFocus()&&(t===void 0||t===!0))return!1;if(t===void 0||t===!0){const{from:i=0,to:s=i}=r.selection;t={from:i,to:s}}return n&&this.delayedFocus(),this.selectText(t)(e)}}blur(t){return e=>{const{view:n}=this.store;return n.hasFocus()?(requestAnimationFrame(()=>{n.dom.blur()}),t?this.selectText(t)(e):!0):!1}}setBlockNodeType(t,e,n,r=!0){return Ex(t,e,n,r)}toggleWrappingNode(t,e,n){return mH(t,e,n)}toggleBlockNodeItem(t){return gH(t)}wrapInNode(t,e,n){return hH(t,e,n)}applyMark(t,e,n){return hhe(t,e,n)}toggleMark(t){return ul(t)}removeMark(t){return fpe(t)}setMeta(t,e){return({tr:n})=>(n.setMeta(t,e),!0)}selectAll(){return this.selectText("all")}copy(){return t=>t.tr.selection.empty?!1:(t.dispatch&&document.execCommand("copy"),!0)}paste(){return this.store.createPlaceholderCommand({promise:async()=>{var t;return(t=navigator.clipboard)!=null&&t.readText?await navigator.clipboard.readText():""},placeholder:{type:"inline"},onSuccess:(t,e,n)=>this.insertNode(OE({content:t,schema:n.state.schema}),{selection:e})(n)}).generateCommand()}cut(){return t=>t.tr.selection.empty?!1:(t.dispatch&&document.execCommand("cut"),!0)}replaceText(t){return dpe(t)}getAllCommandOptions(){const t={};for(const[e,n]of this.decorated)ix(n)||(t[e]=n);return t}getCommandOptions(t){return this.decorated.get(t)}getCommandProp(){return{tr:this.transaction,dispatch:this.store.view.dispatch,state:this.store.view.state,view:this.store.view}}updateDecorated(t,e){var n;if(!e){this.decorated.delete(t);return}const r=(n=this.decorated.get(t))!=null?n:{name:""};this.decorated.set(t,je(je({},r),e))}handleIosFocus(){!ai.isIos||this.store.view.dom.focus()}delayedFocus(){this.handleIosFocus(),requestAnimationFrame(()=>{this.store.view.focus(),this.store.view.dispatch(this.transaction.scrollIntoView())})}getForcedUpdates(t){return this.getCommandMeta(t).forcedUpdates}getCommandMeta(t){var e;const n=(e=t.getMeta(this.pluginKey))!=null?e:{};return je(je({},ghe),n)}setCommandMeta(t,e){const n=this.getCommandMeta(t);t.setMeta(this.pluginKey,je(je({},n),e))}addCommands(t){const{extensionCommands:e,commands:n,names:r,active:o}=t;for(const[i,s]of On(e))MH({name:i,set:r,code:te.DUPLICATE_COMMAND_NAMES}),Ke(!vhe.has(i),{code:te.DUPLICATE_COMMAND_NAMES,message:"The command name you chose is forbidden."}),n[i]=this.createUnchainedCommand(s,o[i])}unchainedFactory(t){return(...e)=>{const{shouldDispatch:n=!0,command:r}=t,{view:o}=this.store,{state:i}=o;let s;return n&&(s=o.dispatch),r(...e)({state:i,dispatch:s,view:o,tr:i.tr})}}createUnchainedCommand(t,e){const n=this.unchainedFactory({command:t});return n.enabled=this.unchainedFactory({command:t,shouldDispatch:!1}),n.original=t,n.active=e,n}chainedFactory(t){return(...e)=>{const{chain:n,command:r,getTr:o,getChain:i}=t,s=i(),{view:a}=this.store,{state:l}=a;return s.push(u=>r(...e)({state:l,dispatch:u,view:a,tr:o()})),n}}};_t=Ci(RE);Ce(_t,1,"customDispatch",u5,pt);Ce(_t,1,"insertText",c5,pt);Ce(_t,1,"selectText",l5,pt);Ce(_t,1,"selectMark",a5,pt);Ce(_t,1,"delete",s5,pt);Ce(_t,1,"emptyUpdate",i5,pt);Ce(_t,1,"forceUpdate",o5,pt);Ce(_t,1,"updateNodeAttributes",r5,pt);Ce(_t,1,"setContent",n5,pt);Ce(_t,1,"resetContent",t5,pt);Ce(_t,1,"emptySelection",e5,pt);Ce(_t,1,"insertNewLine",JH,pt);Ce(_t,1,"insertNode",XH,pt);Ce(_t,1,"focus",YH,pt);Ce(_t,1,"blur",QH,pt);Ce(_t,1,"setBlockNodeType",ZH,pt);Ce(_t,1,"toggleWrappingNode",GH,pt);Ce(_t,1,"toggleBlockNodeItem",qH,pt);Ce(_t,1,"wrapInNode",KH,pt);Ce(_t,1,"applyMark",WH,pt);Ce(_t,1,"toggleMark",HH,pt);Ce(_t,1,"removeMark",UH,pt);Ce(_t,1,"setMeta",VH,pt);Ce(_t,1,"selectAll",jH,pt);Ce(_t,1,"copy",BH,pt);Ce(_t,1,"paste",FH,pt);Ce(_t,1,"cut",zH,pt);Ce(_t,1,"replaceText",$H,pt);Ce(_t,1,"getAllCommandOptions",LH,pt);Ce(_t,1,"getCommandOptions",IH,pt);Ce(_t,1,"getCommandProp",AH,pt);pt=Ce(_t,0,"CommandsExtension",d5,pt);ar(_t,1,pt);var ghe={forcedUpdates:[]},vhe=new Set(["run","chain","original","raw","enabled","tr","new"]),f5,p5,h5,m5,g5,v5,y5,TE,x5,Oi;x5=[kt({defaultOptions:{persistentSelectionClass:void 0,placeholderClassName:"placeholder",placeholderNodeName:"span"},staticKeys:["placeholderClassName","placeholderNodeName"],handlerKeys:["decorations"],handlerKeyOptions:{decorations:{reducer:{accumulator:(t,e,n)=>t.add(n.doc,e.find()),getDefault:()=>Rt.empty}}},defaultPriority:At.Low})];var Lo=class extends(TE=Zt,y5=[Me()],v5=[Me()],g5=[Me()],m5=[Me()],h5=[Me()],p5=[un()],f5=[un()],TE){constructor(){super(...arguments),ar(Oi,5,this),Se(this,"placeholders",Rt.empty),Se(this,"placeholderWidgets",new Map),Se(this,"createPlaceholderCommand",t=>{const e=ax(),{promise:n,placeholder:r,onFailure:o,onSuccess:i}=t;return new fhe(n).validate(s=>this.addPlaceholder(e,r)(s)).success(s=>{var a;const{state:l,tr:u,dispatch:d,view:c,value:f}=s,p=this.store.helpers.findPlaceholder(e);if(!p){const m=new Error("The placeholder has been removed");return(a=o==null?void 0:o({error:m,state:l,tr:u,dispatch:d,view:c}))!=null?a:!1}return this.removePlaceholder(e)({state:l,tr:u,view:c,dispatch:()=>{}}),i(f,p,{state:l,tr:u,dispatch:d,view:c})}).failure(s=>{var a;return this.removePlaceholder(e)(Pn(je({},s),{dispatch:()=>{}})),(a=o==null?void 0:o(s))!=null?a:!1})})}get name(){return"decorations"}onCreate(){this.store.setExtensionStore("createPlaceholderCommand",this.createPlaceholderCommand)}createPlugin(){return{state:{init:()=>{},apply:t=>{var e,n,r,o,i,s;const{added:a,clearTrackers:l,removed:u,updated:d}=this.getMeta(t);if(l){this.placeholders=Rt.empty;for(const[,c]of this.placeholderWidgets)(n=(e=c.spec).onDestroy)==null||n.call(e,this.store.view,c.spec.element);this.placeholderWidgets.clear();return}this.placeholders=this.placeholders.map(t.mapping,t.doc,{onRemove:c=>{var f,p;const m=this.placeholderWidgets.get(c.id);m&&((p=(f=m.spec).onDestroy)==null||p.call(f,this.store.view,m.spec.element))}});for(const[,c]of this.placeholderWidgets)(o=(r=c.spec).onUpdate)==null||o.call(r,this.store.view,c.from,c.spec.element,c.spec.data);for(const c of a){if(c.type==="inline"){this.addInlinePlaceholder(c,t);continue}if(c.type==="node"){this.addNodePlaceholder(c,t);continue}if(c.type==="widget"){this.addWidgetPlaceholder(c,t);continue}}for(const{id:c,data:f}of d){const p=this.placeholderWidgets.get(c);if(!p)continue;const m=qt.widget(p.from,p.spec.element,Pn(je({},p.spec),{data:f}));this.placeholders=this.placeholders.remove([p]).add(t.doc,[m]),this.placeholderWidgets.set(c,m)}for(const c of u){const f=this.placeholders.find(void 0,void 0,m=>m.id===c&&m.__type===bu),p=this.placeholderWidgets.get(c);p&&((s=(i=p.spec).onDestroy)==null||s.call(i,this.store.view,p.spec.element)),this.placeholders=this.placeholders.remove(f),this.placeholderWidgets.delete(c)}}},props:{decorations:t=>{let e=this.options.decorations(t);e=e.add(t.doc,this.placeholders.find());for(const n of this.store.extensions){if(!n.createDecorations)continue;const r=n.createDecorations(t).find();e=e.add(t.doc,r)}return e},handleDOMEvents:{blur:t=>(this.options.persistentSelectionClass&&t.dispatch(t.state.tr.setMeta(UA,!1)),!1),focus:t=>(this.options.persistentSelectionClass&&t.dispatch(t.state.tr.setMeta(UA,!0)),!1)}}}}updateDecorations(){return({tr:t,dispatch:e})=>(e==null||e(t),!0)}addPlaceholder(t,e,n){return({dispatch:r,tr:o})=>this.addPlaceholderTransaction(t,e,o,!r)?(r==null||r(n?o.deleteSelection():o),!0):!1}updatePlaceholder(t,e){return({dispatch:n,tr:r})=>this.updatePlaceholderTransaction({id:t,data:e,tr:r,checkOnly:!n})?(n==null||n(r),!0):!1}removePlaceholder(t){return({dispatch:e,tr:n})=>this.removePlaceholderTransaction({id:t,tr:n,checkOnly:!e})?(e==null||e(n),!0):!1}clearPlaceholders(){return({tr:t,dispatch:e})=>this.clearPlaceholdersTransaction({tr:t,checkOnly:!e})?(e==null||e(t),!0):!1}findPlaceholder(t){return this.findAllPlaceholders().get(t)}findAllPlaceholders(){const t=new Map,e=this.placeholders.find(void 0,void 0,n=>n.__type===bu);for(const n of e)t.set(n.spec.id,{from:n.from,to:n.to});return t}createDecorations(t){var e,n,r;const{persistentSelectionClass:o}=this.options;return!o||((e=this.store.view)==null?void 0:e.hasFocus())||((r=(n=this.store.helpers).isInteracting)==null?void 0:r.call(n))?Rt.empty:xhe(t,Rt.empty,{class:Ye(o)?o:"selection"})}onApplyState(){}addWidgetPlaceholder(t,e){var n;const{pos:r,createElement:o,onDestroy:i,onUpdate:s,className:a,nodeName:l,id:u,type:d}=t,c=(n=o==null?void 0:o(this.store.view,r))!=null?n:document.createElement(l);c.classList.add(a);const f=qt.widget(r,c,{id:u,__type:bu,type:d,element:c,onDestroy:i,onUpdate:s});this.placeholderWidgets.set(u,f),this.placeholders=this.placeholders.add(e.doc,[f])}addInlinePlaceholder(t,e){const{from:n=e.selection.from,to:r=e.selection.to,className:o,nodeName:i,id:s,type:a}=t;let l;if(n===r){const u=document.createElement(i);u.classList.add(o),l=qt.widget(n,u,{id:s,type:a,__type:bu,widget:u})}else l=qt.inline(n,r,{nodeName:i,class:o},{id:s,__type:bu});this.placeholders=this.placeholders.add(e.doc,[l])}addNodePlaceholder(t,e){const{pos:n,className:r,nodeName:o,id:i}=t,s=Io(n)?e.doc.resolve(n):e.selection.$from,a=Io(n)?s.nodeAfter?{pos:n,end:s.nodeAfter.nodeSize}:void 0:Mfe(s);if(!a)return;const l=qt.node(a.pos,a.end,{nodeName:o,class:r},{id:i,__type:bu});this.placeholders=this.placeholders.add(e.doc,[l])}withRequiredBase(t,e){const{placeholderNodeName:n,placeholderClassName:r}=this.options,o=e,{nodeName:i=n,className:s}=o,a=SP(o,["nodeName","className"]),l=(s?[r,s]:[r]).join(" ");return Pn(je({nodeName:i,className:l},a),{id:t})}getMeta(t){var e;const n=(e=t.getMeta(this.pluginKey))!=null?e:{};return je(je({},yhe),n)}setMeta(t,e){const n=this.getMeta(t);t.setMeta(this.pluginKey,je(je({},n),e))}addPlaceholderTransaction(t,e,n,r=!1){if(this.findPlaceholder(t))return!1;if(r)return!0;const{added:i}=this.getMeta(n);return this.setMeta(n,{added:[...i,this.withRequiredBase(t,e)]}),!0}updatePlaceholderTransaction(t){const{id:e,tr:n,checkOnly:r=!1,data:o}=t;if(!this.findPlaceholder(e))return!1;if(r)return!0;const{updated:s}=this.getMeta(n);return this.setMeta(n,{updated:Rm([...s,{id:e,data:o}])}),!0}removePlaceholderTransaction(t){const{id:e,tr:n,checkOnly:r=!1}=t;if(!this.findPlaceholder(e))return!1;if(r)return!0;const{removed:i}=this.getMeta(n);return this.setMeta(n,{removed:Rm([...i,e])}),!0}clearPlaceholdersTransaction(t){const{tr:e,checkOnly:n=!1}=t;return this.getPluginState()===Rt.empty?!1:(n||this.setMeta(e,{clearTrackers:!0}),!0)}};Oi=Ci(TE);Ce(Oi,1,"updateDecorations",y5,Lo);Ce(Oi,1,"addPlaceholder",v5,Lo);Ce(Oi,1,"updatePlaceholder",g5,Lo);Ce(Oi,1,"removePlaceholder",m5,Lo);Ce(Oi,1,"clearPlaceholders",h5,Lo);Ce(Oi,1,"findPlaceholder",p5,Lo);Ce(Oi,1,"findAllPlaceholders",f5,Lo);Lo=Ce(Oi,0,"DecorationsExtension",x5,Lo);ar(Oi,1,Lo);var yhe={added:[],updated:[],clearTrackers:!1,removed:[]},bu="placeholderDecoration",UA="persistentSelectionFocus";function xhe(t,e,n){const{selection:r,doc:o}=t;if(r.empty)return e;const{from:i,to:s}=r,a=fw(r)?qt.node(i,s,n):qt.inline(i,s,n);return e.add(o,[a])}var _5,kP,w5;_5=[kt({handlerKeys:["docChanged"],handlerKeyOptions:{docChanged:{earlyReturnValue:!1}},defaultPriority:At.Lowest})];var Px=class extends(w5=Zt){get name(){return"docChanged"}onStateUpdate(t){const{firstUpdate:e,transactions:n,tr:r}=t;e||(n!=null?n:[r]).some(o=>o==null?void 0:o.docChanged)&&this.options.docChanged(t)}};kP=Ci(w5);Px=Ce(kP,0,"DocChangedExtension",_5,Px);ar(kP,1,Px);var b5,S5,E5,k5,C5,O5,P5,R5,ME,T5,jo;T5=[kt({})];var $o=class extends(ME=Zt,R5=[un()],P5=[un()],O5=[un()],C5=[un()],k5=[Me()],E5=[un()],S5=[un()],b5=[un()],ME){constructor(){super(...arguments),ar(jo,5,this)}get name(){return"helpers"}onCreate(){var t,e,n;this.store.setStringHandler("text",this.textToProsemirrorNode.bind(this)),this.store.setStringHandler("html",OE);const r=ze(),o=ze(),i=ze(),s=new Set;for(const a of this.store.extensions){$g(a)&&(o[a.name]=u=>Afe({state:this.store.getState(),type:a.type,attrs:u}),i[a.name]=u=>{var d;return(d=zm({state:this.store.getState(),type:a.type,attrs:u}))==null?void 0:d.node.attrs}),yw(a)&&(o[a.name]=u=>cH({trState:this.store.getState(),type:a.type,attrs:u}),i[a.name]=u=>{const d=eu(this.store.getState().selection.$from,a.type);if(!d||!u)return d==null?void 0:d.mark.attrs;if(vP(d.mark,u))return d.mark.attrs});const l=(e=(t=a.createHelpers)==null?void 0:t.call(a))!=null?e:{};for(const u of Object.keys((n=a.decoratedHelpers)!=null?n:{}))l[u]=a[u].bind(a);if(!ix(l))for(const[u,d]of On(l))MH({name:u,set:s,code:te.DUPLICATE_HELPER_NAMES}),r[u]=d}this.store.setStoreKey("attrs",i),this.store.setStoreKey("active",o),this.store.setStoreKey("helpers",r),this.store.setExtensionStore("attrs",i),this.store.setExtensionStore("active",o),this.store.setExtensionStore("helpers",r)}isSelectionEmpty(t=this.store.getState()){return sH(t)}isViewEditable(t=this.store.getState()){var e,n,r;return(r=(n=(e=this.store.view.props).editable)==null?void 0:n.call(e,t))!=null?r:!1}getStateJSON(t=this.store.getState()){return t.toJSON()}getJSON(t=this.store.getState()){return t.doc.toJSON()}insertHtml(t,e){return n=>{const{state:r}=n,o=OE({content:t,schema:r.schema,fragment:!0});return this.store.commands.insertNode.original(o,e)(n)}}getText({lineBreakDivider:t=`

`,state:e=this.store.getState()}={}){return e.doc.textBetween(0,e.doc.content.size,t,Da)}getTextBetween(t,e,n=this.store.getState().doc){return n.textBetween(t,e,`

`,Da)}getHTML(t=this.store.getState()){return npe(t.doc,this.store.document)}textToProsemirrorNode(t){const e="<pre>".concat(t.content,"</pre>");return this.store.stringHandlers.html(Pn(je({},t),{content:e}))}};jo=Ci(ME);Ce(jo,1,"isSelectionEmpty",R5,$o);Ce(jo,1,"isViewEditable",P5,$o);Ce(jo,1,"getStateJSON",O5,$o);Ce(jo,1,"getJSON",C5,$o);Ce(jo,1,"insertHtml",k5,$o);Ce(jo,1,"getText",E5,$o);Ce(jo,1,"getTextBetween",S5,$o);Ce(jo,1,"getHTML",b5,$o);$o=Ce(jo,0,"HelpersExtension",T5,$o);ar(jo,1,$o);var M5,CP,N5;M5=[kt({defaultPriority:At.Default,handlerKeys:["shouldSkipInputRule"],handlerKeyOptions:{shouldSkipInputRule:{earlyReturnValue:!0}}})];var Rx=class extends(N5=Zt){get name(){return"inputRules"}onCreate(){this.store.setExtensionStore("rebuildInputRules",this.rebuildInputRules.bind(this))}createExternalPlugins(){return[this.generateInputRulesPlugin()]}generateInputRulesPlugin(){var t,e;const n=[],r=this.store.markTags[tt.ExcludeInputRules];for(const o of this.store.extensions)if(!(((t=this.store.managerSettings.exclude)==null?void 0:t.inputRules)||!o.createInputRules||((e=o.options.exclude)==null?void 0:e.inputRules)))for(const i of o.createInputRules())i.shouldSkip=this.options.shouldSkipInputRule,i.invalidMarks=r,n.push(i);return aue({rules:n})}rebuildInputRules(){this.store.updateExtensionPlugins(this)}};CP=Ci(N5);Rx=Ce(CP,0,"InputRulesExtension",M5,Rx);ar(CP,1,Rx);var D5,A5,I5,L5,NE,$5,Cl;$5=[kt({defaultPriority:At.Low,defaultOptions:{shortcuts:"default",undoInputRuleOnBackspace:!0,selectParentNodeOnEscape:!1,excludeBaseKeymap:!1,exitMarksOnArrowPress:!0},customHandlerKeys:["keymap"]})];var Oo=class extends(NE=Zt,L5=[yr({shortcut:"ArrowRight",isActive:t=>t.exitMarksOnArrowPress})],I5=[yr({shortcut:"ArrowLeft",isActive:t=>t.exitMarksOnArrowPress})],A5=[yr({shortcut:"Backspace",isActive:t=>t.exitMarksOnArrowPress})],D5=[un()],NE){constructor(){super(...arguments),ar(Cl,5,this),Se(this,"extraKeyBindings",[]),Se(this,"backwardMarkExitTracker",new Map),Se(this,"keydownHandler",null),Se(this,"onAddCustomHandler",({keymap:t})=>{var e,n;if(!!t)return this.extraKeyBindings=[...this.extraKeyBindings,t],(n=(e=this.store).rebuildKeymap)==null||n.call(e),()=>{var r,o;this.extraKeyBindings=this.extraKeyBindings.filter(i=>i!==t),(o=(r=this.store).rebuildKeymap)==null||o.call(r)}}),Se(this,"rebuildKeymap",()=>{this.setupKeydownHandler()})}get name(){return"keymap"}get shortcutMap(){const{shortcuts:t}=this.options;return Ye(t)?She[t]:t}onCreate(){this.store.setExtensionStore("rebuildKeymap",this.rebuildKeymap)}createExternalPlugins(){var t;return(t=this.store.managerSettings.exclude)!=null&&t.keymap?[]:(this.setupKeydownHandler(),[new El({props:{handleKeyDown:(e,n)=>{var r;return(r=this.keydownHandler)==null?void 0:r.call(this,e,n)}}})])}setupKeydownHandler(){const t=this.generateKeymapBindings();this.keydownHandler=CH(t)}generateKeymapBindings(){var t,e,n;const r=[],o=this.shortcutMap,i=this.store.getExtension(pt),s=u=>d=>Ay({shortcut:d,map:o,store:this.store,options:u.options});for(const u of this.store.extensions){const d=(t=u.decoratedKeybindings)!=null?t:{};if(!((e=u.options.exclude)!=null&&e.keymap)){u.createKeymap&&r.push(whe(u.createKeymap(s(u)),o));for(const[c,f]of On(d)){if(f.isActive&&!f.isActive(u.options,this.store))continue;const p=u[c].bind(u),m=Ay({shortcut:f.shortcut,map:o,options:u.options,store:this.store}),g=Gt(f.priority)?f.priority(u.options,this.store):(n=f.priority)!=null?n:At.Low,x=ze();for(const v of m)x[v]=p;r.push([g,x]),f.command&&i.updateDecorated(f.command,{shortcut:m})}}}const a=this.sortKeymaps([...this.extraKeyBindings,...r]);return Lfe(a)}arrowRightShortcut(t){const e=this.store.markTags[tt.PreventExits],n=this.store.nodeTags[tt.PreventExits];return this.exitMarkForwards(e,n)(t)}arrowLeftShortcut(t){const e=this.store.markTags[tt.PreventExits],n=this.store.nodeTags[tt.PreventExits];return Sx(this.exitNodeBackwards(n),this.exitMarkBackwards(e,n))(t)}backspace(t){const e=this.store.markTags[tt.PreventExits],n=this.store.nodeTags[tt.PreventExits];return Sx(this.exitNodeBackwards(n,!0),this.exitMarkBackwards(e,n,!0))(t)}createKeymap(){const{selectParentNodeOnEscape:t,undoInputRuleOnBackspace:e,excludeBaseKeymap:n}=this.options,r=ze();if(!n)for(const[o,i]of On(Kb))r[o]=Ah(i);return e&&Kb.Backspace&&(r.Backspace=Ah(mw(lue,Kb.Backspace))),t&&(r.Escape=Ah(Epe)),[At.Low,r]}getNamedShortcut(t,e={}){return t.startsWith("_|")?Ay({shortcut:t,map:this.shortcutMap,store:this.store,options:e}):[t]}onSetOptions(t){var e,n;const{changes:r}=t;(r.excludeBaseKeymap.changed||r.selectParentNodeOnEscape.changed||r.undoInputRuleOnBackspace.changed)&&((n=(e=this.store).rebuildKeymap)==null||n.call(e))}sortKeymaps(t){return Yd(t.map(e=>Tn(e)?e:[At.Default,e]),(e,n)=>n[0]-e[0]).map(e=>e[1])}exitMarkForwards(t,e){return n=>{const{tr:r,dispatch:o}=n;if(!ape(r.selection)||$m({selection:r.selection,types:e}))return!1;const a=r.selection.$from.marks().filter(l=>!t.includes(l.type.name));if(ll(a))return!1;if(!o)return!0;for(const l of a)r.removeStoredMark(l);return o(r.insertText(" ",r.selection.from)),!0}}exitNodeBackwards(t,e=!1){return n=>{const{tr:r}=n;if(!(e?zA:PE)(r.selection))return!1;const i=r.selection.$anchor.node();return!_P(i)||Hfe(i)||t.includes(i.type.name)?!1:this.store.commands.toggleBlockNodeItem.original({type:i.type})(n)}}exitMarkBackwards(t,e,n=!1){return r=>{var o;const{tr:i,dispatch:s}=r;if(!(n?zA:PE)(i.selection)||this.backwardMarkExitTracker.has(i.selection.anchor))return this.backwardMarkExitTracker.clear(),!1;if($m({selection:i.selection,types:e}))return!1;const u=[...(o=i.storedMarks)!=null?o:[],...i.selection.$from.marks()].filter(d=>!t.includes(d.type.name));if(ll(u))return!1;if(!s)return!0;for(const d of u)i.removeStoredMark(d);return this.backwardMarkExitTracker.set(i.selection.anchor,!0),s(i),!0}}};Cl=Ci(NE);Ce(Cl,1,"arrowRightShortcut",L5,Oo);Ce(Cl,1,"arrowLeftShortcut",I5,Oo);Ce(Cl,1,"backspace",A5,Oo);Ce(Cl,1,"getNamedShortcut",D5,Oo);Oo=Ce(Cl,0,"KeymapExtension",$5,Oo);ar(Cl,1,Oo);function _he(t){return Yi(rw(ne),t)}function Ay({shortcut:t,map:e,options:n,store:r}){return Ye(t)?[DE(t,e)]:Tn(t)?t.map(o=>DE(o,e)):(t=t(n,r),Ay({shortcut:t,map:e,options:n,store:r}))}function DE(t,e){return _he(t)?e[t]:t}function whe(t,e){const n={};let r,o;Tn(t)?[o,r]=t:r=t;for(const[i,s]of On(r))n[DE(i,e)]=s;return ow(o)?n:[o,n]}var z5={[ne.Copy]:"Mod-c",[ne.Cut]:"Mod-x",[ne.Paste]:"Mod-v",[ne.PastePlain]:"Mod-Shift-v",[ne.SelectAll]:"Mod-a",[ne.Undo]:"Mod-z",[ne.Redo]:ai.isMac?"Shift-Mod-z":"Mod-y",[ne.Bold]:"Mod-b",[ne.Italic]:"Mod-i",[ne.Underline]:"Mod-u",[ne.Strike]:"Mod-d",[ne.Code]:"Mod-`",[ne.Paragraph]:"Mod-Shift-0",[ne.H1]:"Mod-Shift-1",[ne.H2]:"Mod-Shift-2",[ne.H3]:"Mod-Shift-3",[ne.H4]:"Mod-Shift-4",[ne.H5]:"Mod-Shift-5",[ne.H6]:"Mod-Shift-6",[ne.TaskList]:"Mod-Shift-7",[ne.BulletList]:"Mod-Shift-8",[ne.OrderedList]:"Mod-Shift-9",[ne.Quote]:"Mod->",[ne.Divider]:"Mod-Shift-|",[ne.Codeblock]:"Mod-Shift-~",[ne.ClearFormatting]:"Mod-Shift-C",[ne.Superscript]:"Mod-.",[ne.Subscript]:"Mod-,",[ne.LeftAlignment]:"Mod-Shift-L",[ne.CenterAlignment]:"Mod-Shift-E",[ne.RightAlignment]:"Mod-Shift-R",[ne.JustifyAlignment]:"Mod-Shift-J",[ne.InsertLink]:"Mod-k",[ne.Find]:"Mod-f",[ne.FindBackwards]:"Mod-Shift-f",[ne.FindReplace]:"Mod-Shift-H",[ne.AddFootnote]:"Mod-Alt-f",[ne.AddComment]:"Mod-Alt-m",[ne.ContextMenu]:"Mod-Shift-\\",[ne.IncreaseFontSize]:"Mod-Shift-.",[ne.DecreaseFontSize]:"Mod-Shift-,",[ne.IncreaseIndent]:"Tab",[ne.DecreaseIndent]:"Shift-Tab",[ne.Shortcuts]:"Mod-/",[ne.Format]:ai.isMac?"Alt-Shift-f":"Shift-Ctrl-f"},bhe=Pn(je({},z5),{[ne.Strike]:"Mod-Shift-S",[ne.Code]:"Mod-Shift-M",[ne.Paragraph]:"Mod-Alt-0",[ne.H1]:"Mod-Alt-1",[ne.H2]:"Mod-Alt-2",[ne.H3]:"Mod-Alt-3",[ne.H4]:"Mod-Alt-4",[ne.H5]:"Mod-Alt-5",[ne.H6]:"Mod-Alt-6",[ne.OrderedList]:"Mod-Alt-7",[ne.BulletList]:"Mod-Alt-8",[ne.Quote]:"Mod-Alt-9",[ne.ClearFormatting]:"Mod-\\",[ne.IncreaseIndent]:"Mod-[",[ne.DecreaseIndent]:"Mod-]"}),She={default:z5,googleDoc:bhe},Ehe=class extends Zt{get name(){return"nodeViews"}createPlugin(){var t;const e=[],n=ze();for(const r of this.store.extensions){if(!r.createNodeViews)continue;const o=r.createNodeViews();e.unshift(Gt(o)?{[r.name]:o}:o)}e.unshift((t=this.store.managerSettings.nodeViews)!=null?t:{});for(const r of e)Object.assign(n,r);return{props:{nodeViews:n}}}},khe=class extends Zt{get name(){return"pasteRules"}createExternalPlugins(){return[this.generatePasteRulesPlugin()]}generatePasteRulesPlugin(){var t,e;const n=[];for(const r of this.store.extensions){if(((t=this.store.managerSettings.exclude)==null?void 0:t.pasteRules)||!r.createPasteRules||((e=r.options.exclude)==null?void 0:e.pasteRules))continue;const o=r.createPasteRules(),i=Tn(o)?o:[o];n.push(...i)}return Fpe(n)}},F5,OP,B5;F5=[kt({defaultPriority:At.Highest,handlerKeys:["applyState","appendTransaction"]})];var Tx=class extends(B5=Zt){constructor(){super(...arguments),Se(this,"plugins",[]),Se(this,"managerPlugins",[]),Se(this,"applyStateHandlers",[]),Se(this,"initStateHandlers",[]),Se(this,"appendTransactionHandlers",[]),Se(this,"pluginKeys",ze()),Se(this,"stateGetters",new Map),Se(this,"getPluginStateCreator",t=>e=>t.getState(e!=null?e:this.store.getState())),Se(this,"getStateByName",t=>{const e=this.stateGetters.get(t);return Ke(e,{message:"No plugin exists for the requested extension name."}),e()})}get name(){return"plugins"}onCreate(){const{setStoreKey:t,setExtensionStore:e,managerSettings:n,extensions:r}=this.store;this.updateExtensionStore();const{plugins:o=[]}=n;this.updatePlugins(o,this.managerPlugins);for(const i of r)i.onApplyState&&this.applyStateHandlers.push(i.onApplyState.bind(i)),i.onInitState&&this.initStateHandlers.push(i.onInitState.bind(i)),i.onAppendTransaction&&this.appendTransactionHandlers.push(i.onAppendTransaction.bind(i)),this.extractExtensionPlugins(i);this.managerPlugins=o,this.store.setStoreKey("plugins",this.plugins),t("pluginKeys",this.pluginKeys),t("getPluginState",this.getStateByName),e("getPluginState",this.getStateByName)}createPlugin(){return{appendTransaction:(t,e,n)=>{const r=n.tr,o={previousState:e,tr:r,transactions:t,state:n};for(const i of this.appendTransactionHandlers)i(o);return this.options.appendTransaction(o),r.docChanged||r.steps.length>0||r.selectionSet||r.storedMarksSet?r:void 0},state:{init:(t,e)=>{for(const n of this.initStateHandlers)n(e)},apply:(t,e,n,r)=>{const o={previousState:n,state:r,tr:t};for(const i of this.applyStateHandlers)i(o);this.options.applyState(o)}}}}extractExtensionPlugins(t){var e,n;if(!(!t.createPlugin&&!t.createExternalPlugins||((e=this.store.managerSettings.exclude)==null?void 0:e.plugins)||((n=t.options.exclude)==null?void 0:n.plugins))){if(t.createPlugin){const o=new Cf(t.name);this.pluginKeys[t.name]=o;const i=this.getPluginStateCreator(o);t.pluginKey=o,t.getPluginState=i,this.stateGetters.set(t.name,i),this.stateGetters.set(t.constructor,i);const s=Pn(je({},t.createPlugin()),{key:o}),a=new El(s);this.updatePlugins([a],t.plugin?[t.plugin]:void 0),t.plugin=a}if(t.createExternalPlugins){const o=t.createExternalPlugins();this.updatePlugins(o,t.externalPlugins),t.externalPlugins=o}}}updatePlugins(t,e){if(!e||ll(e)){this.plugins=[...this.plugins,...t];return}if(t.length!==e.length){this.plugins=[...this.plugins.filter(r=>!e.includes(r)),...t];return}const n=new Map;for(const[r,o]of t.entries())n.set(tn(e,r),o);this.plugins=this.plugins.map(r=>e.includes(r)?n.get(r):r)}updateExtensionStore(){const{setExtensionStore:t}=this.store;t("updatePlugins",this.updatePlugins.bind(this)),t("dispatchPluginUpdate",this.dispatchPluginUpdate.bind(this)),t("updateExtensionPlugins",this.updateExtensionPlugins.bind(this))}updateExtensionPlugins(t){const e=NH(t)?t:uhe(t)?this.store.manager.getExtension(t):this.store.extensions.find(n=>n.name===t);Ke(e,{code:te.INVALID_MANAGER_EXTENSION,message:"The extension ".concat(t," does not exist within the editor.")}),this.extractExtensionPlugins(e),this.store.setStoreKey("plugins",this.plugins),this.dispatchPluginUpdate()}dispatchPluginUpdate(){Ke(this.store.phase>=Nr.EditorView,{code:te.MANAGER_PHASE_ERROR,message:"`dispatchPluginUpdate` should only be called after the view has been added to the manager."});const{view:t,updateState:e}=this.store,n=t.state.reconfigure({plugins:this.plugins});e(n)}};OP=Ci(B5);Tx=Ce(OP,0,"PluginsExtension",F5,Tx);ar(OP,1,Tx);var j5,PP,V5;j5=[kt({defaultPriority:At.Highest})];var Mx=class extends(V5=Zt){constructor(){super(...arguments),Se(this,"dynamicAttributes",{marks:ze(),nodes:ze()})}get name(){return"schema"}onCreate(){var t;const{managerSettings:e,tags:n,markNames:r,nodeNames:o,extensions:i}=this.store,{defaultBlockNode:s,disableExtraAttributes:a,nodeOverride:l,markOverride:u}=e,d=g=>!!(g&&n[tt.Block].includes(g));if(e.schema){const{nodes:g,marks:x}=Dhe(e.schema);this.addSchema(e.schema,g,x);return}const c=d(s)?{doc:ze(),[s]:ze()}:ze(),f=ze(),p=Che({settings:e,gatheredSchemaAttributes:this.gatherExtraAttributes(i),nodeNames:o,markNames:r,tags:n});for(const g of i){p[g.name]=je(je({},p[g.name]),g.options.extraAttributes);const x=a===!0||g.options.disableExtraAttributes===!0||g.constructor.disableExtraAttributes===!0;if($g(g)){const{spec:v,dynamic:h}=HA({createExtensionSpec:(_,y)=>g.createNodeSpec(_,y),extraAttributes:tn(p,g.name),override:je(je({},l),g.options.nodeOverride),ignoreExtraAttributes:x,name:g.constructorName,tags:g.tags});g.spec=v,c[g.name]=v,Object.keys(h).length>0&&(this.dynamicAttributes.nodes[g.name]=h)}if(yw(g)){const{spec:v,dynamic:h}=HA({createExtensionSpec:(_,y)=>g.createMarkSpec(_,y),extraAttributes:tn(p,g.name),override:je(je({},u),g.options.markOverride),ignoreExtraAttributes:x,name:g.constructorName,tags:(t=g.tags)!=null?t:[]});g.spec=v,f[g.name]=v,Object.keys(h).length>0&&(this.dynamicAttributes.marks[g.name]=h)}}const m=new Ale({nodes:c,marks:f,topNode:"doc"});this.addSchema(m,c,f)}createPlugin(){return{appendTransaction:(t,e,n)=>{const{tr:r}=n;return!t.some(i=>i.docChanged)||Object.keys(this.dynamicAttributes.nodes).length===0&&Object.keys(this.dynamicAttributes.marks).length===0?null:(r.doc.descendants((i,s)=>(this.checkAndUpdateDynamicNodes(i,s,r),this.checkAndUpdateDynamicMarks(i,s,r),!0)),r.steps.length>0?r:null)}}}addSchema(t,e,n){this.store.setStoreKey("nodes",e),this.store.setStoreKey("marks",n),this.store.setStoreKey("schema",t),this.store.setExtensionStore("schema",t),this.store.setStoreKey("defaultBlockNode",pw(t).name);for(const r of Object.values(t.nodes))if(r.name!=="doc"&&(r.isBlock||r.isTextblock))break}checkAndUpdateDynamicNodes(t,e,n){for(const[r,o]of On(this.dynamicAttributes.nodes))if(t.type.name===r)for(const[i,s]of On(o)){if(!al(t.attrs[i]))continue;const a=Pn(je({},t.attrs),{[i]:s(t)});n.setNodeMarkup(e,void 0,a),MA(n)}}checkAndUpdateDynamicMarks(t,e,n){for(const[r,o]of On(this.dynamicAttributes.marks)){const i=tn(this.store.schema.marks,r),s=t.marks.find(a=>a.type.name===r);if(!!s)for(const[a,l]of On(o)){if(!al(s.attrs[a]))continue;const u=eu(n.doc.resolve(e),i);if(!u)continue;const{from:d,to:c}=u,f=i.create(Pn(je({},s.attrs),{[a]:l(s)}));n.removeMark(d,c,i).addMark(d,c,f),MA(n)}}}gatherExtraAttributes(t){const e=[];for(const n of t)!n.createSchemaAttributes||e.push(...n.createSchemaAttributes());return e}};PP=Ci(V5);Mx=Ce(PP,0,"SchemaExtension",j5,Mx);ar(PP,1,Mx);function Che(t){var e,n;const{settings:r,gatheredSchemaAttributes:o,nodeNames:i,markNames:s,tags:a}=t,l=ze();if(r.disableExtraAttributes)return l;const u=[...o,...(e=r.extraAttributes)!=null?e:[]];for(const d of u!=null?u:[]){const c=Phe({identifiers:d.identifiers,nodeNames:i,markNames:s,tags:a});for(const f of c){const p=(n=l[f])!=null?n:{};l[f]=je(je({},p),d.attributes)}}return l}function Ohe(t){return Jc(t)&&Tn(t.tags)}function Phe(t){var e;const{identifiers:n,nodeNames:r,markNames:o,tags:i}=t;if(n==="nodes")return r;if(n==="marks")return o;if(n==="all")return[...r,...o];if(Tn(n))return n;Ke(Ohe(n),{code:te.EXTENSION_EXTRA_ATTRIBUTES,message:"Invalid value passed as an identifier when creating `extraAttributes`."});const{tags:s=[],names:a=[],behavior:l="any",excludeNames:u,excludeTags:d,type:c}=n,f=new Set,p=c==="mark"?o:c==="node"?r:[...o,...r],m=x=>p.includes(x)&&!(u!=null&&u.includes(x));for(const x of a)m(x)&&f.add(x);const g=new Map;for(const x of s)if(!(d!=null&&d.includes(x)))for(const v of i[x]){if(!m(v))continue;if(l==="any"){f.add(v);continue}const h=(e=g.get(v))!=null?e:new Set;h.add(x),g.set(v,h)}for(const[x,v]of g)v.size===s.length&&f.add(x);return[...f]}function HA(t){var e,n;const{createExtensionSpec:r,extraAttributes:o,ignoreExtraAttributes:i,name:s,tags:a,override:l}=t,u=ze();function d(v,h){u[v]=h}let c=!1;function f(){c=!0}const p=Rhe(o,i,f,d),m=The(o,i),g=Mhe(o,i),x=r({defaults:p,parse:m,dom:g},l);return Ke(i||c,{code:te.EXTENSION_SPEC,message:"When creating a node specification you must call the 'defaults', and parse, and 'dom' methods. To avoid this error you can set the static property 'disableExtraAttributes' of '".concat(s,"' to 'true'.")}),x.group=[...(n=(e=x.group)==null?void 0:e.split(" "))!=null?n:[],...a].join(" ")||void 0,{spec:x,dynamic:u}}function RP(t){return Ye(t)||Gt(t)?{default:t}:(Ke(t,{message:"".concat(PV(t)," is not supported"),code:te.EXTENSION_EXTRA_ATTRIBUTES}),t)}function Rhe(t,e,n,r){return()=>{n();const o=ze();if(e)return o;for(const[i,s]of On(t)){let l=RP(s).default;Gt(l)&&(r(i,l),l=null),o[i]=l===void 0?{}:{default:l}}return o}}function The(t,e){return n=>{var r,o,i;const s=ze();if(e)return s;for(const[a,l]of On(t)){const u=RP(l),{parseDOM:d}=u,c=SP(u,["parseDOM"]);if(!!Er(n)){if(al(d)){s[a]=(r=n.getAttribute(a))!=null?r:c.default;continue}if(Gt(d)){s[a]=(o=d(n))!=null?o:c.default;continue}s[a]=(i=n.getAttribute(d))!=null?i:c.default}}return s}}function Mhe(t,e){return n=>{const r=ze();if(e)return r;function o(i,s){if(!!i){if(Ye(i)){r[s]=i;return}if(Tn(i)){const[a,l]=i;r[a]=l!=null?l:n.attrs[s];return}for(const[a,l]of On(i))r[a]=l}}for(const[i,s]of On(t)){const{toDOM:a,parseDOM:l}=RP(s);if(al(a)){const u=Ye(l)?l:i;r[u]=n.attrs[i];continue}if(Gt(a)){o(a(n.attrs,Nhe(n)),i);continue}o(a,i)}return r}}function Nhe(t){return dw(t)?{node:t}:jfe(t)?{mark:t}:{}}function Dhe(t){const e=ze(),n=ze();for(const[r,o]of Object.entries(t.nodes))e[r]=o.spec;for(const[r,o]of Object.entries(t.marks))n[r]=o.spec;return{nodes:e,marks:n}}var U5,H5,W5,AE,K5,nu;K5=[kt({customHandlerKeys:["suggester"]})];var Bc=class extends(AE=Zt,W5=[un()],H5=[un()],U5=[un()],AE){constructor(){super(...arguments),ar(nu,5,this),Se(this,"onAddCustomHandler",({suggester:t})=>{var e;if(!(!t||((e=this.store.managerSettings.exclude)==null?void 0:e.suggesters)))return TA(this.store.getState(),t)})}get name(){return"suggest"}onCreate(){this.store.setExtensionStore("addSuggester",t=>TA(this.store.getState(),t)),this.store.setExtensionStore("removeSuggester",t=>_fe(this.store.getState(),t))}createExternalPlugins(){var t,e;const n=[];for(const r of this.store.extensions){if((t=this.store.managerSettings.exclude)!=null&&t.suggesters)break;if(!r.createSuggesters||((e=r.options.exclude)==null?void 0:e.suggesters))continue;const o=r.createSuggesters(),i=Tn(o)?o:[o];n.push(...i)}return[wfe(...n)]}getSuggestState(t){return hP(t!=null?t:this.store.getState())}getSuggestMethods(){const{addIgnored:t,clearIgnored:e,removeIgnored:n,ignoreNextExit:r,setMarkRemoved:o,findMatchAtPosition:i,findNextTextSelection:s,setLastChangeFromAppend:a}=this.getSuggestState();return{addIgnored:t,clearIgnored:e,removeIgnored:n,ignoreNextExit:r,setMarkRemoved:o,findMatchAtPosition:i,findNextTextSelection:s,setLastChangeFromAppend:a}}isSuggesterActive(t){var e;return Yi(Tn(t)?t:[t],(e=this.getSuggestState().match)==null?void 0:e.suggester.name)}};nu=Ci(AE);Ce(nu,1,"getSuggestState",W5,Bc);Ce(nu,1,"getSuggestMethods",H5,Bc);Ce(nu,1,"isSuggesterActive",U5,Bc);Bc=Ce(nu,0,"SuggestExtension",K5,Bc);ar(nu,1,Bc);var q5,TP,G5;q5=[kt({defaultPriority:At.Highest})];var Nx=class extends(G5=Zt){constructor(){super(...arguments),Se(this,"allTags",ze()),Se(this,"plainTags",ze()),Se(this,"markTags",ze()),Se(this,"nodeTags",ze())}get name(){return"tags"}onCreate(){this.resetTags();for(const t of this.store.extensions)this.updateTagForExtension(t);this.store.setStoreKey("tags",this.allTags),this.store.setExtensionStore("tags",this.allTags),this.store.setStoreKey("plainTags",this.plainTags),this.store.setExtensionStore("plainTags",this.plainTags),this.store.setStoreKey("markTags",this.markTags),this.store.setExtensionStore("markTags",this.markTags),this.store.setStoreKey("nodeTags",this.nodeTags),this.store.setExtensionStore("nodeTags",this.nodeTags)}resetTags(){const t=ze(),e=ze(),n=ze(),r=ze();for(const o of rw(tt))t[o]=[],e[o]=[],n[o]=[],r[o]=[];this.allTags=t,this.plainTags=e,this.markTags=n,this.nodeTags=r}updateTagForExtension(t){var e,n,r,o,i,s;const a=new Set([...(e=t.tags)!=null?e:[],...(r=(n=t.createTags)==null?void 0:n.call(t))!=null?r:[],...(o=t.options.extraTags)!=null?o:[],...(s=(i=this.store.managerSettings.extraTags)==null?void 0:i[t.name])!=null?s:[]]);for(const l of a)Ke(Ahe(l),{code:te.EXTENSION,message:"The tag provided by the extension: ".concat(t.constructorName," is not supported by the editor. To add custom tags you can use the 'mutateTag' method.")}),this.allTags[l].push(t.name),DH(t)&&this.plainTags[l].push(t.name),yw(t)&&this.markTags[l].push(t.name),$g(t)&&this.nodeTags[l].push(t.name);t.tags=[...a]}};TP=Ci(G5);Nx=Ce(TP,0,"TagsExtension",q5,Nx);ar(TP,1,Nx);function Ahe(t){return Yi(rw(tt),t)}var Ihe=new Cf("remirrorFilePlaceholderPlugin");function Lhe(){const t=new El({key:Ihe,state:{init(){return{set:Rt.empty,payloads:new Map}},apply(e,{set:n,payloads:r}){n=n.map(e.mapping,e.doc);const o=e.getMeta(t);if(o)if(o.type===0){const i=document.createElement("placeholder"),s=qt.widget(o.pos,i,{id:o.id});n=n.add(e.doc,[s]),r.set(o.id,o.payload)}else o.type===1&&(n=n.remove(n.find(void 0,void 0,i=>i.id===o.id)),r.delete(o.id));return{set:n,payloads:r}}},props:{decorations(e){var n,r;return(r=(n=t.getState(e))==null?void 0:n.set)!=null?r:null}}});return t}var $he=class extends Zt{get name(){return"upload"}createExternalPlugins(){return[Lhe()]}};function zhe(t={}){const e={exitMarksOnArrowPress:Oo.defaultOptions.exitMarksOnArrowPress,excludeBaseKeymap:Oo.defaultOptions.excludeBaseKeymap,selectParentNodeOnEscape:Oo.defaultOptions.selectParentNodeOnEscape,undoInputRuleOnBackspace:Oo.defaultOptions.undoInputRuleOnBackspace,persistentSelectionClass:Lo.defaultOptions.persistentSelectionClass};t=je(je({},e),t);const n=sE(t,["excludeBaseKeymap","selectParentNodeOnEscape","undoInputRuleOnBackspace"]),r=sE(t,["persistentSelectionClass"]);return[new Nx,new Mx,new dhe,new Tx,new Rx,new khe,new Ehe,new Bc,new pt,new $o,new Oo(n),new Px,new $he,new Lo(r)]}var Z5,MP,Q5;Z5=[kt({defaultOptions:{capture:ai.isDevelopment},staticKeys:["capture"],defaultPriority:At.Highest})];var IE=class extends(Q5=Zt){get name(){return"meta"}onCreate(){if(this.store.setStoreKey("getCommandMeta",this.getCommandMeta.bind(this)),!!this.options.capture)for(const t of this.store.extensions)this.captureCommands(t),this.captureKeybindings(t)}createPlugin(){return{}}captureCommands(t){var e;const n=(e=t.decoratedCommands)!=null?e:{},r=t.createCommands;for(const o of Object.keys(n)){const i=t[o];t[o]=(...s)=>a=>{var l;const u=i(...s)(a);return a.dispatch&&u&&this.setCommandMeta(a.tr,{type:"command",chain:a.dispatch!==((l=a.view)==null?void 0:l.dispatch),name:o,extension:t.name,decorated:!0}),u}}r&&(t.createCommands=()=>{const o=r();for(const[i,s]of Object.entries(o))o[i]=(...a)=>l=>{var u;const d=s(...a)(l);return l.dispatch&&d&&this.setCommandMeta(l.tr,{type:"command",chain:l.dispatch!==((u=l.view)==null?void 0:u.dispatch),name:i,extension:t.name,decorated:!1}),d};return o})}captureKeybindings(t){}getCommandMeta(t){var e;return(e=t.getMeta(this.pluginKey))!=null?e:[]}setCommandMeta(t,e){const n=this.getCommandMeta(t);t.setMeta(this.pluginKey,[...n,e])}};MP=Ci(Q5);IE=Ce(MP,0,"MetaExtension",Z5,IE);ar(MP,1,IE);var Iy,Mp,Ly,Tu,ca,$y,zy,Fhe=class{constructor(t){vn(this,Iy,ax()),vn(this,Mp),vn(this,Ly),Se(this,"previousStateOverride"),vn(this,Tu,!0),vn(this,ca,gw()),vn(this,$y),vn(this,zy),Se(this,"getState",()=>{var i;return(i=this.view.state)!=null?i:this.initialEditorState}),Se(this,"getPreviousState",()=>this.previousState),Se(this,"dispatchTransaction",i=>{var s,a,l;Ke(!this.manager.destroyed,{code:te.MANAGER_PHASE_ERROR,message:"A transaction was dispatched to a manager that has already been destroyed. Please check your set up, or open an issue."}),i=(l=(a=(s=this.props).onDispatchTransaction)==null?void 0:a.call(s,i,this.getState()))!=null?l:i;const u=this.getState(),{state:d,transactions:c}=u.applyTransaction(i);yn(this,Ly,u),this.updateState({state:d,tr:i,transactions:c});const f=this.manager.store.getForcedUpdates(i);ll(f)||this.updateViewProps(...f)}),Se(this,"onChange",(i=ze())=>{var s,a;const l=this.eventListenerProps(i);ce(this,Tu)&&yn(this,Tu,!1),(a=(s=this.props).onChange)==null||a.call(s,l)}),Se(this,"onBlur",i=>{var s,a;const l=this.eventListenerProps();(a=(s=this.props).onBlur)==null||a.call(s,l,i),ce(this,ca).emit("blur",l,i)}),Se(this,"onFocus",i=>{var s,a;const l=this.eventListenerProps();(a=(s=this.props).onFocus)==null||a.call(s,l,i),ce(this,ca).emit("focus",l,i)}),Se(this,"setContent",(i,{triggerChange:s=!1}={})=>{const{doc:a}=this.manager.createState({content:i}),l=this.getState(),{state:u}=this.getState().applyTransaction(l.tr.replaceRangeWith(0,l.doc.nodeSize-2,a));if(s)return this.updateState({state:u,triggerChange:s});this.view.updateState(u)}),Se(this,"clearContent",({triggerChange:i=!1}={})=>{this.setContent(this.manager.createEmptyDoc(),{triggerChange:i})}),Se(this,"createStateFromContent",(i,s)=>this.manager.createState({content:i,selection:s})),Se(this,"focus",i=>{this.manager.store.commands.focus(i)}),Se(this,"blur",i=>{this.manager.store.commands.blur(i)});const{getProps:e,initialEditorState:n,element:r}=t;if(yn(this,Mp,e),yn(this,zy,n),this.manager.attachFramework(this,this.updateListener.bind(this)),this.manager.view)return;const o=this.createView(n,r);this.manager.addView(o)}get addHandler(){var t;return(t=ce(this,$y))!=null?t:yn(this,$y,ce(this,ca).on.bind(ce(this,ca)))}get updatableViewProps(){return{attributes:()=>this.getAttributes(),editable:()=>{var t;return(t=this.props.editable)!=null?t:!0}}}get firstRender(){return ce(this,Tu)}get props(){return ce(this,Mp).call(this)}get previousState(){var t,e;return(e=(t=this.previousStateOverride)!=null?t:ce(this,Ly))!=null?e:this.initialEditorState}get manager(){return this.props.manager}get view(){return this.manager.view}get uid(){return ce(this,Iy)}get initialEditorState(){return ce(this,zy)}updateListener(t){const{state:e,tr:n}=t;return ce(this,ca).emit("updated",this.eventListenerProps({state:e,tr:n}))}update(t){const{getProps:e}=t;return yn(this,Mp,e),this}updateViewProps(...t){const e=sE(this.updatableViewProps,t);this.view.setProps(je(je({},this.view.props),e))}getAttributes(t){var e;const{attributes:n,autoFocus:r,classNames:o=[],label:i,editable:s}=this.props,a=(e=this.manager.store)==null?void 0:e.attributes,l=Gt(n)?n(this.eventListenerProps()):n;let u={};(r||Io(r))&&(u=t?{autoFocus:!0}:{autofocus:"true"});const d=Rm(lx(t&&"Prosemirror","remirror-editor",a==null?void 0:a.class,...o).split(" ")).join(" "),c=Pn(je(Pn(je(Pn(je({role:"textbox"},u),{"aria-multiline":"true"}),s==null||s?{}:{"aria-readonly":"true"}),{"aria-label":i!=null?i:""}),a),{class:d});return sle(je(je({},c),l))}addFocusListeners(){this.view.dom.addEventListener("blur",this.onBlur),this.view.dom.addEventListener("focus",this.onFocus)}removeFocusListeners(){this.view.dom.removeEventListener("blur",this.onBlur),this.view.dom.removeEventListener("focus",this.onFocus)}destroy(){ce(this,ca).emit("destroy"),this.view&&this.removeFocusListeners()}eventListenerProps(t=ze()){const{state:e,tr:n,transactions:r}=t;return{tr:n,transactions:r,internalUpdate:!n,view:this.view,firstRender:ce(this,Tu),state:e!=null?e:this.getState(),createStateFromContent:this.createStateFromContent,previousState:this.previousState,helpers:this.manager.store.helpers}}get baseOutput(){return Pn(je({manager:this.manager},this.manager.store),{addHandler:this.addHandler,focus:this.focus,blur:this.blur,uid:ce(this,Iy),view:this.view,getState:this.getState,getPreviousState:this.getPreviousState,getExtension:this.manager.getExtension.bind(this.manager),hasExtension:this.manager.hasExtension.bind(this.manager),clearContent:this.clearContent,setContent:this.setContent})}};Iy=new WeakMap;Mp=new WeakMap;Ly=new WeakMap;Tu=new WeakMap;ca=new WeakMap;$y=new WeakMap;zy=new WeakMap;function Bhe(t,e){const n=[],r=new WeakMap,o=[],i=new WeakMap;let s=[];const a={duplicateMap:i,parentExtensions:o,gatheredExtensions:s,settings:e};for(const c of t)Y5(a,{extension:c});s=Yd(s,(c,f)=>f.priority-c.priority);const l=new WeakSet,u=new Set;for(const c of s){const f=c.constructor,p=c.name,m=i.get(f);Ke(m,{message:"No entries were found for the ExtensionConstructor ".concat(c.name),code:te.INTERNAL}),!(l.has(f)||u.has(p))&&(l.add(f),u.add(p),n.push(c),r.set(f,c),m.forEach(g=>g==null?void 0:g.replaceChildExtension(f,c)))}const d=[];for(const c of n)jhe({extension:c,found:l,missing:d});return Ke(ll(d),{code:te.MISSING_REQUIRED_EXTENSION,message:d.map(({Constructor:c,extension:f})=>"The extension '".concat(f.name,"' requires '").concat(c.name," in order to run correctly.")).join(`
`)}),{extensions:n,extensionMap:r}}function Y5(t,e){var n;const{gatheredExtensions:r,duplicateMap:o,parentExtensions:i,settings:s}=t,{extension:a,parentExtension:l}=e;let{names:u=[]}=e;Ke(NH(a),{code:te.INVALID_MANAGER_EXTENSION,message:"An invalid extension: ".concat(a," was provided to the [[`RemirrorManager`]].")});const d=a.extensions;if(a.setPriority((n=s.priority)==null?void 0:n[a.name]),r.push(a),Vhe({duplicateMap:o,extension:a,parentExtension:l}),d.length!==0){if(u.includes(a.name)){"Circular dependency encountered when loading extensions: ".concat(u.join(" > ")," > ").concat(a.name);return}u=[...u,a.name],i.push(a);for(const c of d)Y5(t,{names:u,extension:c,parentExtension:a})}}function jhe(t){var e;const{extension:n,found:r,missing:o}=t;if(!!n.requiredExtensions)for(const i of(e=n.requiredExtensions)!=null?e:[])r.has(i)||o.push({Constructor:i,extension:n})}function Vhe(t){const{duplicateMap:e,extension:n,parentExtension:r}=t,o=n.constructor,i=e.get(o),s=r?[r]:[];e.set(o,i?[...i,...s]:s)}function Uhe(t){var e,n,r,o;const{extension:i,nodeNames:s,markNames:a,plainNames:l,store:u,handlers:d}=t;i.setStore(u);const c=(e=i.onCreate)==null?void 0:e.bind(i),f=(n=i.onView)==null?void 0:n.bind(i),p=(r=i.onStateUpdate)==null?void 0:r.bind(i),m=(o=i.onDestroy)==null?void 0:o.bind(i);c&&d.create.push(c),f&&d.view.push(f),p&&d.update.push(p),m&&d.destroy.push(m),yw(i)&&a.push(i.name),$g(i)&&i.name!=="doc"&&s.push(i.name),DH(i)&&l.push(i.name)}var ua,Np,Ko,ys,Dp,Qr,$l,Ap,zl,Ip,Fl,qo,Lp,Hhe=class Fy{constructor(e,n={}){vn(this,ua),vn(this,Np,ze()),vn(this,Ko,ze()),vn(this,ys),vn(this,Dp),vn(this,Qr,Nr.None),vn(this,$l),vn(this,Ap,!0),vn(this,zl,{create:[],view:[],update:[],destroy:[]}),vn(this,Ip,[]),vn(this,Fl,gw()),vn(this,qo),vn(this,Lp),Se(this,"getState",()=>{var i;return ce(this,Qr)>=Nr.EditorView?this.view.state:(Ke(ce(this,qo),{code:te.MANAGER_PHASE_ERROR,message:"`getState` can only be called after the `Framework` or the `EditorView` has been added to the manager`. Check your plugins to make sure that the decorations callback uses the state argument."}),(i=ce(this,qo))==null?void 0:i.initialEditorState)}),Se(this,"updateState",i=>{const s=this.getState();this.view.updateState(i),this.onStateUpdate({previousState:s,state:i})});const{extensions:r,extensionMap:o}=Bhe(e,n);yn(this,$l,n),yn(this,ys,Ql(r)),yn(this,Dp,o),yn(this,ua,this.createExtensionStore()),yn(this,Qr,Nr.Create),this.setupLifecycleHandlers();for(const i of ce(this,zl).create){const s=i();s&&ce(this,Ip).push(s)}}static create(e,n={}){return new Fy([...DV(e),...zhe(n.builtin)],n)}get[Us](){return Ln.Manager}get destroyed(){return ce(this,Qr)===Nr.Destroy}get mounted(){return ce(this,Qr)>=Nr.EditorView&&ce(this,Qr)<Nr.Destroy}get output(){var e;return(e=ce(this,qo))==null?void 0:e.frameworkOutput}get frameworkAttached(){return!!ce(this,qo)}get extensions(){return ce(this,ys)}get stringHandlers(){return ce(this,Np)}get store(){return Ql(ce(this,Ko))}get extensionStore(){return Ql(ce(this,ua))}get tr(){return this.getExtension(pt).transaction}get nodes(){return ce(this,Ko).nodes}get marks(){return ce(this,Ko).marks}get schema(){return ce(this,Ko).schema}get extensionTags(){return ce(this,Ko).tags}get view(){return ce(this,Ko).view}get settings(){return ce(this,$l)}get document(){var e;return(e=ce(this,$l).document)!=null?e:hw()}setupLifecycleHandlers(){const e=ce(this,ua),n=ce(this,zl),r=[],o=[],i=[];e.nodeNames=r,e.markNames=o,e.plainNames=i;for(const s of ce(this,ys))Uhe({extension:s,nodeNames:r,markNames:o,plainNames:i,handlers:n,store:e})}setStringHandler(e,n){ce(this,Np)[e]=n}setStoreKey(e,n){ce(this,Ko)[e]=n}getStoreKey(e){const n=ce(this,Ko)[e];return Ke(!al(n),{code:te.MANAGER_PHASE_ERROR,message:"`getStoreKey` should not be called before the values are available."}),n}setExtensionStore(e,n){Ke(ce(this,Qr)<=Nr.EditorView,{code:te.MANAGER_PHASE_ERROR,message:"`setExtensionStore` should only be called during the `onCreate` lifecycle hook. Make sure to only call it within the returned methods."}),ce(this,ua)[e]=n}createExtensionStore(){const e=ze(),n=!0;let r,o;return Object.defineProperties(e,{extensions:{get:()=>ce(this,ys),enumerable:n},phase:{get:()=>ce(this,Qr),enumerable:n},view:{get:()=>this.view,enumerable:n},managerSettings:{get:()=>Ql(ce(this,$l)),enumerable:n},getState:{value:this.getState,enumerable:n},updateState:{value:this.updateState,enumerable:n},isMounted:{value:()=>this.mounted,enumerable:n},getExtension:{value:this.getExtension.bind(this),enumerable:n},manager:{get:()=>this,enumerable:n},document:{get:()=>this.document,enumerable:n},stringHandlers:{get:()=>ce(this,Np),enumerable:n},currentState:{get:()=>r!=null?r:r=this.getState(),set:i=>{r=i},enumerable:n},previousState:{get:()=>o,set:i=>{o=i},enumerable:n}}),e.getStoreKey=this.getStoreKey.bind(this),e.setStoreKey=this.setStoreKey.bind(this),e.setExtensionStore=this.setExtensionStore.bind(this),e.setStringHandler=this.setStringHandler.bind(this),e}addView(e){if(ce(this,Qr)>=Nr.EditorView)return this;yn(this,Ap,!0),yn(this,Qr,Nr.EditorView),ce(this,Ko).view=e;for(const n of ce(this,zl).view){const r=n(e);r&&ce(this,Ip).push(r)}return this}attachFramework(e,n){var r;ce(this,qo)!==e&&(ce(this,qo)&&(ce(this,qo).destroy(),(r=ce(this,Lp))==null||r.call(this)),yn(this,qo,e),yn(this,Lp,this.addHandler("stateUpdate",n)))}createEmptyDoc(){var e;const n=(e=this.schema.nodes.doc)==null?void 0:e.createAndFill();return Ke(n,{code:te.INVALID_CONTENT,message:"An empty node could not be created due to an invalid schema."}),n}createState(e={}){const{onError:n,defaultSelection:r="end"}=this.settings,{content:o=this.createEmptyDoc(),selection:i=r,stringHandler:s=this.settings.stringHandler}=e,{schema:a,plugins:l}=this.store,u=dH({stringHandler:Ye(s)?this.stringHandlers[s]:s,document:this.document,content:o,onError:n,schema:a,selection:i});return Yl.create({schema:a,doc:u,plugins:l,selection:bi(i,u)})}addHandler(e,n){return ce(this,Fl).on(e,n)}onStateUpdate(e){const n=ce(this,Ap);ce(this,ua).currentState=e.state,ce(this,ua).previousState=e.previousState,n&&(yn(this,Qr,Nr.Runtime),yn(this,Ap,!1));const r=Pn(je({},e),{firstUpdate:n});for(const o of ce(this,zl).update)o(r);ce(this,Fl).emit("stateUpdate",r)}getExtension(e){const n=ce(this,Dp).get(e);return Ke(n,{code:te.INVALID_MANAGER_EXTENSION,message:"'".concat(e.name,"' doesn't exist within this manager. Make sure it is properly added before attempting to use it.")}),n}hasExtension(e){return!!ce(this,Dp).get(e)}clone(){const e=ce(this,ys).map(r=>r.clone(r.options)),n=Fy.create(()=>e,ce(this,$l));return ce(this,Fl).emit("clone",n),n}recreate(e=[],n={}){const r=ce(this,ys).map(i=>i.clone(i.initialOptions)),o=Fy.create(()=>[...r,...e],n);return ce(this,Fl).emit("recreate",o),o}destroy(){var e,n,r,o,i,s,a;yn(this,Qr,Nr.Destroy);for(const l of(n=(e=this.view)==null?void 0:e.state.plugins)!=null?n:[])(o=(r=l.getState(this.view.state))==null?void 0:r.destroy)==null||o.call(r);(i=ce(this,qo))==null||i.destroy(),(s=ce(this,Lp))==null||s.call(this);for(const l of ce(this,Ip))l();for(const l of ce(this,zl).destroy)l();(a=this.view)==null||a.destroy(),ce(this,Fl).emit("destroy")}includes(e){const n=[],r=[];for(const o of ce(this,ys))n.push(o.name,o.constructorName),r.push(o.constructor);return e.every(o=>Ye(o)?Yi(n,o):Yi(r,o))}};ua=new WeakMap;Np=new WeakMap;Ko=new WeakMap;ys=new WeakMap;Dp=new WeakMap;Qr=new WeakMap;$l=new WeakMap;Ap=new WeakMap;zl=new WeakMap;Ip=new WeakMap;Fl=new WeakMap;qo=new WeakMap;Lp=new WeakMap;var Whe=Hhe;function Khe(t,e){return!Of(t)||!Pf(t,Ln.Manager)?!1:e?t.includes(e):!0}function Ts(t,e,n){return Math.min(Math.max(t,n),e)}class qhe extends Error{constructor(e){super(`Failed to parse color: "${e}"`)}}var $p=qhe;function NP(t){if(typeof t!="string")throw new $p(t);if(t.trim().toLowerCase()==="transparent")return[0,0,0,0];let e=t.trim();e=tme.test(t)?Qhe(t):t;const n=Yhe.exec(e);if(n){const s=Array.from(n).slice(1);return[...s.slice(0,3).map(a=>parseInt(Bm(a,2),16)),parseInt(Bm(s[3]||"f",2),16)/255]}const r=Xhe.exec(e);if(r){const s=Array.from(r).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,16)),parseInt(s[3]||"ff",16)/255]}const o=Jhe.exec(e);if(o){const s=Array.from(o).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,10)),parseFloat(s[3]||"1")]}const i=eme.exec(e);if(i){const[s,a,l,u]=Array.from(i).slice(1).map(parseFloat);if(Ts(0,100,a)!==a)throw new $p(t);if(Ts(0,100,l)!==l)throw new $p(t);return[...nme(s,a,l),Number.isNaN(u)?1:u]}throw new $p(t)}function Ghe(t){let e=5381,n=t.length;for(;n;)e=e*33^t.charCodeAt(--n);return(e>>>0)%2341}const WA=t=>parseInt(t.replace(/_/g,""),36),Zhe="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((t,e)=>{const n=WA(e.substring(0,3)),r=WA(e.substring(3)).toString(16);let o="";for(let i=0;i<6-r.length;i++)o+="0";return t[n]=`${o}${r}`,t},{});function Qhe(t){const e=t.toLowerCase().trim(),n=Zhe[Ghe(e)];if(!n)throw new $p(t);return`#${n}`}const Bm=(t,e)=>Array.from(Array(e)).map(()=>t).join(""),Yhe=new RegExp(`^#${Bm("([a-f0-9])",3)}([a-f0-9])?$`,"i"),Xhe=new RegExp(`^#${Bm("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),Jhe=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${Bm(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),eme=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,tme=/^[a-z]+$/i,KA=t=>Math.round(t*255),nme=(t,e,n)=>{let r=n/100;if(e===0)return[r,r,r].map(KA);const o=(t%360+360)%360/60,i=(1-Math.abs(2*r-1))*(e/100),s=i*(1-Math.abs(o%2-1));let a=0,l=0,u=0;o>=0&&o<1?(a=i,l=s):o>=1&&o<2?(a=s,l=i):o>=2&&o<3?(l=i,u=s):o>=3&&o<4?(l=s,u=i):o>=4&&o<5?(a=s,u=i):o>=5&&o<6&&(a=i,u=s);const d=r-i/2,c=a+d,f=l+d,p=u+d;return[c,f,p].map(KA)};function rme(t){const[e,n,r,o]=NP(t).map((c,f)=>f===3?c:c/255),i=Math.max(e,n,r),s=Math.min(e,n,r),a=(i+s)/2;if(i===s)return[0,0,a,o];const l=i-s,u=a>.5?l/(2-i-s):l/(i+s);return[60*(e===i?(n-r)/l+(n<r?6:0):n===i?(r-e)/l+2:(e-n)/l+4),u,a,o]}function ome(t,e,n,r){return`hsla(${(t%360).toFixed()}, ${Ts(0,100,e*100).toFixed()}%, ${Ts(0,100,n*100).toFixed()}%, ${parseFloat(Ts(0,1,r).toFixed(3))})`}function oo(t,e){const[n,r,o,i]=rme(t);return ome(n,r,o-e,i)}function ime(t){if(t==="transparent")return 0;function e(i){const s=i/255;return s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4)}const[n,r,o]=NP(t);return .2126*e(n)+.7152*e(r)+.0722*e(o)}function sme(t,e,n,r){return`rgba(${Ts(0,255,t).toFixed()}, ${Ts(0,255,e).toFixed()}, ${Ts(0,255,n).toFixed()}, ${parseFloat(Ts(0,1,r).toFixed(3))})`}function By(t,e){return oo(t,-e)}function Dx(t,e){const[n,r,o,i]=NP(t);return sme(n,r,o,i-e)}function ame(t){return ime(t)>.179}function gd(t){return ame(t)?"#000":"#fff"}const lme="remirror-editor-wrapper",cme="remirror-button-active",ume="remirror-button",dme="remirror-composite",fme="remirror-dialog",pme="remirror-dialog-backdrop",hme="remirror-form",mme="remirror-form-message",gme="remirror-form-label",vme="remirror-form-group",yme="remirror-group",xme="remirror-input",_me="remirror-menu",wme="remirror-menu-pane",bme="remirror-menu-pane-active",Sme="remirror-menu-dropdown-label",Eme="remirror-menu-pane-icon",kme="remirror-menu-pane-label",Cme="remirror-menu-pane-shortcut",Ome="remirror-menu-button-left",Pme="remirror-menu-button-right",Rme="remirror-menu-button-nested-left",Tme="remirror-menu-button-nested-right",Mme="remirror-menu-button",Nme="remirror-menu-bar",Dme="remirror-flex-column",Ame="remirror-flex-row",Ime="remirror-menu-item",Lme="remirror-menu-item-row",$me="remirror-menu-item-column",zme="remirror-menu-item-checkbox",Fme="remirror-menu-item-radio",Bme="remirror-menu-group",jme="remirror-floating-popover",Vme="remirror-popover",Ume="remirror-animated-popover",Hme="remirror-role",Wme="remirror-separator",Kme="remirror-tab",qme="remirror-tab-list",Gme="remirror-tabbable",Zme="remirror-toolbar",Qme="remirror-tooltip",Yme="remirror-table-size-editor",Xme="remirror-table-size-editor-body",Jme="remirror-table-size-editor-cell",ege="remirror-table-size-editor-cell-selected",tge="remirror-table-size-editor-footer",nge="remirror-color-picker",rge="remirror-color-picker-cell",oge="remirror-color-picker-cell-selected";var ige=Object.freeze({__proto__:null,ANIMATED_POPOVER:Ume,BUTTON:ume,BUTTON_ACTIVE:cme,COLOR_PICKER:nge,COLOR_PICKER_CELL:rge,COLOR_PICKER_CELL_SELECTED:oge,COMPOSITE:dme,DIALOG:fme,DIALOG_BACKDROP:pme,EDITOR_WRAPPER:lme,FLEX_COLUMN:Dme,FLEX_ROW:Ame,FLOATING_POPOVER:jme,FORM:hme,FORM_GROUP:vme,FORM_LABEL:gme,FORM_MESSAGE:mme,GROUP:yme,INPUT:xme,MENU:_me,MENU_BAR:Nme,MENU_BUTTON:Mme,MENU_BUTTON_LEFT:Ome,MENU_BUTTON_NESTED_LEFT:Rme,MENU_BUTTON_NESTED_RIGHT:Tme,MENU_BUTTON_RIGHT:Pme,MENU_DROPDOWN_LABEL:Sme,MENU_GROUP:Bme,MENU_ITEM:Ime,MENU_ITEM_CHECKBOX:zme,MENU_ITEM_COLUMN:$me,MENU_ITEM_RADIO:Fme,MENU_ITEM_ROW:Lme,MENU_PANE:wme,MENU_PANE_ACTIVE:bme,MENU_PANE_ICON:Eme,MENU_PANE_LABEL:kme,MENU_PANE_SHORTCUT:Cme,POPOVER:Vme,ROLE:Hme,SEPARATOR:Wme,TAB:Kme,TABBABLE:Gme,TABLE_SIZE_EDITOR:Yme,TABLE_SIZE_EDITOR_BODY:Xme,TABLE_SIZE_EDITOR_CELL:Jme,TABLE_SIZE_EDITOR_CELL_SELECTED:ege,TABLE_SIZE_EDITOR_FOOTER:tge,TAB_LIST:qme,TOOLBAR:Zme,TOOLTIP:Qme});const sge="remirror-list-item-with-custom-mark",age="remirror-ul-list-content",lge="remirror-editor",cge="remirror-list-item-marker-container",uge="remirror-list-item-checkbox",dge="remirror-collapsible-list-item-closed",fge="remirror-collapsible-list-item-button",pge="remirror-list-spine";var dl=Object.freeze({__proto__:null,COLLAPSIBLE_LIST_ITEM_BUTTON:fge,COLLAPSIBLE_LIST_ITEM_CLOSED:dge,EDITOR:lge,LIST_ITEM_CHECKBOX:uge,LIST_ITEM_MARKER_CONTAINER:cge,LIST_ITEM_WITH_CUSTOM_MARKER:sge,LIST_SPINE:pge,UL_LIST_CONTENT:age});const hge="remirror-is-empty";var mge=Object.freeze({__proto__:null,IS_EMPTY:hge});const gge="remirror-editor",vge="remirror-positioner",yge="remirror-positioner-widget";var xge=Object.freeze({__proto__:null,EDITOR:gge,POSITIONER:vge,POSITIONER_WIDGET:yge});const _ge="remirror-theme";function wge(t={}){const e=[],n={};function r(o,i){if(typeof i=="string"||typeof i=="number"){e.push(`${qA(o)}: ${i};`),n[qA(o)]=i;return}if(!(typeof i!="object"||!i))for(const[s,a]of Object.entries(i))r([...o,s],a)}for(const[o,i]of Object.entries(t))r([o],i);return{css:e.join(`
`),styles:n}}function bge(t){return t.replace(/([a-z])([\dA-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase()}function qA(t){return`--rmr-${t.map(bge).join("-")}`}const Go={gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},Ms="#000000",DP="#ffffff",Sge="#252103",AP=Dx(Ms,.75),xw="#7963d2",IP="#bcd263",Ege="#fff",kge="#fff",LP=Go.gray[1],GA="rgba(10,31,68,0.08)",ZA="rgba(10,31,68,0.10)",QA="rgba(10,31,68,0.12)",Cge=By(Dx(Ms,.1),.13),$P={background:DP,border:AP,foreground:Ms,muted:LP,primary:xw,secondary:IP,primaryText:Ege,secondaryText:kge,text:Sge,faded:Cge},Oge={...$P,background:oo(DP,.15),border:oo(AP,.15),foreground:oo(Ms,.15),muted:oo(LP,.15),primary:oo(xw,.15),secondary:oo(IP,.15),get text(){return gd(this.background)},get primaryText(){return gd(this.primary)},get secondaryText(){return gd(this.secondary)}},Pge={...$P,background:oo(DP,.075),border:oo(AP,.075),foreground:oo(Ms,.075),muted:oo(LP,.075),primary:oo(xw,.075),secondary:oo(IP,.075),get text(){return gd(this.background)},get primaryText(){return gd(this.primary)},get secondaryText(){return gd(this.secondary)}},Rge={color:{...$P,active:Oge,hover:Pge,shadow1:GA,shadow2:ZA,shadow3:QA,backdrop:Dx(Ms,.1),outline:Dx(xw,.6),table:{default:{border:By(Ms,.8),cell:By(Ms,.4),controller:Go.gray[3]},selected:{border:Go.blue[7],cell:Go.blue[1],controller:Go.blue[5]},preselect:{border:Go.blue[7],cell:By(Ms,.4),controller:Go.blue[5]},predelete:{border:Go.red[7],cell:Go.red[1],controller:Go.red[5]},mark:"#91919196"}},hue:Go,radius:{border:"0.25rem",extra:"0.5rem",circle:"50%"},fontFamily:{default:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", sans-serif',heading:"inherit",mono:"Menlo, monospace"},fontSize:{0:"12px",1:"14px",2:"16px",3:"20px",4:"24px",5:"32px",6:"48px",7:"64px",8:"96px",default:"16px"},space:{1:"4px",2:"8px",3:"16px",4:"32px",5:"64px",6:"128px",7:"256px",8:"512px"},fontWeight:{bold:"700",default:"400",heading:"700"},letterSpacing:{tight:"-1px",default:"normal",loose:"1px",wide:"3px"},lineHeight:{heading:"1.25em",default:"1.5em"},boxShadow:{1:`0 1px 1px ${GA}`,2:`0 1px 1px ${ZA}`,3:`0 1px 1px ${QA}`}};var Tge=Object.create,zP=Object.defineProperty,Mge=Object.defineProperties,Nge=Object.getOwnPropertyDescriptor,Dge=Object.getOwnPropertyDescriptors,YA=Object.getOwnPropertySymbols,Age=Object.prototype.hasOwnProperty,Ige=Object.prototype.propertyIsEnumerable,X5=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),Nf=t=>{throw TypeError(t)},Ax=(t,e,n)=>e in t?zP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,so=(t,e)=>{for(var n in e||(e={}))Age.call(e,n)&&Ax(t,n,e[n]);if(YA)for(var n of YA(e))Ige.call(e,n)&&Ax(t,n,e[n]);return t},fl=(t,e)=>Mge(t,Dge(e)),XA=(t,e)=>zP(t,"name",{value:e,configurable:!0}),Lge=t=>{var e;return[,,,Tge((e=t==null?void 0:t[X5("metadata")])!=null?e:null)]},J5=["class","method","getter","setter","accessor","field","value","get","set"],zp=t=>t!==void 0&&typeof t!="function"?Nf("Function expected"):t,$ge=(t,e,n,r,o)=>({kind:J5[t],name:e,metadata:r,addInitializer:i=>n._?Nf("Already initialized"):o.push(zp(i||null))}),zge=(t,e)=>Ax(e,X5("metadata"),t[3]),eW=(t,e,n,r)=>{for(var o=0,i=t[e>>1],s=i&&i.length;o<s;o++)e&1?i[o].call(n):r=i[o].call(n,r);return r},FP=(t,e,n,r,o,i)=>{var s,a,l,u,d,c=e&7,f=!!(e&8),p=!!(e&16),m=c>3?t.length+1:c?f?1:2:0,g=J5[c+5],x=c>3&&(t[m-1]=[]),v=t[m]||(t[m]=[]),h=c&&(!p&&!f&&(o=o.prototype),c<5&&(c>3||!p)&&Nge(c<4?o:{get[n](){return pn(this,i)},set[n](y){return Di(this,i,y)}},n));c?p&&c<4&&XA(i,(c>2?"set ":c>1?"get ":"")+n):XA(o,n);for(var _=r.length-1;_>=0;_--)u=$ge(c,n,l={},t[3],v),c&&(u.static=f,u.private=p,d=u.access={has:p?y=>Fge(o,y):y=>n in y},c^3&&(d.get=p?y=>(c^1?pn:Bge)(y,o,c^4?i:h.get):y=>y[n]),c>2&&(d.set=p?(y,S)=>Di(y,o,S,c^4?i:h.set):(y,S)=>y[n]=S)),a=(0,r[_])(c?c<4?p?i:h[g]:c>4?void 0:{get:h.get,set:h.set}:o,u),l._=1,c^4||a===void 0?zp(a)&&(c>4?x.unshift(a):c?p?i=a:h[g]=a:o=a):typeof a!="object"||a===null?Nf("Object expected"):(zp(s=a.get)&&(h.get=s),zp(s=a.set)&&(h.set=s),zp(s=a.init)&&x.unshift(s));return c||zge(t,o),h&&zP(o,n,h),p?c^4?i:h:o},$a=(t,e,n)=>Ax(t,typeof e!="symbol"?e+"":e,n),BP=(t,e,n)=>e.has(t)||Nf("Cannot "+n),Fge=(t,e)=>Object(e)!==e?Nf('Cannot use the "in" operator on this value'):t.has(e),pn=(t,e,n)=>(BP(t,e,"read from private field"),n?n.call(t):e.get(t)),ms=(t,e,n)=>e.has(t)?Nf("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Di=(t,e,n,r)=>(BP(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Bge=(t,e,n)=>(BP(t,e,"access private method"),n),Fp,Bp,Mu,jp,jy,Vp,Up,Hp,Wp,tW=class Vy{constructor(e){$a(this,"events"),ms(this,Fp,gw()),ms(this,Bp,[]),ms(this,Mu,new Map),ms(this,jp,[]),ms(this,jy,!1),$a(this,"recentUpdate"),ms(this,Vp),ms(this,Up),ms(this,Hp),ms(this,Wp),$a(this,"hasChanged"),$a(this,"addListener",(r,o)=>pn(this,Fp).on(r,o));var n;Di(this,Vp,e),Di(this,Up,e.getActive),Di(this,Wp,e.getPosition),Di(this,Hp,e.getID),this.hasChanged=e.hasChanged,this.events=(n=e.events)!=null?n:["state","scroll"]}static create(e){return new Vy(e)}static fromPositioner(e,n){return Vy.create(so(so({},e.basePositioner),n))}get basePositioner(){return{getActive:pn(this,Up),getPosition:pn(this,Wp),hasChanged:this.hasChanged,events:this.events,getID:pn(this,Hp)}}onActiveChanged(e){this.recentUpdate=e;const n=pn(this,Up).call(this,e);Di(this,Bp,n),Di(this,Mu,new Map),Di(this,jy,!1),Di(this,jp,[]);const r=[];for(const[o,i]of n.entries()){const s=this.getID(i,o);pn(this,jp).push(s),r.push({setElement:a=>this.addProps(fl(so({},e),{data:i,element:a}),o),id:s,data:i})}pn(this,Fp).emit("update",r)}getID(e,n){var r,o;return(o=(r=pn(this,Hp))==null?void 0:r.call(this,e,n))!=null?o:n.toString()}addProps(e,n){if(pn(this,jy)||(pn(this,Mu).set(n,e),pn(this,Mu).size<pn(this,Bp).length))return;const r=[];for(const o of pn(this,Bp).keys()){const i=pn(this,Mu).get(o);Ke(i,{code:te.INTERNAL,message:"Something went wrong when retrieving the parameters"});const s=pn(this,jp)[o];if(!s)return;r.push({position:pn(this,Wp).call(this,i),element:i.element,id:s})}pn(this,Fp).emit("done",r)}clone(e){return Vy.create(so(so({},pn(this,Vp)),Gt(e)?e(pn(this,Vp)):e))}active(e){const n=Gt(e)?e:()=>e;return this.clone(r=>({getActive:o=>r.getActive(o).filter(n)}))}};Fp=new WeakMap;Bp=new WeakMap;Mu=new WeakMap;jp=new WeakMap;jy=new WeakMap;Vp=new WeakMap;Up=new WeakMap;Hp=new WeakMap;Wp=new WeakMap;$a(tW,"EMPTY",[]);var gi=tW;function jge(t,e=oW){var n;const{key:r}=(n=t==null?void 0:t.getMeta(rW))!=null?n:{};return r===e}function jP(t){const{tr:e,state:n,previousState:r}=t;return!r||e&&jge(e)?!0:e?Dfe(e):!n.doc.eq(r.doc)||!n.selection.eq(r.selection)}function nW(t,e,n={}){const r=e.getBoundingClientRect(),{accountForPadding:o=!1}=n;let i=0,s=0,a=0,l=0;if(Er(e)&&o){const d=Number.parseFloat(na(e,"padding-left").replace("px","")),c=Number.parseFloat(na(e,"padding-right").replace("px","")),f=Number.parseFloat(na(e,"padding-top").replace("px","")),p=Number.parseFloat(na(e,"padding-bottom").replace("px","")),m=Number.parseFloat(na(e,"border-left").replace("px","")),g=Number.parseFloat(na(e,"border-right").replace("px","")),x=Number.parseFloat(na(e,"border-top").replace("px","")),v=Number.parseFloat(na(e,"border-bottom").replace("px","")),h=e.offsetWidth-e.clientWidth,_=e.offsetHeight-e.clientHeight;i+=d+m+(e.dir==="rtl"?h:0),s+=c+g+(e.dir==="rtl"?0:h),a+=f+x,l+=p+v+_}const u=new DOMRect(r.left+i,r.top+a,r.width-s,r.height-l);for(const[d,c]of[[t.top,t.left],[t.top,t.right],[t.bottom,t.left],[t.bottom,t.right]])if(_D(d,u.top,u.bottom)&&_D(c,u.left,u.right))return!0;return!1}var JA="remirror-positioner-widget",rW="positionerUpdate",oW="__all_positioners__",iW={y:-999999,x:-999999,width:0,height:0},eI=fl(so({},iW),{left:-999999,top:-999999,bottom:-999999,right:-999999}),Vge=fl(so({},iW),{rect:fl(so({},eI),{toJSON:()=>eI}),visible:!1}),Uge=gi.create({hasChanged:jP,getActive(t){const{state:e}=t;if(!sH(e)||e.selection.$anchor.depth>2)return gi.EMPTY;const n=uw({predicate:r=>r.type.isBlock,selection:e});return n?[n]:gi.EMPTY},getPosition(t){const{view:e,data:n}=t,r=e.nodeDOM(n.pos);if(!Er(r))return Vge;const o=r.getBoundingClientRect(),i=e.dom.getBoundingClientRect(),s=o.height,a=o.width,l=e.dom.scrollLeft+o.left-i.left,u=e.dom.scrollTop+o.top-i.top,d=nW(o,e.dom);return{y:u,x:l,height:s,width:a,rect:o,visible:d}}});gi.create({hasChanged:jP,getActive(){return[!0]},getPosition(t){const{view:e}=t,n=e.dom.getBoundingClientRect(),r=Math.min(e.dom.clientHeight,n.height),o=Math.min(e.dom.clientWidth,n.width),i=e.dom.scrollLeft;return{y:e.dom.scrollTop,x:i,height:r,width:o,rect:n,visible:!0}}});var sW=Uge.clone(({getActive:t})=>({getActive:e=>{const[n]=t(e);return n&&_P(n.node)&&n.node.type===pw(e.state.schema)?[n]:gi.EMPTY}}));sW.clone(({getPosition:t})=>({getPosition:e=>fl(so({},t(e)),{width:1})}));sW.clone(({getPosition:t})=>({getPosition:e=>{const{width:n,x:r,y:o,height:i}=t(e);return fl(so({},t(e)),{width:1,x:n+r,rect:new DOMRect(n+r,o,1,i)})}}));function VP(t){return gi.create({hasChanged:jP,getActive:e=>{const{state:n,view:r}=e;if(!t(n)||!Rf(n.selection))return gi.EMPTY;try{const{head:o,anchor:i}=n.selection;return[{from:r.coordsAtPos(i),to:r.coordsAtPos(o)}]}catch{return gi.EMPTY}},getPosition(e){var n;const{element:r,data:o,view:i}=e,{from:s,to:a}=o,l=(n=r.offsetParent)!=null?n:i.dom,u=l.getBoundingClientRect(),d=Math.abs(a.bottom-s.top),c=d>s.bottom-s.top,f=Math.min(s.left,a.left),p=Math.min(s.top,a.top),m=l.scrollLeft+(c?a.left-u.left:f-u.left),g=l.scrollTop+p-u.top,x=c?1:Math.abs(s.left-a.right),v=new DOMRect(c?a.left:f,p,x,d),h=nW(v,i.dom);return{rect:v,y:g,x:m,height:d,width:x,visible:h}}})}var Hge=VP(t=>!t.selection.empty);VP(t=>t.selection.empty);VP(()=>!0);Hge.clone(()=>({getActive:t=>{const{state:e,view:n}=t;if(!e.selection.empty)return gi.EMPTY;const r=qfe(e);if(!r)return gi.EMPTY;try{return[{from:n.coordsAtPos(r.from),to:n.coordsAtPos(r.to)}]}catch{return gi.EMPTY}}}));var aW,lW,LE,cW,Df;cW=[kt({defaultOptions:{scrollDebounce:100},customHandlerKeys:["positioner"],staticKeys:["scrollDebounce"]})];var jc=class extends(LE=Zt,lW=[Me()],aW=[un()],LE){constructor(){super(...arguments),eW(Df,5,this),$a(this,"positioners",[]),$a(this,"element"),$a(this,"onAddCustomHandler",({positioner:t})=>{if(!!t)return this.positioners=[...this.positioners,t],this.store.commands.forceUpdate(),()=>{this.positioners=this.positioners.filter(e=>e!==t)}})}get name(){return"positioner"}createAttributes(){return{class:xge.EDITOR}}init(){this.onScroll=Gae(this.options.scrollDebounce,this.onScroll.bind(this))}createEventHandlers(){return{scroll:()=>(this.onScroll(),!1),hover:(t,e)=>(this.positioner(this.getBaseProps("hover",{hover:e})),!1),contextmenu:(t,e)=>(this.positioner(this.getBaseProps("contextmenu",{contextmenu:e})),!1)}}onStateUpdate(t){this.positioner(fl(so({},t),{previousState:t.firstUpdate?void 0:t.previousState,event:"state",helpers:this.store.helpers}))}createDecorations(t){var e;if((e=this.element)!=null||(this.element=this.createElement()),!this.element.hasChildNodes())return Rt.empty;const n=qt.widget(0,this.element,{key:"positioner-widget",side:-1,stopEvent:()=>!0});return Rt.create(t.doc,[n])}forceUpdatePositioners(t=oW){return({tr:e,dispatch:n})=>(n==null||n(e.setMeta(rW,{key:t})),!0)}getPositionerWidget(){var t;return(t=this.element)!=null?t:this.element=this.createElement()}createElement(){const t=document.createElement("span");return t.dataset.id=JA,t.classList.add(JA),t.setAttribute("role","presentation"),t}triggerPositioner(t,e){!t.hasChanged(e)||t.onActiveChanged(fl(so({},e),{view:this.store.view}))}positioner(t){for(const e of this.positioners)!e.events.includes(t.event)||this.triggerPositioner(e,t)}getBaseProps(t,e){const n=this.store.getState(),r=this.store.previousState;return so({helpers:this.store.helpers,event:t,firstUpdate:!1,previousState:r,state:n},e)}onScroll(){this.positioner(this.getBaseProps("scroll",{scroll:{scrollTop:this.store.view.dom.scrollTop}}))}};Df=Lge(LE);FP(Df,1,"forceUpdatePositioners",lW,jc);FP(Df,1,"getPositionerWidget",aW,jc);jc=FP(Df,0,"PositionerExtension",cW,jc);eW(Df,1,jc);var Wge=Object.create,UP=Object.defineProperty,Kge=Object.defineProperties,qge=Object.getOwnPropertyDescriptor,Gge=Object.getOwnPropertyDescriptors,tI=Object.getOwnPropertySymbols,Zge=Object.prototype.hasOwnProperty,Qge=Object.prototype.propertyIsEnumerable,uW=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),zg=t=>{throw TypeError(t)},$E=(t,e,n)=>e in t?UP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Yge=(t,e)=>{for(var n in e||(e={}))Zge.call(e,n)&&$E(t,n,e[n]);if(tI)for(var n of tI(e))Qge.call(e,n)&&$E(t,n,e[n]);return t},Xge=(t,e)=>Kge(t,Gge(e)),nI=(t,e)=>UP(t,"name",{value:e,configurable:!0}),Jge=t=>{var e;return[,,,Wge((e=t==null?void 0:t[uW("metadata")])!=null?e:null)]},dW=["class","method","getter","setter","accessor","field","value","get","set"],Kp=t=>t!==void 0&&typeof t!="function"?zg("Function expected"):t,eve=(t,e,n,r,o)=>({kind:dW[t],name:e,metadata:r,addInitializer:i=>n._?zg("Already initialized"):o.push(Kp(i||null))}),fW=(t,e)=>$E(e,uW("metadata"),t[3]),tve=(t,e,n,r)=>{for(var o=0,i=t[e>>1],s=i&&i.length;o<s;o++)e&1?i[o].call(n):r=i[o].call(n,r);return r},pW=(t,e,n,r,o,i)=>{var s,a,l,u,d,c=e&7,f=!!(e&8),p=!!(e&16),m=c>3?t.length+1:c?f?1:2:0,g=dW[c+5],x=c>3&&(t[m-1]=[]),v=t[m]||(t[m]=[]),h=c&&(!p&&!f&&(o=o.prototype),c<5&&(c>3||!p)&&qge(c<4?o:{get[n](){return rI(this,i)},set[n](y){return oI(this,i,y)}},n));c?p&&c<4&&nI(i,(c>2?"set ":c>1?"get ":"")+n):nI(o,n);for(var _=r.length-1;_>=0;_--)u=eve(c,n,l={},t[3],v),c&&(u.static=f,u.private=p,d=u.access={has:p?y=>nve(o,y):y=>n in y},c^3&&(d.get=p?y=>(c^1?rI:rve)(y,o,c^4?i:h.get):y=>y[n]),c>2&&(d.set=p?(y,S)=>oI(y,o,S,c^4?i:h.set):(y,S)=>y[n]=S)),a=(0,r[_])(c?c<4?p?i:h[g]:c>4?void 0:{get:h.get,set:h.set}:o,u),l._=1,c^4||a===void 0?Kp(a)&&(c>4?x.unshift(a):c?p?i=a:h[g]=a:o=a):typeof a!="object"||a===null?zg("Object expected"):(Kp(s=a.get)&&(h.get=s),Kp(s=a.set)&&(h.set=s),Kp(s=a.init)&&x.unshift(s));return c||fW(t,o),h&&UP(o,n,h),p?c^4?i:h:o},HP=(t,e,n)=>e.has(t)||zg("Cannot "+n),nve=(t,e)=>Object(e)!==e?zg('Cannot use the "in" operator on this value'):t.has(e),rI=(t,e,n)=>(HP(t,e,"read from private field"),n?n.call(t):e.get(t)),oI=(t,e,n,r)=>(HP(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),rve=(t,e,n)=>(HP(t,e,"access private method"),n),hW,mW,zE,Fg,_w=class extends(zE=Bo,mW=[Me({icon:"doubleQuotesL",description:({t})=>t(FD.DESCRIPTION),label:({t})=>t(FD.LABEL)})],hW=[yr({shortcut:"Ctrl->",command:"toggleBlockquote"})],zE){constructor(){super(...arguments),tve(Fg,5,this)}get name(){return"blockquote"}createTags(){return[tt.Block,tt.FormattingNode]}createNodeSpec(t,e){var n;return Xge(Yge({content:"block+",defining:!0,draggable:!1},e),{attrs:t.defaults(),parseDOM:[{tag:"blockquote",getAttrs:t.parse,priority:100},...(n=e.parseDOM)!=null?n:[]],toDOM:r=>["blockquote",t.dom(r),0]})}toggleBlockquote(){return mH(this.type)}shortcut(t){return this.toggleBlockquote()(t)}createInputRules(){return[sw(/^\s*>\s$/,this.type)]}createPasteRules(){return{type:"node",nodeType:this.type,regexp:/^\s*>\s$/,startOfTextBlock:!0}}};Fg=Jge(zE);pW(Fg,1,"toggleBlockquote",mW,_w);pW(Fg,1,"shortcut",hW,_w);fW(Fg,_w);var ove=Object.create,WP=Object.defineProperty,ive=Object.defineProperties,sve=Object.getOwnPropertyDescriptor,ave=Object.getOwnPropertyDescriptors,iI=Object.getOwnPropertySymbols,lve=Object.prototype.hasOwnProperty,cve=Object.prototype.propertyIsEnumerable,gW=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),Bg=t=>{throw TypeError(t)},FE=(t,e,n)=>e in t?WP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uve=(t,e)=>{for(var n in e||(e={}))lve.call(e,n)&&FE(t,n,e[n]);if(iI)for(var n of iI(e))cve.call(e,n)&&FE(t,n,e[n]);return t},dve=(t,e)=>ive(t,ave(e)),sI=(t,e)=>WP(t,"name",{value:e,configurable:!0}),fve=t=>{var e;return[,,,ove((e=t==null?void 0:t[gW("metadata")])!=null?e:null)]},vW=["class","method","getter","setter","accessor","field","value","get","set"],qp=t=>t!==void 0&&typeof t!="function"?Bg("Function expected"):t,pve=(t,e,n,r,o)=>({kind:vW[t],name:e,metadata:r,addInitializer:i=>n._?Bg("Already initialized"):o.push(qp(i||null))}),hve=(t,e)=>FE(e,gW("metadata"),t[3]),yW=(t,e,n,r)=>{for(var o=0,i=t[e>>1],s=i&&i.length;o<s;o++)e&1?i[o].call(n):r=i[o].call(n,r);return r},jg=(t,e,n,r,o,i)=>{var s,a,l,u,d,c=e&7,f=!!(e&8),p=!!(e&16),m=c>3?t.length+1:c?f?1:2:0,g=vW[c+5],x=c>3&&(t[m-1]=[]),v=t[m]||(t[m]=[]),h=c&&(!p&&!f&&(o=o.prototype),c<5&&(c>3||!p)&&sve(c<4?o:{get[n](){return aI(this,i)},set[n](y){return lI(this,i,y)}},n));c?p&&c<4&&sI(i,(c>2?"set ":c>1?"get ":"")+n):sI(o,n);for(var _=r.length-1;_>=0;_--)u=pve(c,n,l={},t[3],v),c&&(u.static=f,u.private=p,d=u.access={has:p?y=>mve(o,y):y=>n in y},c^3&&(d.get=p?y=>(c^1?aI:gve)(y,o,c^4?i:h.get):y=>y[n]),c>2&&(d.set=p?(y,S)=>lI(y,o,S,c^4?i:h.set):(y,S)=>y[n]=S)),a=(0,r[_])(c?c<4?p?i:h[g]:c>4?void 0:{get:h.get,set:h.set}:o,u),l._=1,c^4||a===void 0?qp(a)&&(c>4?x.unshift(a):c?p?i=a:h[g]=a:o=a):typeof a!="object"||a===null?Bg("Object expected"):(qp(s=a.get)&&(h.get=s),qp(s=a.set)&&(h.set=s),qp(s=a.init)&&x.unshift(s));return c||hve(t,o),h&&WP(o,n,h),p?c^4?i:h:o},KP=(t,e,n)=>e.has(t)||Bg("Cannot "+n),mve=(t,e)=>Object(e)!==e?Bg('Cannot use the "in" operator on this value'):t.has(e),aI=(t,e,n)=>(KP(t,e,"read from private field"),n?n.call(t):e.get(t)),lI=(t,e,n,r)=>(KP(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),gve=(t,e,n)=>(KP(t,e,"access private method"),n),vve={icon:"bold",label:({t})=>t(BD.LABEL),description:({t})=>t(BD.DESCRIPTION)},xW,_W,wW,bW,BE,SW,Ol;SW=[kt({defaultOptions:{weight:void 0},staticKeys:["weight"]})];var pl=class extends(BE=tu,bW=[Me(vve)],wW=[Me()],_W=[Me()],xW=[yr({shortcut:ne.Bold,command:"toggleBold"})],BE){constructor(){super(...arguments),yW(Ol,5,this)}get name(){return"bold"}createTags(){return[tt.FormattingMark,tt.FontStyle]}createMarkSpec(t,e){var n;return dve(uve({},e),{attrs:t.defaults(),parseDOM:[{tag:"strong",getAttrs:t.parse},{tag:"b",getAttrs:r=>Er(r)&&r.style.fontWeight!=="normal"?t.parse(r):!1},{style:"font-weight",getAttrs:r=>Ye(r)&&/^(bold(er)?|[5-9]\d{2,})$/.test(r)?null:!1},...(n=e.parseDOM)!=null?n:[]],toDOM:r=>{const{weight:o}=this.options;return o?["strong",{"font-weight":o.toString()},0]:["strong",t.dom(r),0]}})}createInputRules(){return[Fm({regexp:/(?:\*\*|__)([^*_]+)(?:\*\*|__)$/,type:this.type,ignoreWhitespace:!0})]}toggleBold(t){return ul({type:this.type,selection:t})}setBold(t){return({tr:e,dispatch:n})=>{const{from:r,to:o}=bi(t!=null?t:e.selection,e.doc);return n==null||n(e.addMark(r,o,this.type.create())),!0}}removeBold(t){return({tr:e,dispatch:n})=>{const{from:r,to:o}=bi(t!=null?t:e.selection,e.doc);return e.doc.rangeHasMark(r,o,this.type)?(n==null||n(e.removeMark(r,o,this.type)),!0):!1}}shortcut(t){return this.toggleBold()(t)}};Ol=fve(BE);jg(Ol,1,"toggleBold",bW,pl);jg(Ol,1,"setBold",wW,pl);jg(Ol,1,"removeBold",_W,pl);jg(Ol,1,"shortcut",xW,pl);pl=jg(Ol,0,"BoldExtension",SW,pl);yW(Ol,1,pl);var yve=Object.create,qP=Object.defineProperty,xve=Object.defineProperties,_ve=Object.getOwnPropertyDescriptor,wve=Object.getOwnPropertyDescriptors,cI=Object.getOwnPropertySymbols,bve=Object.prototype.hasOwnProperty,Sve=Object.prototype.propertyIsEnumerable,EW=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),Vg=t=>{throw TypeError(t)},jE=(t,e,n)=>e in t?qP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uI=(t,e)=>{for(var n in e||(e={}))bve.call(e,n)&&jE(t,n,e[n]);if(cI)for(var n of cI(e))Sve.call(e,n)&&jE(t,n,e[n]);return t},Eve=(t,e)=>xve(t,wve(e)),dI=(t,e)=>qP(t,"name",{value:e,configurable:!0}),kve=t=>{var e;return[,,,yve((e=t==null?void 0:t[EW("metadata")])!=null?e:null)]},kW=["class","method","getter","setter","accessor","field","value","get","set"],Gp=t=>t!==void 0&&typeof t!="function"?Vg("Function expected"):t,Cve=(t,e,n,r,o)=>({kind:kW[t],name:e,metadata:r,addInitializer:i=>n._?Vg("Already initialized"):o.push(Gp(i||null))}),Ove=(t,e)=>jE(e,EW("metadata"),t[3]),CW=(t,e,n,r)=>{for(var o=0,i=t[e>>1],s=i&&i.length;o<s;o++)e&1?i[o].call(n):r=i[o].call(n,r);return r},GP=(t,e,n,r,o,i)=>{var s,a,l,u,d,c=e&7,f=!!(e&8),p=!!(e&16),m=c>3?t.length+1:c?f?1:2:0,g=kW[c+5],x=c>3&&(t[m-1]=[]),v=t[m]||(t[m]=[]),h=c&&(!p&&!f&&(o=o.prototype),c<5&&(c>3||!p)&&_ve(c<4?o:{get[n](){return fI(this,i)},set[n](y){return pI(this,i,y)}},n));c?p&&c<4&&dI(i,(c>2?"set ":c>1?"get ":"")+n):dI(o,n);for(var _=r.length-1;_>=0;_--)u=Cve(c,n,l={},t[3],v),c&&(u.static=f,u.private=p,d=u.access={has:p?y=>Pve(o,y):y=>n in y},c^3&&(d.get=p?y=>(c^1?fI:Rve)(y,o,c^4?i:h.get):y=>y[n]),c>2&&(d.set=p?(y,S)=>pI(y,o,S,c^4?i:h.set):(y,S)=>y[n]=S)),a=(0,r[_])(c?c<4?p?i:h[g]:c>4?void 0:{get:h.get,set:h.set}:o,u),l._=1,c^4||a===void 0?Gp(a)&&(c>4?x.unshift(a):c?p?i=a:h[g]=a:o=a):typeof a!="object"||a===null?Vg("Object expected"):(Gp(s=a.get)&&(h.get=s),Gp(s=a.set)&&(h.set=s),Gp(s=a.init)&&x.unshift(s));return c||Ove(t,o),h&&qP(o,n,h),p?c^4?i:h:o},ZP=(t,e,n)=>e.has(t)||Vg("Cannot "+n),Pve=(t,e)=>Object(e)!==e?Vg('Cannot use the "in" operator on this value'):t.has(e),fI=(t,e,n)=>(ZP(t,e,"read from private field"),n?n.call(t):e.get(t)),pI=(t,e,n,r)=>(ZP(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Rve=(t,e,n)=>(ZP(t,e,"access private method"),n),{DESCRIPTION:Tve,LABEL:Mve}=Fce,Nve={icon:"codeLine",description:({t})=>t(Tve),label:({t})=>t(Mve)},OW,PW,VE,RW,Af;RW=[kt({})];var sf=class extends(VE=tu,PW=[yr({shortcut:ne.Code,command:"toggleCode"})],OW=[Me(Nve)],VE){constructor(){super(...arguments),CW(Af,5,this)}get name(){return"code"}createTags(){return[tt.Code,tt.ExcludeInputRules]}createMarkSpec(t,e){var n;return Eve(uI({excludes:"_"},e),{attrs:t.defaults(),parseDOM:[{tag:"code",getAttrs:t.parse},...(n=e.parseDOM)!=null?n:[]],toDOM:r=>["code",uI({spellcheck:"false"},t.dom(r)),0]})}createKeymap(){return{"Mod-`":ul({type:this.type})}}keyboardShortcut(t){return this.toggleCode()(t)}toggleCode(){return ul({type:this.type})}createInputRules(){return[Fm({regexp:new RegExp("(?:`)([^`".concat(YO,"]+)(?:`)$")),type:this.type,ignoreWhitespace:!0})]}createPasteRules(){return[{type:"mark",regexp:/`([^`]+)`/g,markType:this.type}]}};Af=kve(VE);GP(Af,1,"keyboardShortcut",PW,sf);GP(Af,1,"toggleCode",OW,sf);sf=GP(Af,0,"CodeExtension",RW,sf);CW(Af,1,sf);var Dve=Object.create,QP=Object.defineProperty,Ave=Object.getOwnPropertyDescriptor,hI=Object.getOwnPropertySymbols,Ive=Object.prototype.hasOwnProperty,Lve=Object.prototype.propertyIsEnumerable,TW=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),Ug=t=>{throw TypeError(t)},UE=(t,e,n)=>e in t?QP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$ve=(t,e)=>{for(var n in e||(e={}))Ive.call(e,n)&&UE(t,n,e[n]);if(hI)for(var n of hI(e))Lve.call(e,n)&&UE(t,n,e[n]);return t},mI=(t,e)=>QP(t,"name",{value:e,configurable:!0}),zve=t=>{var e;return[,,,Dve((e=t==null?void 0:t[TW("metadata")])!=null?e:null)]},MW=["class","method","getter","setter","accessor","field","value","get","set"],Zp=t=>t!==void 0&&typeof t!="function"?Ug("Function expected"):t,Fve=(t,e,n,r,o)=>({kind:MW[t],name:e,metadata:r,addInitializer:i=>n._?Ug("Already initialized"):o.push(Zp(i||null))}),Bve=(t,e)=>UE(e,TW("metadata"),t[3]),NW=(t,e,n,r)=>{for(var o=0,i=t[e>>1],s=i&&i.length;o<s;o++)e&1?i[o].call(n):r=i[o].call(n,r);return r},YP=(t,e,n,r,o,i)=>{var s,a,l,u,d,c=e&7,f=!!(e&8),p=!!(e&16),m=c>3?t.length+1:c?f?1:2:0,g=MW[c+5],x=c>3&&(t[m-1]=[]),v=t[m]||(t[m]=[]),h=c&&(!p&&!f&&(o=o.prototype),c<5&&(c>3||!p)&&Ave(c<4?o:{get[n](){return gI(this,i)},set[n](y){return vI(this,i,y)}},n));c?p&&c<4&&mI(i,(c>2?"set ":c>1?"get ":"")+n):mI(o,n);for(var _=r.length-1;_>=0;_--)u=Fve(c,n,l={},t[3],v),c&&(u.static=f,u.private=p,d=u.access={has:p?y=>jve(o,y):y=>n in y},c^3&&(d.get=p?y=>(c^1?gI:Vve)(y,o,c^4?i:h.get):y=>y[n]),c>2&&(d.set=p?(y,S)=>vI(y,o,S,c^4?i:h.set):(y,S)=>y[n]=S)),a=(0,r[_])(c?c<4?p?i:h[g]:c>4?void 0:{get:h.get,set:h.set}:o,u),l._=1,c^4||a===void 0?Zp(a)&&(c>4?x.unshift(a):c?p?i=a:h[g]=a:o=a):typeof a!="object"||a===null?Ug("Object expected"):(Zp(s=a.get)&&(h.get=s),Zp(s=a.set)&&(h.set=s),Zp(s=a.init)&&x.unshift(s));return c||Bve(t,o),h&&QP(o,n,h),p?c^4?i:h:o},XP=(t,e,n)=>e.has(t)||Ug("Cannot "+n),jve=(t,e)=>Object(e)!==e?Ug('Cannot use the "in" operator on this value'):t.has(e),gI=(t,e,n)=>(XP(t,e,"read from private field"),n?n.call(t):e.get(t)),vI=(t,e,n,r)=>(XP(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Vve=(t,e,n)=>(XP(t,e,"access private method"),n),DW,AW,HE,IW,If;IW=[kt({defaultOptions:{content:"block+",docAttributes:[]},defaultPriority:At.Medium,staticKeys:["content","docAttributes"],disableExtraAttributes:!0})];var Vc=class extends(HE=Bo,AW=[Me()],DW=[un()],HE){constructor(){super(...arguments),NW(If,5,this)}get name(){return"doc"}createNodeSpec(t,e){const{docAttributes:n,content:r}=this.options,o=ze();if(Jc(n))for(const[i,s]of On(n))o[i]={default:s};else for(const i of n)o[i]={default:null};return $ve({attrs:o,content:r},e)}setDocAttributes(t){return({tr:e,dispatch:n})=>{if(n){for(const[r,o]of Object.entries(t))e.setDocAttribute(r,o);n(e)}return!0}}isDefaultDocNode({state:t=this.store.getState(),options:e}={}){return xP(t.doc,e)}};If=zve(HE);YP(If,1,"setDocAttributes",AW,Vc);YP(If,1,"isDefaultDocNode",DW,Vc);Vc=YP(If,0,"DocExtension",IW,Vc);NW(If,1,Vc);var Uve=Object.create,JP=Object.defineProperty,Hve=Object.defineProperties,Wve=Object.getOwnPropertyDescriptor,Kve=Object.getOwnPropertyDescriptors,yI=Object.getOwnPropertySymbols,qve=Object.prototype.hasOwnProperty,Gve=Object.prototype.propertyIsEnumerable,LW=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),Hg=t=>{throw TypeError(t)},Ix=(t,e,n)=>e in t?JP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,oy=(t,e)=>{for(var n in e||(e={}))qve.call(e,n)&&Ix(t,n,e[n]);if(yI)for(var n of yI(e))Gve.call(e,n)&&Ix(t,n,e[n]);return t},iy=(t,e)=>Hve(t,Kve(e)),xI=(t,e)=>JP(t,"name",{value:e,configurable:!0}),Zve=t=>{var e;return[,,,Uve((e=t==null?void 0:t[LW("metadata")])!=null?e:null)]},$W=["class","method","getter","setter","accessor","field","value","get","set"],Qp=t=>t!==void 0&&typeof t!="function"?Hg("Function expected"):t,Qve=(t,e,n,r,o)=>({kind:$W[t],name:e,metadata:r,addInitializer:i=>n._?Hg("Already initialized"):o.push(Qp(i||null))}),Yve=(t,e)=>Ix(e,LW("metadata"),t[3]),zW=(t,e,n,r)=>{for(var o=0,i=t[e>>1],s=i&&i.length;o<s;o++)e&1?i[o].call(n):r=i[o].call(n,r);return r},FW=(t,e,n,r,o,i)=>{var s,a,l,u,d,c=e&7,f=!!(e&8),p=!!(e&16),m=c>3?t.length+1:c?f?1:2:0,g=$W[c+5],x=c>3&&(t[m-1]=[]),v=t[m]||(t[m]=[]),h=c&&(!p&&!f&&(o=o.prototype),c<5&&(c>3||!p)&&Wve(c<4?o:{get[n](){return _I(this,i)},set[n](y){return wI(this,i,y)}},n));c?p&&c<4&&xI(i,(c>2?"set ":c>1?"get ":"")+n):xI(o,n);for(var _=r.length-1;_>=0;_--)u=Qve(c,n,l={},t[3],v),c&&(u.static=f,u.private=p,d=u.access={has:p?y=>Xve(o,y):y=>n in y},c^3&&(d.get=p?y=>(c^1?_I:Jve)(y,o,c^4?i:h.get):y=>y[n]),c>2&&(d.set=p?(y,S)=>wI(y,o,S,c^4?i:h.set):(y,S)=>y[n]=S)),a=(0,r[_])(c?c<4?p?i:h[g]:c>4?void 0:{get:h.get,set:h.set}:o,u),l._=1,c^4||a===void 0?Qp(a)&&(c>4?x.unshift(a):c?p?i=a:h[g]=a:o=a):typeof a!="object"||a===null?Hg("Object expected"):(Qp(s=a.get)&&(h.get=s),Qp(s=a.set)&&(h.set=s),Qp(s=a.init)&&x.unshift(s));return c||Yve(t,o),h&&JP(o,n,h),p?c^4?i:h:o},Qb=(t,e,n)=>Ix(t,typeof e!="symbol"?e+"":e,n),eR=(t,e,n)=>e.has(t)||Hg("Cannot "+n),Xve=(t,e)=>Object(e)!==e?Hg('Cannot use the "in" operator on this value'):t.has(e),_I=(t,e,n)=>(eR(t,e,"read from private field"),n?n.call(t):e.get(t)),wI=(t,e,n,r)=>(eR(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Jve=(t,e,n)=>(eR(t,e,"access private method"),n);function eye(t,e,n,r){const o=t.docView.posFromDOM(e,n,r);return o===null||o<0?null:o}function tye(t,e){var n;const r=e.target;if(r){const o=eye(t,r,0);if(o!==null){const i=t.state.doc.resolve(o),s=i.node().isLeaf?0:1,a=i.start()-s;return{pos:o,inside:a}}}return(n=t.posAtCoords({left:e.clientX,top:e.clientY}))!=null?n:void 0}var BW,WE,jW,Wg;jW=[kt({handlerKeys:["blur","focus","mousedown","mouseup","mouseenter","mouseleave","textInput","keypress","keyup","keydown","click","clickMark","doubleClick","doubleClickMark","tripleClick","tripleClickMark","contextmenu","hover","scroll","copy","cut","paste","editable"],handlerKeyOptions:{blur:{earlyReturnValue:!0},focus:{earlyReturnValue:!0},mousedown:{earlyReturnValue:!0},mouseleave:{earlyReturnValue:!0},mouseup:{earlyReturnValue:!0},click:{earlyReturnValue:!0},doubleClick:{earlyReturnValue:!0},tripleClick:{earlyReturnValue:!0},hover:{earlyReturnValue:!0},contextmenu:{earlyReturnValue:!0},scroll:{earlyReturnValue:!0},copy:{earlyReturnValue:!0},cut:{earlyReturnValue:!0},paste:{earlyReturnValue:!0}},defaultPriority:At.High})];var jm=class extends(WE=Zt,BW=[un()],WE){constructor(){super(...arguments),zW(Wg,5,this),Qb(this,"mousedown",!1),Qb(this,"mouseover",!1),Qb(this,"createMouseEventHandler",t=>(e,n)=>{var r;const o=n,i=tye(e,o);if(!i)return!1;const s=[],a=[],{inside:l,pos:u}=i;if(l===-1)return!1;const d=e.state.doc.resolve(u),c=d.depth+1;for(const f of NV(c,1))s.push({node:f>d.depth&&d.nodeAfter?d.nodeAfter:d.node(f),pos:d.before(f)});for(const{type:f}of(r=d.marksAcross(d))!=null?r:[]){const p=eu(d,f);p&&a.push(p)}return t(o,{view:e,nodes:s,marks:a,getMark:f=>{const p=Ye(f)?e.state.schema.marks[f]:f;return Ke(p,{code:te.EXTENSION,message:"The mark ".concat(f," being checked does not exist within the editor schema.")}),a.find(m=>m.mark.type===p)},getNode:f=>{var p;const m=Ye(f)?e.state.schema.nodes[f]:f;Ke(m,{code:te.EXTENSION,message:"The node being checked does not exist"});const g=s.find(({node:x})=>x.type===m);if(!!g)return iy(oy({},g),{isRoot:!!((p=s[0])!=null&&p.node.eq(g.node))})}})})}get name(){return"events"}onView(){var t,e;if(!((t=this.store.managerSettings.exclude)!=null&&t.clickHandler))for(const n of this.store.extensions){if(!n.createEventHandlers||((e=n.options.exclude)==null?void 0:e.clickHandler))continue;const r=n.createEventHandlers();for(const[o,i]of On(r))this.addHandler(o,i)}}createPlugin(){const t=new WeakMap,e=(n,r,o,i,s,a,l,u)=>{const d=this.store.currentState,{schema:c,doc:f}=d,p=f.resolve(i),m=t.has(l),g=nye({$pos:p,handled:m,view:o,state:d});let x=!1;m||(x=n(l,g)||x);const v=iy(oy({},g),{pos:i,direct:u,nodeWithPosition:{node:s,pos:a},getNode:h=>{const _=Ye(h)?c.nodes[h]:h;return Ke(_,{code:te.EXTENSION,message:"The node being checked does not exist"}),_===s.type?{node:s,pos:a}:void 0}});return t.set(l,!0),r(l,v)||x};return{props:{handleKeyPress:(n,r)=>this.options.keypress(r)||!1,handleKeyDown:(n,r)=>this.options.keydown(r)||!1,handleTextInput:(n,r,o,i)=>this.options.textInput({from:r,to:o,text:i})||!1,handleClickOn:(n,r,o,i,s,a)=>e(this.options.clickMark,this.options.click,n,r,o,i,s,a),handleDoubleClickOn:(n,r,o,i,s,a)=>e(this.options.doubleClickMark,this.options.doubleClick,n,r,o,i,s,a),handleTripleClickOn:(n,r,o,i,s,a)=>e(this.options.tripleClickMark,this.options.tripleClick,n,r,o,i,s,a),handleDOMEvents:{focus:(n,r)=>this.options.focus(r)||!1,blur:(n,r)=>this.options.blur(r)||!1,mousedown:(n,r)=>(this.startMouseover(),this.options.mousedown(r)||!1),mouseup:(n,r)=>(this.endMouseover(),this.options.mouseup(r)||!1),mouseleave:(n,r)=>(this.mouseover=!1,this.options.mouseleave(r)||!1),mouseenter:(n,r)=>(this.mouseover=!0,this.options.mouseenter(r)||!1),keyup:(n,r)=>this.options.keyup(r)||!1,mouseout:this.createMouseEventHandler((n,r)=>{const o=iy(oy({},r),{hovering:!1});return this.options.hover(n,o)||!1}),mouseover:this.createMouseEventHandler((n,r)=>{const o=iy(oy({},r),{hovering:!0});return this.options.hover(n,o)||!1}),contextmenu:this.createMouseEventHandler((n,r)=>this.options.contextmenu(n,r)||!1),scroll:(n,r)=>this.options.scroll(r)||!1,copy:(n,r)=>this.options.copy(r)||!1,cut:(n,r)=>this.options.cut(r)||!1,paste:(n,r)=>this.options.paste(r)||!1}},view:n=>{let r=n.editable;const o=this.options;return{update(i){const s=i.editable;s!==r&&(o.editable(s),r=s)}}}}}isInteracting(){return this.mousedown&&this.mouseover}startMouseover(){this.mouseover=!0,!this.mousedown&&(this.mousedown=!0,this.store.document.documentElement.addEventListener("mouseup",()=>{this.endMouseover()},{once:!0}))}endMouseover(){!this.mousedown||(this.mousedown=!1,this.store.commands.emptyUpdate())}};Wg=Zve(WE);FW(Wg,1,"isInteracting",BW,jm);jm=FW(Wg,0,"EventsExtension",jW,jm);zW(Wg,1,jm);function nye(t){var e;const{handled:n,view:r,$pos:o,state:i}=t,s={getMark:TV,markRanges:[],view:r,state:i};if(n)return s;for(const{type:a}of(e=o.marksAcross(o))!=null?e:[]){const l=eu(o,a);l&&s.markRanges.push(l)}return s.getMark=a=>{const l=Ye(a)?i.schema.marks[a]:a;return Ke(l,{code:te.EXTENSION,message:"The mark ".concat(a," being checked does not exist within the editor schema.")}),s.markRanges.find(u=>u.mark.type===l)},s}var rye=Object.create,tR=Object.defineProperty,oye=Object.defineProperties,iye=Object.getOwnPropertyDescriptor,sye=Object.getOwnPropertyDescriptors,bI=Object.getOwnPropertySymbols,aye=Object.prototype.hasOwnProperty,lye=Object.prototype.propertyIsEnumerable,VW=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),Kg=t=>{throw TypeError(t)},KE=(t,e,n)=>e in t?tR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sy=(t,e)=>{for(var n in e||(e={}))aye.call(e,n)&&KE(t,n,e[n]);if(bI)for(var n of bI(e))lye.call(e,n)&&KE(t,n,e[n]);return t},ay=(t,e)=>oye(t,sye(e)),SI=(t,e)=>tR(t,"name",{value:e,configurable:!0}),cye=t=>{var e;return[,,,rye((e=t==null?void 0:t[VW("metadata")])!=null?e:null)]},UW=["class","method","getter","setter","accessor","field","value","get","set"],Yp=t=>t!==void 0&&typeof t!="function"?Kg("Function expected"):t,uye=(t,e,n,r,o)=>({kind:UW[t],name:e,metadata:r,addInitializer:i=>n._?Kg("Already initialized"):o.push(Yp(i||null))}),dye=(t,e)=>KE(e,VW("metadata"),t[3]),HW=(t,e,n,r)=>{for(var o=0,i=t[e>>1],s=i&&i.length;o<s;o++)e&1?i[o].call(n):r=i[o].call(n,r);return r},nR=(t,e,n,r,o,i)=>{var s,a,l,u,d,c=e&7,f=!!(e&8),p=!!(e&16),m=c>3?t.length+1:c?f?1:2:0,g=UW[c+5],x=c>3&&(t[m-1]=[]),v=t[m]||(t[m]=[]),h=c&&(!p&&!f&&(o=o.prototype),c<5&&(c>3||!p)&&iye(c<4?o:{get[n](){return EI(this,i)},set[n](y){return kI(this,i,y)}},n));c?p&&c<4&&SI(i,(c>2?"set ":c>1?"get ":"")+n):SI(o,n);for(var _=r.length-1;_>=0;_--)u=uye(c,n,l={},t[3],v),c&&(u.static=f,u.private=p,d=u.access={has:p?y=>fye(o,y):y=>n in y},c^3&&(d.get=p?y=>(c^1?EI:pye)(y,o,c^4?i:h.get):y=>y[n]),c>2&&(d.set=p?(y,S)=>kI(y,o,S,c^4?i:h.set):(y,S)=>y[n]=S)),a=(0,r[_])(c?c<4?p?i:h[g]:c>4?void 0:{get:h.get,set:h.set}:o,u),l._=1,c^4||a===void 0?Yp(a)&&(c>4?x.unshift(a):c?p?i=a:h[g]=a:o=a):typeof a!="object"||a===null?Kg("Object expected"):(Yp(s=a.get)&&(h.get=s),Yp(s=a.set)&&(h.set=s),Yp(s=a.init)&&x.unshift(s));return c||dye(t,o),h&&tR(o,n,h),p?c^4?i:h:o},rR=(t,e,n)=>e.has(t)||Kg("Cannot "+n),fye=(t,e)=>Object(e)!==e?Kg('Cannot use the "in" operator on this value'):t.has(e),EI=(t,e,n)=>(rR(t,e,"read from private field"),n?n.call(t):e.get(t)),kI=(t,e,n,r)=>(rR(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),pye=(t,e,n)=>(rR(t,e,"access private method"),n),Yb="data-font-family",WW,KW,qE,qW,Lf;qW=[kt({})];var af=class extends(qE=tu,KW=[Me()],WW=[Me()],qE){constructor(){super(...arguments),HW(Lf,5,this)}get name(){return"fontFamily"}createTags(){return[tt.FontStyle,tt.FormattingMark]}createMarkSpec(t,e){var n;return ay(sy({},e),{attrs:ay(sy({},t.defaults()),{fontFamily:{default:null}}),parseDOM:[{tag:"span[".concat(Yb,"]"),getAttrs:r=>{if(!Er(r))return!1;const o=r.getAttribute(Yb);return o?ay(sy({},t.parse(r)),{fontFamily:o}):!1}},{style:"font-family",priority:At.Low,getAttrs:r=>Ye(r)?{fontFamily:r?r.replace(/["']/g,""):""}:!1},...(n=e.parseDOM)!=null?n:[]],toDOM:r=>{const{fontFamily:o}=rpe(r.attrs,t),i=t.dom(r);let s=i.style;return s=ope({fontFamily:o},s),["span",ay(sy({},i),{style:s,[Yb]:o}),0]}})}setFontFamily(t){return this.store.commands.applyMark.original(this.type,{fontFamily:t})}toggleFontFamily(t){return this.store.commands.toggleMark.original({type:this.type,attrs:{fontFamily:t}})}};Lf=cye(qE);nR(Lf,1,"setFontFamily",KW,af);nR(Lf,1,"toggleFontFamily",WW,af);af=nR(Lf,0,"FontFamilyExtension",qW,af);HW(Lf,1,af);class en extends mt{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return en.valid(r)?new en(r):mt.near(r)}content(){return ue.empty}eq(e){return e instanceof en&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new en(e.resolve(n.pos))}getBookmark(){return new oR(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!hye(e)||!mye(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let o=n.contentMatchAt(e.index()).defaultType;return o&&o.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&en.valid(e))return e;let o=e.pos,i=null;for(let s=e.depth;;s--){let a=e.node(s);if(n>0?e.indexAfter(s)<a.childCount:e.index(s)>0){i=a.child(n>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;o+=n;let l=e.doc.resolve(o);if(en.valid(l))return l}for(;;){let s=n>0?i.firstChild:i.lastChild;if(!s){if(i.isAtom&&!i.isText&&!qe.isSelectable(i)){e=e.doc.resolve(o+i.nodeSize*n),r=!1;continue e}break}i=s,o+=n;let a=e.doc.resolve(o);if(en.valid(a))return a}return null}}}en.prototype.visible=!1;en.findFrom=en.findGapCursorFrom;mt.jsonID("gapcursor",en);class oR{constructor(e){this.pos=e}map(e){return new oR(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return en.valid(n)?new en(n):mt.near(n)}}function hye(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(n-1);;o=o.lastChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function mye(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(n);;o=o.firstChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function gye(){return new El({props:{decorations:_ye,createSelectionBetween(t,e,n){return e.pos==n.pos&&en.valid(n)?new en(n):null},handleClick:yye,handleKeyDown:vye,handleDOMEvents:{beforeinput:xye}}})}const vye=CH({ArrowLeft:ly("horiz",-1),ArrowRight:ly("horiz",1),ArrowUp:ly("vert",-1),ArrowDown:ly("vert",1)});function ly(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,o,i){let s=r.selection,a=e>0?s.$to:s.$from,l=s.empty;if(s instanceof nt){if(!i.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let u=en.findGapCursorFrom(a,e,l);return u?(o&&o(r.tr.setSelection(new en(u))),!0):!1}}function yye(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!en.valid(r))return!1;let o=t.posAtCoords({left:n.clientX,top:n.clientY});return o&&o.inside>-1&&qe.isSelectable(t.state.doc.nodeAt(o.inside))?!1:(t.dispatch(t.state.tr.setSelection(new en(r))),!0)}function xye(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof en))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let o=V.empty;for(let s=r.length-1;s>=0;s--)o=V.from(r[s].createAndFill(null,o));let i=t.state.tr.replace(n.pos,n.pos,new ue(o,0,0));return i.setSelection(nt.near(i.doc.resolve(n.pos+1))),t.dispatch(i),!1}function _ye(t){if(!(t.selection instanceof en))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Rt.create(t.doc,[qt.widget(t.selection.head,e,{key:"gapcursor"})])}var wye=Object.create,iR=Object.defineProperty,bye=Object.getOwnPropertyDescriptor,GW=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),qg=t=>{throw TypeError(t)},Sye=(t,e,n)=>e in t?iR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,CI=(t,e)=>iR(t,"name",{value:e,configurable:!0}),Eye=t=>{var e;return[,,,wye((e=t==null?void 0:t[GW("metadata")])!=null?e:null)]},ZW=["class","method","getter","setter","accessor","field","value","get","set"],Xp=t=>t!==void 0&&typeof t!="function"?qg("Function expected"):t,kye=(t,e,n,r,o)=>({kind:ZW[t],name:e,metadata:r,addInitializer:i=>n._?qg("Already initialized"):o.push(Xp(i||null))}),Cye=(t,e)=>Sye(e,GW("metadata"),t[3]),Oye=(t,e,n,r)=>{for(var o=0,i=t[e>>1],s=i&&i.length;o<s;o++)e&1?i[o].call(n):r=i[o].call(n,r);return r},Pye=(t,e,n,r,o,i)=>{var s,a,l,u,d,c=e&7,f=!!(e&8),p=!!(e&16),m=c>3?t.length+1:c?f?1:2:0,g=ZW[c+5],x=c>3&&(t[m-1]=[]),v=t[m]||(t[m]=[]),h=c&&(!p&&!f&&(o=o.prototype),c<5&&(c>3||!p)&&bye(c<4?o:{get[n](){return OI(this,i)},set[n](y){return PI(this,i,y)}},n));c?p&&c<4&&CI(i,(c>2?"set ":c>1?"get ":"")+n):CI(o,n);for(var _=r.length-1;_>=0;_--)u=kye(c,n,l={},t[3],v),c&&(u.static=f,u.private=p,d=u.access={has:p?y=>Rye(o,y):y=>n in y},c^3&&(d.get=p?y=>(c^1?OI:Tye)(y,o,c^4?i:h.get):y=>y[n]),c>2&&(d.set=p?(y,S)=>PI(y,o,S,c^4?i:h.set):(y,S)=>y[n]=S)),a=(0,r[_])(c?c<4?p?i:h[g]:c>4?void 0:{get:h.get,set:h.set}:o,u),l._=1,c^4||a===void 0?Xp(a)&&(c>4?x.unshift(a):c?p?i=a:h[g]=a:o=a):typeof a!="object"||a===null?qg("Object expected"):(Xp(s=a.get)&&(h.get=s),Xp(s=a.set)&&(h.set=s),Xp(s=a.init)&&x.unshift(s));return c||Cye(t,o),h&&iR(o,n,h),p?c^4?i:h:o},sR=(t,e,n)=>e.has(t)||qg("Cannot "+n),Rye=(t,e)=>Object(e)!==e?qg('Cannot use the "in" operator on this value'):t.has(e),OI=(t,e,n)=>(sR(t,e,"read from private field"),n?n.call(t):e.get(t)),PI=(t,e,n,r)=>(sR(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Tye=(t,e,n)=>(sR(t,e,"access private method"),n),QW,aR,YW;QW=[kt({})];var Lx=class extends(YW=Zt){get name(){return"gapCursor"}createExternalPlugins(){return[gye()]}};aR=Eye(YW);Lx=Pye(aR,0,"GapCursorExtension",QW,Lx);Oye(aR,1,Lx);nle(en);var Mye=Object.create,lR=Object.defineProperty,Nye=Object.defineProperties,Dye=Object.getOwnPropertyDescriptor,Aye=Object.getOwnPropertyDescriptors,RI=Object.getOwnPropertySymbols,Iye=Object.prototype.hasOwnProperty,Lye=Object.prototype.propertyIsEnumerable,XW=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),Gg=t=>{throw TypeError(t)},GE=(t,e,n)=>e in t?lR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$ye=(t,e)=>{for(var n in e||(e={}))Iye.call(e,n)&&GE(t,n,e[n]);if(RI)for(var n of RI(e))Lye.call(e,n)&&GE(t,n,e[n]);return t},zye=(t,e)=>Nye(t,Aye(e)),TI=(t,e)=>lR(t,"name",{value:e,configurable:!0}),Fye=t=>{var e;return[,,,Mye((e=t==null?void 0:t[XW("metadata")])!=null?e:null)]},JW=["class","method","getter","setter","accessor","field","value","get","set"],Jp=t=>t!==void 0&&typeof t!="function"?Gg("Function expected"):t,Bye=(t,e,n,r,o)=>({kind:JW[t],name:e,metadata:r,addInitializer:i=>n._?Gg("Already initialized"):o.push(Jp(i||null))}),jye=(t,e)=>GE(e,XW("metadata"),t[3]),e6=(t,e,n,r)=>{for(var o=0,i=t[e>>1],s=i&&i.length;o<s;o++)e&1?i[o].call(n):r=i[o].call(n,r);return r},t6=(t,e,n,r,o,i)=>{var s,a,l,u,d,c=e&7,f=!!(e&8),p=!!(e&16),m=c>3?t.length+1:c?f?1:2:0,g=JW[c+5],x=c>3&&(t[m-1]=[]),v=t[m]||(t[m]=[]),h=c&&(!p&&!f&&(o=o.prototype),c<5&&(c>3||!p)&&Dye(c<4?o:{get[n](){return MI(this,i)},set[n](y){return NI(this,i,y)}},n));c?p&&c<4&&TI(i,(c>2?"set ":c>1?"get ":"")+n):TI(o,n);for(var _=r.length-1;_>=0;_--)u=Bye(c,n,l={},t[3],v),c&&(u.static=f,u.private=p,d=u.access={has:p?y=>Vye(o,y):y=>n in y},c^3&&(d.get=p?y=>(c^1?MI:Uye)(y,o,c^4?i:h.get):y=>y[n]),c>2&&(d.set=p?(y,S)=>NI(y,o,S,c^4?i:h.set):(y,S)=>y[n]=S)),a=(0,r[_])(c?c<4?p?i:h[g]:c>4?void 0:{get:h.get,set:h.set}:o,u),l._=1,c^4||a===void 0?Jp(a)&&(c>4?x.unshift(a):c?p?i=a:h[g]=a:o=a):typeof a!="object"||a===null?Gg("Object expected"):(Jp(s=a.get)&&(h.get=s),Jp(s=a.set)&&(h.set=s),Jp(s=a.init)&&x.unshift(s));return c||jye(t,o),h&&lR(o,n,h),p?c^4?i:h:o},cR=(t,e,n)=>e.has(t)||Gg("Cannot "+n),Vye=(t,e)=>Object(e)!==e?Gg('Cannot use the "in" operator on this value'):t.has(e),MI=(t,e,n)=>(cR(t,e,"read from private field"),n?n.call(t):e.get(t)),NI=(t,e,n,r)=>(cR(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Uye=(t,e,n)=>(cR(t,e,"access private method"),n),n6,ZE,r6,Zg;r6=[kt({defaultPriority:At.Low})];var Vm=class extends(ZE=Bo,n6=[Me()],ZE){constructor(){super(...arguments),e6(Zg,5,this)}get name(){return"hardBreak"}createTags(){return[tt.InlineNode]}createNodeSpec(t,e){var n;return zye($ye({inline:!0,selectable:!1,atom:!0,leafText:()=>`
`},e),{attrs:t.defaults(),parseDOM:[{tag:"br",getAttrs:t.parse},...(n=e.parseDOM)!=null?n:[]],toDOM:r=>["br",t.dom(r)]})}createKeymap(){const t=Ofe(Ah(bH),()=>(this.store.commands.insertHardBreak(),!0));return{"Mod-Enter":t,"Shift-Enter":t}}insertHardBreak(){return t=>{const{tr:e,dispatch:n}=t;return n==null||n(e.replaceSelectionWith(this.type.create()).scrollIntoView()),!0}}};Zg=Fye(ZE);t6(Zg,1,"insertHardBreak",n6,Vm);Vm=t6(Zg,0,"HardBreakExtension",r6,Vm);e6(Zg,1,Vm);var Hye=Object.create,uR=Object.defineProperty,Wye=Object.defineProperties,Kye=Object.getOwnPropertyDescriptor,qye=Object.getOwnPropertyDescriptors,DI=Object.getOwnPropertySymbols,Gye=Object.prototype.hasOwnProperty,Zye=Object.prototype.propertyIsEnumerable,o6=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),Qg=t=>{throw TypeError(t)},QE=(t,e,n)=>e in t?uR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xb=(t,e)=>{for(var n in e||(e={}))Gye.call(e,n)&&QE(t,n,e[n]);if(DI)for(var n of DI(e))Zye.call(e,n)&&QE(t,n,e[n]);return t},Jb=(t,e)=>Wye(t,qye(e)),AI=(t,e)=>uR(t,"name",{value:e,configurable:!0}),Qye=t=>{var e;return[,,,Hye((e=t==null?void 0:t[o6("metadata")])!=null?e:null)]},i6=["class","method","getter","setter","accessor","field","value","get","set"],eh=t=>t!==void 0&&typeof t!="function"?Qg("Function expected"):t,Yye=(t,e,n,r,o)=>({kind:i6[t],name:e,metadata:r,addInitializer:i=>n._?Qg("Already initialized"):o.push(eh(i||null))}),Xye=(t,e)=>QE(e,o6("metadata"),t[3]),s6=(t,e,n,r)=>{for(var o=0,i=t[e>>1],s=i&&i.length;o<s;o++)e&1?i[o].call(n):r=i[o].call(n,r);return r},a6=(t,e,n,r,o,i)=>{var s,a,l,u,d,c=e&7,f=!!(e&8),p=!!(e&16),m=c>3?t.length+1:c?f?1:2:0,g=i6[c+5],x=c>3&&(t[m-1]=[]),v=t[m]||(t[m]=[]),h=c&&(!p&&!f&&(o=o.prototype),c<5&&(c>3||!p)&&Kye(c<4?o:{get[n](){return II(this,i)},set[n](y){return LI(this,i,y)}},n));c?p&&c<4&&AI(i,(c>2?"set ":c>1?"get ":"")+n):AI(o,n);for(var _=r.length-1;_>=0;_--)u=Yye(c,n,l={},t[3],v),c&&(u.static=f,u.private=p,d=u.access={has:p?y=>Jye(o,y):y=>n in y},c^3&&(d.get=p?y=>(c^1?II:e0e)(y,o,c^4?i:h.get):y=>y[n]),c>2&&(d.set=p?(y,S)=>LI(y,o,S,c^4?i:h.set):(y,S)=>y[n]=S)),a=(0,r[_])(c?c<4?p?i:h[g]:c>4?void 0:{get:h.get,set:h.set}:o,u),l._=1,c^4||a===void 0?eh(a)&&(c>4?x.unshift(a):c?p?i=a:h[g]=a:o=a):typeof a!="object"||a===null?Qg("Object expected"):(eh(s=a.get)&&(h.get=s),eh(s=a.set)&&(h.set=s),eh(s=a.init)&&x.unshift(s));return c||Xye(t,o),h&&uR(o,n,h),p?c^4?i:h:o},dR=(t,e,n)=>e.has(t)||Qg("Cannot "+n),Jye=(t,e)=>Object(e)!==e?Qg('Cannot use the "in" operator on this value'):t.has(e),II=(t,e,n)=>(dR(t,e,"read from private field"),n?n.call(t):e.get(t)),LI=(t,e,n,r)=>(dR(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),e0e=(t,e,n)=>(dR(t,e,"access private method"),n),{LABEL:t0e}=jce,n0e={icon:({attrs:t})=>{var e;return"h".concat((e=t==null?void 0:t.level)!=null?e:"1")},label:({t,attrs:e})=>t(t0e,{level:e==null?void 0:e.level})},r0e=[ne.H1,ne.H2,ne.H3,ne.H4,ne.H5,ne.H6],l6,YE,c6,Yg;c6=[kt({defaultOptions:{levels:[1,2,3,4,5,6],defaultLevel:1},staticKeys:["defaultLevel","levels"]})];var Um=class extends(YE=Bo,l6=[Me(n0e)],YE){constructor(){super(...arguments),s6(Yg,5,this)}get name(){return"heading"}createTags(){return[tt.Block,tt.TextBlock,tt.FormattingNode]}createNodeSpec(t,e){var n;return Jb(Xb({content:"inline*",defining:!0,draggable:!1},e),{attrs:Jb(Xb({},t.defaults()),{level:{default:this.options.defaultLevel}}),parseDOM:[...this.options.levels.map(r=>({tag:"h".concat(r),getAttrs:o=>Jb(Xb({},t.parse(o)),{level:r})})),...(n=e.parseDOM)!=null?n:[]],toDOM:r=>this.options.levels.includes(r.attrs.level)?["h".concat(r.attrs.level),t.dom(r),0]:["h".concat(this.options.defaultLevel),t.dom(r),0]})}toggleHeading(t={}){return gH({type:this.type,toggleType:"paragraph",attrs:t})}createKeymap(t){var e;const n=this.store.getExtension(pt),r=ze(),o=[];for(const i of this.options.levels){const s=(e=r0e[i-1])!=null?e:ne.H1;r[s]=Ex(this.type,{level:i}),o.push({attrs:{level:i},shortcut:t(s)[0]})}return n.updateDecorated("toggleHeading",{shortcut:o}),r}createInputRules(){return this.options.levels.map(t=>cue(new RegExp("^(#{1,".concat(t,"})\\s$")),this.type,()=>({level:t})))}createPasteRules(){return this.options.levels.map(t=>({type:"node",nodeType:this.type,regexp:new RegExp("^#{".concat(t,"}\\s([\\s\\w]+)$")),getAttributes:()=>({level:t}),startOfTextBlock:!0}))}};Yg=Qye(YE);a6(Yg,1,"toggleHeading",l6,Um);Um=a6(Yg,0,"HeadingExtension",c6,Um);s6(Yg,1,Um);var $x=200,$n=function(){};$n.prototype.append=function(e){return e.length?(e=$n.from(e),!this.length&&e||e.length<$x&&this.leafAppend(e)||this.length<$x&&e.leafPrepend(this)||this.appendInner(e)):this};$n.prototype.prepend=function(e){return e.length?$n.from(e).append(this):this};$n.prototype.appendInner=function(e){return new o0e(this,e)};$n.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?$n.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};$n.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};$n.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};$n.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var o=[];return this.forEach(function(i,s){return o.push(e(i,s))},n,r),o};$n.from=function(e){return e instanceof $n?e:e&&e.length?new u6(e):$n.empty};var u6=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(o,i){return o==0&&i==this.length?this:new e(this.values.slice(o,i))},e.prototype.getInner=function(o){return this.values[o]},e.prototype.forEachInner=function(o,i,s,a){for(var l=i;l<s;l++)if(o(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(o,i,s,a){for(var l=i-1;l>=s;l--)if(o(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(o){if(this.length+o.length<=$x)return new e(this.values.concat(o.flatten()))},e.prototype.leafPrepend=function(o){if(this.length+o.length<=$x)return new e(o.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}($n);$n.empty=new u6([]);var o0e=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,o,i,s){var a=this.left.length;if(o<a&&this.left.forEachInner(r,o,Math.min(i,a),s)===!1||i>a&&this.right.forEachInner(r,Math.max(o-a,0),Math.min(this.length,i)-a,s+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,o,i,s){var a=this.left.length;if(o>a&&this.right.forEachInvertedInner(r,o-a,Math.max(i,a)-a,s+a)===!1||i<a&&this.left.forEachInvertedInner(r,Math.min(o,a),i,s)===!1)return!1},e.prototype.sliceInner=function(r,o){if(r==0&&o==this.length)return this;var i=this.left.length;return o<=i?this.left.slice(r,o):r>=i?this.right.slice(r-i,o-i):this.left.slice(r,i).append(this.right.slice(0,o-i))},e.prototype.leafAppend=function(r){var o=this.right.leafAppend(r);if(o)return new e(this.left,o)},e.prototype.leafPrepend=function(r){var o=this.left.leafPrepend(r);if(o)return new e(o,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}($n);const i0e=500;class li{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let o,i;n&&(o=this.remapping(r,this.items.length),i=o.maps.length);let s=e.tr,a,l,u=[],d=[];return this.items.forEach((c,f)=>{if(!c.step){o||(o=this.remapping(r,f+1),i=o.maps.length),i--,d.push(c);return}if(o){d.push(new Ai(c.map));let p=c.step.map(o.slice(i)),m;p&&s.maybeStep(p).doc&&(m=s.mapping.maps[s.mapping.maps.length-1],u.push(new Ai(m,void 0,void 0,u.length+d.length))),i--,m&&o.appendMap(m,i)}else s.maybeStep(c.step);if(c.selection)return a=o?c.selection.map(o.slice(i)):c.selection,l=new li(this.items.slice(0,r).append(d.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(e,n,r,o){let i=[],s=this.eventCount,a=this.items,l=!o&&a.length?a.get(a.length-1):null;for(let d=0;d<e.steps.length;d++){let c=e.steps[d].invert(e.docs[d]),f=new Ai(e.mapping.maps[d],c,n),p;(p=l&&l.merge(f))&&(f=p,d?i.pop():a=a.slice(0,a.length-1)),i.push(f),n&&(s++,n=void 0),o||(l=f)}let u=s-r.depth;return u>a0e&&(a=s0e(a,u),s-=u),new li(a.append(i),s)}remapping(e,n){let r=new fd;return this.items.forEach((o,i)=>{let s=o.mirrorOffset!=null&&i-o.mirrorOffset>=e?r.maps.length-o.mirrorOffset:void 0;r.appendMap(o.map,s)},e,n),r}addMaps(e){return this.eventCount==0?this:new li(this.items.append(e.map(n=>new Ai(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],o=Math.max(0,this.items.length-n),i=e.mapping,s=e.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},o);let l=n;this.items.forEach(f=>{let p=i.getMirror(--l);if(p==null)return;s=Math.min(s,p);let m=i.maps[p];if(f.step){let g=e.steps[p].invert(e.docs[p]),x=f.selection&&f.selection.map(i.slice(l+1,p));x&&a++,r.push(new Ai(m,g,x))}else r.push(new Ai(m))},o);let u=[];for(let f=n;f<s;f++)u.push(new Ai(i.maps[f]));let d=this.items.slice(0,o).append(u).append(r),c=new li(d,a);return c.emptyItemCount()>i0e&&(c=c.compress(this.items.length-r.length)),c}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,o=[],i=0;return this.items.forEach((s,a)=>{if(a>=e)o.push(s),s.selection&&i++;else if(s.step){let l=s.step.map(n.slice(r)),u=l&&l.getMap();if(r--,u&&n.appendMap(u,r),l){let d=s.selection&&s.selection.map(n.slice(r));d&&i++;let c=new Ai(u.invert(),l,d),f,p=o.length-1;(f=o.length&&o[p].merge(c))?o[p]=f:o.push(c)}}else s.map&&r--},this.items.length,0),new li($n.from(o.reverse()),i)}}li.empty=new li($n.empty,0);function s0e(t,e){let n;return t.forEach((r,o)=>{if(r.selection&&e--==0)return n=o,!1}),t.slice(n)}class Ai{constructor(e,n,r,o){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=o}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Ai(n.getMap().invert(),n,this.selection)}}}class ha{constructor(e,n,r,o,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=o,this.prevComposition=i}}const a0e=20;function l0e(t,e,n,r){let o=n.getMeta(Is),i;if(o)return o.historyState;n.getMeta(d0e)&&(t=new ha(t.done,t.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(Is))return s.getMeta(Is).redo?new ha(t.done.addTransform(n,void 0,r,Uy(e)),t.undone,$I(n.mapping.maps),t.prevTime,t.prevComposition):new ha(t.done,t.undone.addTransform(n,void 0,r,Uy(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!s&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!c0e(n,t.prevRanges)),u=s?e1(t.prevRanges,n.mapping):$I(n.mapping.maps);return new ha(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,Uy(e)),li.empty,u,n.time,a==null?t.prevComposition:a)}else return(i=n.getMeta("rebased"))?new ha(t.done.rebased(n,i),t.undone.rebased(n,i),e1(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new ha(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),e1(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function c0e(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,o)=>{for(let i=0;i<e.length;i+=2)r<=e[i+1]&&o>=e[i]&&(n=!0)}),n}function $I(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,o,i,s)=>e.push(i,s));return e}function e1(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let o=e.map(t[r],1),i=e.map(t[r+1],-1);o<=i&&n.push(o,i)}return n}function u0e(t,e,n){let r=Uy(e),o=Is.get(e).spec.config,i=(n?t.undone:t.done).popEvent(e,r);if(!i)return null;let s=i.selection.resolve(i.transform.doc),a=(n?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),o,r),l=new ha(n?a:i.remaining,n?i.remaining:a,null,0,-1);return i.transform.setSelection(s).setMeta(Is,{redo:n,historyState:l})}let t1=!1,zI=null;function Uy(t){let e=t.plugins;if(zI!=e){t1=!1,zI=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){t1=!0;break}}return t1}const Is=new Cf("history"),d0e=new Cf("closeHistory");function f0e(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new El({key:Is,state:{init(){return new ha(li.empty,li.empty,null,0,-1)},apply(e,n,r){return l0e(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,o=r=="historyUndo"?Hy:r=="historyRedo"?th:null;return o?(n.preventDefault(),o(e.state,e.dispatch)):!1}}}})}function d6(t,e){return(n,r)=>{let o=Is.getState(n);if(!o||(t?o.undone:o.done).eventCount==0)return!1;if(r){let i=u0e(o,n,t);i&&r(e?i.scrollIntoView():i)}return!0}}const Hy=d6(!1,!0),th=d6(!0,!0);function p0e(t){let e=Is.getState(t);return e?e.done.eventCount:0}function h0e(t){let e=Is.getState(t);return e?e.undone.eventCount:0}var m0e=Object.create,fR=Object.defineProperty,g0e=Object.getOwnPropertyDescriptor,f6=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),Xg=t=>{throw TypeError(t)},p6=(t,e,n)=>e in t?fR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,FI=(t,e)=>fR(t,"name",{value:e,configurable:!0}),v0e=t=>{var e;return[,,,m0e((e=t==null?void 0:t[f6("metadata")])!=null?e:null)]},h6=["class","method","getter","setter","accessor","field","value","get","set"],nh=t=>t!==void 0&&typeof t!="function"?Xg("Function expected"):t,y0e=(t,e,n,r,o)=>({kind:h6[t],name:e,metadata:r,addInitializer:i=>n._?Xg("Already initialized"):o.push(nh(i||null))}),x0e=(t,e)=>p6(e,f6("metadata"),t[3]),m6=(t,e,n,r)=>{for(var o=0,i=t[e>>1],s=i&&i.length;o<s;o++)e&1?i[o].call(n):r=i[o].call(n,r);return r},ru=(t,e,n,r,o,i)=>{var s,a,l,u,d,c=e&7,f=!!(e&8),p=!!(e&16),m=c>3?t.length+1:c?f?1:2:0,g=h6[c+5],x=c>3&&(t[m-1]=[]),v=t[m]||(t[m]=[]),h=c&&(!p&&!f&&(o=o.prototype),c<5&&(c>3||!p)&&g0e(c<4?o:{get[n](){return BI(this,i)},set[n](y){return jI(this,i,y)}},n));c?p&&c<4&&FI(i,(c>2?"set ":c>1?"get ":"")+n):FI(o,n);for(var _=r.length-1;_>=0;_--)u=y0e(c,n,l={},t[3],v),c&&(u.static=f,u.private=p,d=u.access={has:p?y=>w0e(o,y):y=>n in y},c^3&&(d.get=p?y=>(c^1?BI:b0e)(y,o,c^4?i:h.get):y=>y[n]),c>2&&(d.set=p?(y,S)=>jI(y,o,S,c^4?i:h.set):(y,S)=>y[n]=S)),a=(0,r[_])(c?c<4?p?i:h[g]:c>4?void 0:{get:h.get,set:h.set}:o,u),l._=1,c^4||a===void 0?nh(a)&&(c>4?x.unshift(a):c?p?i=a:h[g]=a:o=a):typeof a!="object"||a===null?Xg("Object expected"):(nh(s=a.get)&&(h.get=s),nh(s=a.set)&&(h.set=s),nh(s=a.init)&&x.unshift(s));return c||x0e(t,o),h&&fR(o,n,h),p?c^4?i:h:o},_0e=(t,e,n)=>p6(t,typeof e!="symbol"?e+"":e,n),pR=(t,e,n)=>e.has(t)||Xg("Cannot "+n),w0e=(t,e)=>Object(e)!==e?Xg('Cannot use the "in" operator on this value'):t.has(e),BI=(t,e,n)=>(pR(t,e,"read from private field"),n?n.call(t):e.get(t)),jI=(t,e,n,r)=>(pR(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),b0e=(t,e,n)=>(pR(t,e,"access private method"),n),g6,v6,y6,x6,_6,w6,XE,b6,ss;b6=[kt({defaultOptions:{depth:100,newGroupDelay:500,getDispatch:void 0,getState:void 0},staticKeys:["depth","newGroupDelay"],handlerKeys:["onUndo","onRedo"]})];var Si=class extends(XE=Zt,w6=[yr({shortcut:ne.Undo,command:"undo"})],_6=[yr({shortcut:ne.Redo,command:"redo"})],x6=[Me({disableChaining:!0,description:({t})=>t(ry.UNDO_DESCRIPTION),label:({t})=>t(ry.UNDO_LABEL),icon:"arrowGoBackFill"})],y6=[Me({disableChaining:!0,description:({t})=>t(ry.REDO_DESCRIPTION),label:({t})=>t(ry.REDO_LABEL),icon:"arrowGoForwardFill"})],v6=[un()],g6=[un()],XE){constructor(){super(...arguments),m6(ss,5,this),_0e(this,"wrapMethod",(t,e)=>({state:n,dispatch:r,view:o})=>{const{getState:i,getDispatch:s}=this.options,a=Gt(i)?i():n,l=Gt(s)&&r?s():r,u=t(a,l,o);return e==null||e(u),u})}get name(){return"history"}createKeymap(){return{"Mod-y":ai.isMac?()=>!1:this.wrapMethod(th,this.options.onRedo),"Mod-z":this.wrapMethod(Hy,this.options.onUndo),"Shift-Mod-z":this.wrapMethod(th,this.options.onRedo)}}undoShortcut(t){return this.wrapMethod(Hy,this.options.onUndo)(t)}redoShortcut(t){return this.wrapMethod(th,this.options.onRedo)(t)}createExternalPlugins(){const{depth:t,newGroupDelay:e}=this.options;return[f0e({depth:t,newGroupDelay:e})]}undo(){return DA(this.wrapMethod(Hy,this.options.onUndo))}redo(){return DA(this.wrapMethod(th,this.options.onRedo))}undoDepth(t=this.store.getState()){return p0e(t)}redoDepth(t=this.store.getState()){return h0e(t)}};ss=v0e(XE);ru(ss,1,"undoShortcut",w6,Si);ru(ss,1,"redoShortcut",_6,Si);ru(ss,1,"undo",x6,Si);ru(ss,1,"redo",y6,Si);ru(ss,1,"undoDepth",v6,Si);ru(ss,1,"redoDepth",g6,Si);Si=ru(ss,0,"HistoryExtension",b6,Si);m6(ss,1,Si);var S0e=Object.create,hR=Object.defineProperty,E0e=Object.defineProperties,k0e=Object.getOwnPropertyDescriptor,C0e=Object.getOwnPropertyDescriptors,VI=Object.getOwnPropertySymbols,O0e=Object.prototype.hasOwnProperty,P0e=Object.prototype.propertyIsEnumerable,S6=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),Jg=t=>{throw TypeError(t)},JE=(t,e,n)=>e in t?hR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,R0e=(t,e)=>{for(var n in e||(e={}))O0e.call(e,n)&&JE(t,n,e[n]);if(VI)for(var n of VI(e))P0e.call(e,n)&&JE(t,n,e[n]);return t},T0e=(t,e)=>E0e(t,C0e(e)),UI=(t,e)=>hR(t,"name",{value:e,configurable:!0}),M0e=t=>{var e;return[,,,S0e((e=t==null?void 0:t[S6("metadata")])!=null?e:null)]},E6=["class","method","getter","setter","accessor","field","value","get","set"],rh=t=>t!==void 0&&typeof t!="function"?Jg("Function expected"):t,N0e=(t,e,n,r,o)=>({kind:E6[t],name:e,metadata:r,addInitializer:i=>n._?Jg("Already initialized"):o.push(rh(i||null))}),D0e=(t,e)=>JE(e,S6("metadata"),t[3]),k6=(t,e,n,r)=>{for(var o=0,i=t[e>>1],s=i&&i.length;o<s;o++)e&1?i[o].call(n):r=i[o].call(n,r);return r},mR=(t,e,n,r,o,i)=>{var s,a,l,u,d,c=e&7,f=!!(e&8),p=!!(e&16),m=c>3?t.length+1:c?f?1:2:0,g=E6[c+5],x=c>3&&(t[m-1]=[]),v=t[m]||(t[m]=[]),h=c&&(!p&&!f&&(o=o.prototype),c<5&&(c>3||!p)&&k0e(c<4?o:{get[n](){return HI(this,i)},set[n](y){return WI(this,i,y)}},n));c?p&&c<4&&UI(i,(c>2?"set ":c>1?"get ":"")+n):UI(o,n);for(var _=r.length-1;_>=0;_--)u=N0e(c,n,l={},t[3],v),c&&(u.static=f,u.private=p,d=u.access={has:p?y=>A0e(o,y):y=>n in y},c^3&&(d.get=p?y=>(c^1?HI:I0e)(y,o,c^4?i:h.get):y=>y[n]),c>2&&(d.set=p?(y,S)=>WI(y,o,S,c^4?i:h.set):(y,S)=>y[n]=S)),a=(0,r[_])(c?c<4?p?i:h[g]:c>4?void 0:{get:h.get,set:h.set}:o,u),l._=1,c^4||a===void 0?rh(a)&&(c>4?x.unshift(a):c?p?i=a:h[g]=a:o=a):typeof a!="object"||a===null?Jg("Object expected"):(rh(s=a.get)&&(h.get=s),rh(s=a.set)&&(h.set=s),rh(s=a.init)&&x.unshift(s));return c||D0e(t,o),h&&hR(o,n,h),p?c^4?i:h:o},gR=(t,e,n)=>e.has(t)||Jg("Cannot "+n),A0e=(t,e)=>Object(e)!==e?Jg('Cannot use the "in" operator on this value'):t.has(e),HI=(t,e,n)=>(gR(t,e,"read from private field"),n?n.call(t):e.get(t)),WI=(t,e,n,r)=>(gR(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),I0e=(t,e,n)=>(gR(t,e,"access private method"),n),L0e={icon:"italic",label:({t})=>t(jD.LABEL),description:({t})=>t(jD.DESCRIPTION)},C6,O6,ek,P6,$f;P6=[kt({})];var Uc=class extends(ek=tu,O6=[Me(L0e)],C6=[yr({shortcut:ne.Italic,command:"toggleItalic"})],ek){constructor(){super(...arguments),k6($f,5,this)}get name(){return"italic"}createTags(){return[tt.FontStyle,tt.FormattingMark]}createMarkSpec(t,e){var n;return T0e(R0e({},e),{attrs:t.defaults(),parseDOM:[{tag:"i",getAttrs:t.parse},{tag:"em",getAttrs:t.parse},{style:"font-style=italic"},...(n=e.parseDOM)!=null?n:[]],toDOM:r=>["em",t.dom(r),0]})}createKeymap(){return{"Mod-i":ul({type:this.type})}}createInputRules(){return[Fm({regexp:/(?:^|[^*])\*([^*]+)\*$/,type:this.type,ignoreWhitespace:!0,updateCaptured:({fullMatch:t,start:e})=>t.startsWith("*")?{}:{fullMatch:t.slice(1),start:e+1}}),Fm({regexp:/(?:^|\W)_([^_]+)_$/,type:this.type,ignoreWhitespace:!0,updateCaptured:({fullMatch:t,start:e})=>t.startsWith("_")?{}:{fullMatch:t.slice(1),start:e+1}})]}createPasteRules(){return[{type:"mark",markType:this.type,regexp:/(?:^|\W)_([^_]+)_/g},{type:"mark",markType:this.type,regexp:/\*([^*]+)\*/g}]}toggleItalic(t){return ul({type:this.type,selection:t})}shortcut(t){return this.toggleItalic()(t)}};$f=M0e(ek);mR($f,1,"toggleItalic",O6,Uc);mR($f,1,"shortcut",C6,Uc);Uc=mR($f,0,"ItalicExtension",P6,Uc);k6($f,1,Uc);function $0e(t,e=null){return function(n,r){let{$from:o,$to:i}=n.selection,s=o.blockRange(i),a=!1,l=s;if(!s)return!1;if(s.depth>=2&&o.node(s.depth-1).type.compatibleContent(t)&&s.startIndex==0){if(o.index(s.depth-1)==0)return!1;let d=n.doc.resolve(s.start-2);l=new Lc(d,d,s.depth),s.endIndex<s.parent.childCount&&(s=new Lc(o,n.doc.resolve(i.end(s.depth)),s.depth)),a=!0}let u=nP(l,t,e,s);return u?(r&&r(z0e(n.tr,s,u,a,t).scrollIntoView()),!0):!1}}function z0e(t,e,n,r,o){let i=V.empty;for(let d=n.length-1;d>=0;d--)i=V.from(n[d].type.create(n[d].attrs,i));t.step(new Rn(e.start-(r?2:0),e.end,e.start,e.end,new ue(i,0,0),n.length,!0));let s=0;for(let d=0;d<n.length;d++)n[d].type==o&&(s=d+1);let a=n.length-s,l=e.start+n.length-(r?2:0),u=e.parent;for(let d=e.startIndex,c=e.endIndex,f=!0;d<c;d++,f=!1)!f&&pd(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=u.child(d).nodeSize;return t}function F0e(t){return function(e,n){let{$from:r,$to:o}=e.selection,i=r.blockRange(o,s=>s.childCount>0&&s.firstChild.type==t);return i?n?r.node(i.depth-1).type==t?B0e(e,n,t,i):j0e(e,n,i):!0:!1}}function B0e(t,e,n,r){let o=t.tr,i=r.end,s=r.$to.end(r.depth);i<s&&(o.step(new Rn(i-1,s,i,s,new ue(V.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Lc(o.doc.resolve(r.$from.pos),o.doc.resolve(s),r.depth));const a=kf(r);if(a==null)return!1;o.lift(r,a);let l=o.mapping.map(i,-1)-1;return Dg(o.doc,l)&&o.join(l),e(o.scrollIntoView()),!0}function j0e(t,e,n){let r=t.tr,o=n.parent;for(let p=n.end,m=n.endIndex-1,g=n.startIndex;m>g;m--)p-=o.child(m).nodeSize,r.delete(p-1,p+1);let i=r.doc.resolve(n.start),s=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==o.childCount,u=i.node(-1),d=i.index(-1);if(!u.canReplace(d+(a?0:1),d+1,s.content.append(l?V.empty:V.from(o))))return!1;let c=i.pos,f=c+s.nodeSize;return r.step(new Rn(c-(a?1:0),f+(l?1:0),c+1,f-1,new ue((a?V.empty:V.from(o.copy(V.empty))).append(l?V.empty:V.from(o.copy(V.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}var V0e=Object.create,vR=Object.defineProperty,U0e=Object.defineProperties,H0e=Object.getOwnPropertyDescriptor,W0e=Object.getOwnPropertyDescriptors,KI=Object.getOwnPropertySymbols,K0e=Object.prototype.hasOwnProperty,q0e=Object.prototype.propertyIsEnumerable,R6=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),ev=t=>{throw TypeError(t)},tk=(t,e,n)=>e in t?vR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,An=(t,e)=>{for(var n in e||(e={}))K0e.call(e,n)&&tk(t,n,e[n]);if(KI)for(var n of KI(e))q0e.call(e,n)&&tk(t,n,e[n]);return t},jr=(t,e)=>U0e(t,W0e(e)),qI=(t,e)=>vR(t,"name",{value:e,configurable:!0}),tv=t=>{var e;return[,,,V0e((e=t==null?void 0:t[R6("metadata")])!=null?e:null)]},T6=["class","method","getter","setter","accessor","field","value","get","set"],oh=t=>t!==void 0&&typeof t!="function"?ev("Function expected"):t,G0e=(t,e,n,r,o)=>({kind:T6[t],name:e,metadata:r,addInitializer:i=>n._?ev("Already initialized"):o.push(oh(i||null))}),yR=(t,e)=>tk(e,R6("metadata"),t[3]),Pl=(t,e,n,r)=>{for(var o=0,i=t[e>>1],s=i&&i.length;o<s;o++)e&1?i[o].call(n):r=i[o].call(n,r);return r},Vo=(t,e,n,r,o,i)=>{var s,a,l,u,d,c=e&7,f=!!(e&8),p=!!(e&16),m=c>3?t.length+1:c?f?1:2:0,g=T6[c+5],x=c>3&&(t[m-1]=[]),v=t[m]||(t[m]=[]),h=c&&(!p&&!f&&(o=o.prototype),c<5&&(c>3||!p)&&H0e(c<4?o:{get[n](){return GI(this,i)},set[n](y){return ZI(this,i,y)}},n));c?p&&c<4&&qI(i,(c>2?"set ":c>1?"get ":"")+n):qI(o,n);for(var _=r.length-1;_>=0;_--)u=G0e(c,n,l={},t[3],v),c&&(u.static=f,u.private=p,d=u.access={has:p?y=>Z0e(o,y):y=>n in y},c^3&&(d.get=p?y=>(c^1?GI:Q0e)(y,o,c^4?i:h.get):y=>y[n]),c>2&&(d.set=p?(y,S)=>ZI(y,o,S,c^4?i:h.set):(y,S)=>y[n]=S)),a=(0,r[_])(c?c<4?p?i:h[g]:c>4?void 0:{get:h.get,set:h.set}:o,u),l._=1,c^4||a===void 0?oh(a)&&(c>4?x.unshift(a):c?p?i=a:h[g]=a:o=a):typeof a!="object"||a===null?ev("Object expected"):(oh(s=a.get)&&(h.get=s),oh(s=a.set)&&(h.set=s),oh(s=a.init)&&x.unshift(s));return c||yR(t,o),h&&vR(o,n,h),p?c^4?i:h:o},xR=(t,e,n)=>e.has(t)||ev("Cannot "+n),Z0e=(t,e)=>Object(e)!==e?ev('Cannot use the "in" operator on this value'):t.has(e),GI=(t,e,n)=>(xR(t,e,"read from private field"),n?n.call(t):e.get(t)),ZI=(t,e,n,r)=>(xR(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Q0e=(t,e,n)=>(xR(t,e,"access private method"),n);function nk(t){var e;return!!((e=t.spec.group)!=null&&e.includes(tt.ListContainerNode))}function Y0e(t){var e;return!!((e=t.spec.group)!=null&&e.includes(tt.ListItemNode))}function hl(t){return nk(t.type)}function Za(t){return Y0e(t.type)}function _R(t,e){return n=>{const{dispatch:r,tr:o}=n,i=mP(o,n.state),{$from:s,$to:a}=o.selection,l=s.blockRange(a);if(!l)return!1;const u=uw({predicate:d=>nk(d.type),selection:o.selection});if(u&&l.depth-u.depth<=1&&l.startIndex===0){if(u.node.type===t)return D6(e)(n);if(nk(u.node.type))return t.validContent(u.node.content)?(r==null||r(o.setNodeMarkup(u.pos,t)),!0):X0e(o,u,t,e)?(r==null||r(o.scrollIntoView()),!0):!1}return $0e(t)(i,r)}}function M6(t,e=["checked"]){return function({tr:n,dispatch:r,state:o}){var i,s;const a=zfe(t,o.schema),{$from:l,$to:u}=n.selection;if(fw(n.selection)&&n.selection.node.isBlock||l.depth<2||!l.sameParent(u))return!1;const d=l.node(-1);if(d.type!==a)return!1;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(r){const g=l.index(-1)>0;let x=V.empty;for(let _=l.depth-(g?1:2);_>=l.depth-3;_--)x=V.from(l.node(_).copy(x));const v=((i=a.contentMatch.defaultType)==null?void 0:i.createAndFill())||void 0;x=x.append(V.from(a.createAndFill(null,v)||void 0));const h=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3;n.replace(l.before(g?void 0:-1),l.after(-h),new ue(x,g?3:2,2)),n.setSelection(n.selection.constructor.near(n.doc.resolve(l.pos+(g?3:2)))),r(n.scrollIntoView())}return!0}if(d.attrs.closed&&l.sameParent(u)&&u.pos===u.end()){if(r){const g=l.after(-1),x=((s=a.contentMatch.defaultType)==null?void 0:s.createAndFill())||void 0,v=a.createAndFill(null,x);v&&(n.insert(g,v),n.setSelection(nt.near(n.doc.resolve(g+1)))),n.delete(l.pos,u.pos),r(n.scrollIntoView())}return!0}const c=Object.fromEntries(Object.entries(d.attrs).filter(([g])=>!e.includes(g))),f=u.pos===l.end()?d.contentMatchAt(0).defaultType:null,p=An({},l.node().attrs);n.delete(l.pos,u.pos);const m=f?[{type:a,attrs:c},{type:f,attrs:p}]:[{type:a,attrs:c}];return pd(n.doc,l.pos,2)?(r&&r(n.split(l.pos,2,m).scrollIntoView()),!0):!1}}function X0e(t,e,n,r){const o=e.node,i=t.doc.resolve(e.start),s=i.node(-1),a=i.index(-1);if(!s||!s.canReplace(a,a+1,V.from(n.create())))return!1;const l=[];for(let p=0;p<o.childCount;p++){const m=o.child(p);if(!r.validContent(m.content))return!1;const g=r.createChecked(null,m.content);l.push(g)}const u=n.createChecked(null,l),d=e.pos,c=d+o.nodeSize,f=t.selection.from;return t.replaceRangeWith(d,c,u),t.setSelection(t.selection.constructor.near(t.doc.resolve(f))),!0}function J0e({listType:t,itemType:e,tr:n,range:r}){var o;const i=r.parent,s=n.doc.slice(r.start,r.end);if(i.type===t&&((o=s.content.firstChild)==null?void 0:o.type)===e)return!1;const a=[];for(let u=0;u<s.content.childCount;u++){const d=s.content.child(u);if(!e.validContent(d.content))return!1;const c=e.createChecked(null,d.content);a.push(c)}const l=t.createChecked(null,a);return n.replaceRange(r.start,r.end,new ue(V.from(l),0,0)),!0}function lf({listType:t,itemType:e,tr:n}){const r=zx(n.selection);if(!r)return!1;const o=r.startIndex===0,{from:i,to:s}=n.selection;return J0e({listType:t,itemType:e,tr:n,range:r})?(n.setSelection(nt.between(n.doc.resolve(o?i:i+2),n.doc.resolve(o?s:s+2))),n.scrollIntoView(),!0):!1}function exe(t,e,n){const r=t.tr,o=n.parent,i=r.mapping.maps.length;for(let m=n.end,g=n.endIndex-1,x=n.startIndex;g>x;g--)m-=o.child(g).nodeSize,r.delete(m-1,m+1);const s=r.doc.resolve(n.start),a=s.nodeAfter;if(!a||r.mapping.slice(i).map(n.end)!==n.start+a.nodeSize)return!1;const l=n.startIndex===0,u=n.endIndex===o.childCount,d=s.node(-1),c=s.index(-1);if(!d.canReplace(c+(l?0:1),c+1,a.content.append(u?V.empty:V.from(o))))return!1;const f=s.pos,p=f+a.nodeSize;return r.step(new Rn(f-(l?1:0),p+(u?1:0),f+1,p-1,new ue((l?V.empty:V.from(o.copy(V.empty))).append(u?V.empty:V.from(o.copy(V.empty))),l?0:1,u?0:1),l?0:1)),e(r.scrollIntoView()),!0}function N6(t,e){const n=e||t.selection.$from;let r=[],o,i,s,a;for(let u=n.depth;u>=0;u--){if(i=n.node(u),o=n.index(u),s=i.maybeChild(o-1),a=i.maybeChild(o),s&&a&&s.type.name===a.type.name&&hl(s)){const d=n.before(u+1);r.push(d)}if(o=n.indexAfter(u),s=i.maybeChild(o-1),a=i.maybeChild(o),s&&a&&s.type.name===a.type.name&&hl(s)){const d=n.after(u+1);r.push(d)}}r=[...new Set(r)].sort((u,d)=>d-u);let l=!1;for(const u of r)Dg(t.doc,u)&&(t.join(u),l=!0);return l}function D6(t){return e=>{const{dispatch:n,tr:r}=e,o=mP(r,e.state),i=txe(t,r.selection);return i?(n&&exe(o,n,i),!0):!1}}function txe(t,e){const{$from:n,$to:r}=e;return n.blockRange(r,i=>{var s;return((s=i.firstChild)==null?void 0:s.type)===t})}function zx(t){const{$from:e,$to:n}=t;return e.blockRange(n,hl)}function nxe(t){const e=t.selection.$from,n=e.blockRange();if(!n||!Za(n.parent)||n.startIndex!==0)return!1;const r=e.node(n.depth-2),o=e.index(n.depth),i=e.index(n.depth-1),s=e.index(n.depth-2),a=r.maybeChild(s-1),l=a==null?void 0:a.lastChild;if(o!==0||i!==0)return!1;if(a&&hl(a)&&l&&Za(l))return lf({listType:a.type,itemType:l.type,tr:t});if(Za(r)){const u=r,d=e.node(n.depth-3);if(hl(d))return lf({listType:d.type,itemType:u.type,tr:t})}return!1}function QI({view:t}){if(!t)return!1;{const e=t.state.selection.$cursor;if(!e||e.parentOffset>0)return!1;const n=e.blockRange();if(!n||!Za(n.parent)||n.startIndex!==0)return!1}{const e=t.state.tr;nxe(e)&&t.dispatch(e)}{const e=t.state.selection.$cursor;if(!e||e.parentOffset>0)return!1;const n=e.blockRange();if(!n||!Za(n.parent)||n.startIndex!==0)return!1;const r=e.index(n.depth),o=e.index(n.depth-1),i=e.index(n.depth-2),s=n.depth-2>=1&&Za(e.node(n.depth-2));r===0&&o===0&&i<=1&&s&&F0e(n.parent.type)(t.state,t.dispatch)}return xH(t.state,t.dispatch,t),!0}function A6({node:t,mark:e,updateDOM:n,updateMark:r}){const o=document.createElement("label");o.contentEditable="false",o.classList.add(dl.LIST_ITEM_MARKER_CONTAINER),o.append(e);const i=document.createElement("div"),s=document.createElement("li");s.classList.add(dl.LIST_ITEM_WITH_CUSTOM_MARKER),s.append(o),s.append(i);const a=l=>l.type!==t.type?!1:(t=l,n(t,s),r(t,e),!0);return a(t),{dom:s,contentDOM:i,update:a}}function rxe(t,e){const n=t.node(e.depth-1),r=t.node(e.depth-2);return!Za(n)||!hl(r)?!1:{parentItem:n,parentList:r}}function oxe(t,e){const n=e.parent,r=e.parent.child(e.endIndex-1),o=e.end,i=e.$to.end(e.depth);return o<i?(t.step(new Rn(o-1,i,o,i,new ue(V.from(r.type.create(null,n.copy())),1,0),1,!0)),new Lc(t.doc.resolve(e.$from.pos),t.doc.resolve(i),e.depth)):e}function ixe(t,e){const n=e.parent,r=e.parent.child(e.endIndex-1),o=e.end,i=e.$to.end(e.depth-1);return o+1<i?(t.step(new Rn(o-1,i,o+1,i,new ue(V.from(n.type.create(null,r.type.create(null))),2,0),0,!0)),new Lc(t.selection.$from,t.selection.$to,e.depth)):e}function sxe(t,e,n,r){return lf({listType:n.type,itemType:r.type,tr:t})?new Lc(t.selection.$from,t.selection.$to,e.depth):e}function axe(t){let e=zx(t.selection);if(!e)return!1;const n=rxe(t.selection.$from,e);if(!n)return!1;const{parentItem:r,parentList:o}=n;e=oxe(t,e),e=ixe(t,e),e=sxe(t,e,o,r);const i=kf(e);return typeof i!="number"||(t.lift(e,i),e=zx(t.selection),e&&N6(t,t.doc.resolve(e.end-2))),!0}var lxe=({tr:t,dispatch:e})=>axe(t)?(e==null||e(t.scrollIntoView()),!0):!1;function cxe(t,e,n){let r,o,i,s;const a=e.doc;if(n.startIndex>=1){r=t.child(n.startIndex-1),o=t,s=a.resolve(n.start).start(n.depth),i=s+1;for(let l=0;l<n.startIndex-1;l++)i+=o.child(l).nodeSize}else{const l=e.index(n.depth-1);if(l>=1){const u=e.node(n.depth-1),d=e.start(n.depth-1);if(o=u.child(l-1),!hl(o))return!1;s=d+1;for(let c=0;c<l-1;c++)s+=u.child(c).nodeSize;if(r=o.child(o.childCount-1),i=s+o.nodeSize-r.nodeSize-1,!Za(r))return!1}else return!1}return{previousItem:r,previousList:o,previousItemStart:i,previousListStart:s}}function uxe(t,e,n){let r,o;const i=n.start,s=e.depth>=n.depth+2?e.end(n.depth+2):n.end-1,a=n.end;return s+1>=a?(r=t.slice(i,a),o=null):(r=t.slice(i,s),o=t.slice(s+1,a-1)),{selectedSlice:r,unselectedSlice:o}}function dxe(t){const{$from:e,$to:n}=t.selection,r=zx(t.selection);if(!r)return!1;const o=t.doc.resolve(r.start).node();if(!hl(o))return!1;const i=cxe(o,e,r);if(!i)return!1;const{previousItem:s,previousList:a,previousItemStart:l}=i,{selectedSlice:u,unselectedSlice:d}=uxe(t.doc,n,r),c=s.content.append(V.fromArray([o.copy(u.content)])).append(d?d.content:V.empty);t.deleteRange(r.start,r.end);const f=l+s.nodeSize-2,p=s.copy(c);return p.check(),t.replaceRangeWith(l-1,f+1,p),t.setSelection(a===o?nt.between(t.doc.resolve(e.pos),t.doc.resolve(n.pos)):nt.between(t.doc.resolve(e.pos-2),t.doc.resolve(n.pos-2))),!0}var fxe=({tr:t,dispatch:e})=>dxe(t)?(e==null||e(t.scrollIntoView()),!0):!1,I6=class extends Zt{get name(){return"listItemShared"}createKeymap(){const t={Tab:fxe,"Shift-Tab":lxe,Backspace:QI,"Mod-Backspace":QI};if(ai.isMac){const e={"Ctrl-h":t.Backspace,"Alt-Backspace":t["Mod-Backspace"]};return An(An({},t),e)}return t}createPlugin(){return{appendTransaction:(t,e,n)=>{const r=n.tr;return N6(r)?r:null}}}},L6,$6,rk,z6,zf;z6=[kt({defaultOptions:{enableCollapsible:!1},staticKeys:["enableCollapsible"]})];var Hc=class extends(rk=Bo,$6=[Me()],L6=[Me()],rk){constructor(){super(...arguments),Pl(zf,5,this)}get name(){return"listItem"}createTags(){return[tt.ListItemNode]}createNodeSpec(t,e){var n;return jr(An({content:"paragraph block*",defining:!0,draggable:!1},e),{attrs:jr(An({},t.defaults()),{closed:{default:!1},nested:{default:!1}}),parseDOM:[{tag:"li",getAttrs:t.parse,priority:At.Lowest},...(n=e.parseDOM)!=null?n:[]],toDOM:r=>["li",t.dom(r),0]})}createNodeViews(){return this.options.enableCollapsible?(t,e,n)=>{const r=document.createElement("div");return r.classList.add(dl.COLLAPSIBLE_LIST_ITEM_BUTTON),r.contentEditable="false",r.addEventListener("click",()=>{if(r.classList.contains("disabled"))return;const o=n(),i=qe.create(e.state.doc,o);return e.dispatch(e.state.tr.setSelection(i)),this.store.commands.toggleListItemClosed(),!0}),A6({mark:r,node:t,updateDOM:pxe,updateMark:hxe})}:{}}createKeymap(){return{Enter:M6(this.type)}}createExtensions(){return[new I6]}toggleListItemClosed(t){return({state:{tr:e,selection:n},dispatch:r})=>{if(!fw(n)||n.node.type.name!==this.name)return!1;const{node:o,from:i}=n;return t=ele(t)?t:!o.attrs.closed,r==null||r(e.setNodeMarkup(i,void 0,jr(An({},o.attrs),{closed:t}))),!0}}liftListItemOutOfList(t){return D6(t!=null?t:this.type)}};zf=tv(rk);Vo(zf,1,"toggleListItemClosed",$6,Hc);Vo(zf,1,"liftListItemOutOfList",L6,Hc);Hc=Vo(zf,0,"ListItemExtension",z6,Hc);Pl(zf,1,Hc);function pxe(t,e){t.attrs.closed?e.classList.add(dl.COLLAPSIBLE_LIST_ITEM_CLOSED):e.classList.remove(dl.COLLAPSIBLE_LIST_ITEM_CLOSED)}function hxe(t,e){t.childCount<=1?e.classList.add("disabled"):e.classList.remove("disabled")}var F6,B6,ok,j6,Ff;j6=[kt({defaultOptions:{enableSpine:!1},staticKeys:["enableSpine"]})];var cf=class extends(ok=Bo,B6=[Me({icon:"listUnordered",label:({t})=>t(iP.BULLET_LIST_LABEL)})],F6=[yr({shortcut:ne.BulletList,command:"toggleBulletList"})],ok){constructor(){super(...arguments),Pl(Ff,5,this)}get name(){return"bulletList"}createTags(){return[tt.Block,tt.ListContainerNode]}createNodeSpec(t,e){var n;return jr(An({content:"listItem+"},e),{attrs:t.defaults(),parseDOM:[{tag:"ul",getAttrs:t.parse},...(n=e.parseDOM)!=null?n:[]],toDOM:r=>["ul",t.dom(r),0]})}createNodeViews(){return this.options.enableSpine?(t,e,n)=>{var r;const o=document.createElement("div");o.style.position="relative";const i=n(),s=e.state.doc.resolve(i+1),a=s.node(s.depth-1);if(!(((r=a==null?void 0:a.type)==null?void 0:r.name)!=="listItem")){const d=document.createElement("div");d.contentEditable="false",d.classList.add(dl.LIST_SPINE),d.addEventListener("click",c=>{const f=n(),p=e.state.doc.resolve(f+1),m=p.start(p.depth-1),g=qe.create(e.state.doc,m-1);e.dispatch(e.state.tr.setSelection(g)),this.store.commands.toggleListItemClosed(),c.preventDefault(),c.stopPropagation()}),o.append(d)}const u=document.createElement("ul");return u.classList.add(dl.UL_LIST_CONTENT),o.append(u),{dom:o,contentDOM:u}}:{}}createExtensions(){return[new Hc({priority:At.Low,enableCollapsible:this.options.enableSpine})]}toggleBulletList(){return _R(this.type,tn(this.store.schema.nodes,"listItem"))}listShortcut(t){return this.toggleBulletList()(t)}createInputRules(){const t=/^\s*([*+-])\s$/;return[sw(t,this.type),new Fo(t,(e,n,r,o)=>{const i=e.tr;return i.deleteRange(r,o),lf({listType:this.type,itemType:tn(this.store.schema.nodes,"listItem"),tr:i})?i:null})]}};Ff=tv(ok);Vo(Ff,1,"toggleBulletList",B6,cf);Vo(Ff,1,"listShortcut",F6,cf);cf=Vo(Ff,0,"BulletListExtension",j6,cf);Pl(Ff,1,cf);var V6,U6,ik,H6,Bf;H6=[kt({})];var uf=class extends(ik=Bo,U6=[Me({icon:"listOrdered",label:({t})=>t(iP.ORDERED_LIST_LABEL)})],V6=[yr({shortcut:ne.OrderedList,command:"toggleOrderedList"})],ik){constructor(){super(...arguments),Pl(Bf,5,this)}get name(){return"orderedList"}createTags(){return[tt.Block,tt.ListContainerNode]}createNodeSpec(t,e){var n;return jr(An({content:"listItem+"},e),{attrs:jr(An({},t.defaults()),{order:{default:1}}),parseDOM:[{tag:"ol",getAttrs:r=>{var o;return Er(r)?jr(An({},t.parse(r)),{order:+((o=r.getAttribute("start"))!=null?o:1)}):{}}},...(n=e.parseDOM)!=null?n:[]],toDOM:r=>{const o=t.dom(r);return r.attrs.order===1?["ol",o,0]:["ol",jr(An({},o),{start:r.attrs.order}),0]}})}createExtensions(){return[new Hc({priority:At.Low})]}toggleOrderedList(){return _R(this.type,tn(this.store.schema.nodes,"listItem"))}listShortcut(t){return this.toggleOrderedList()(t)}createInputRules(){const t=/^(\d+)\.\s$/;return[sw(t,this.type,e=>({order:+tn(e,1)}),(e,n)=>n.childCount+n.attrs.order===+tn(e,1)),new Fo(t,(e,n,r,o)=>{const i=e.tr;if(i.deleteRange(r,o),!lf({listType:this.type,itemType:tn(this.store.schema.nodes,"listItem"),tr:i}))return null;const a=+tn(n,1);if(a!==1){const l=$m({selection:i.selection,types:this.type});l&&i.setNodeMarkup(l.pos,void 0,{order:a})}return i})]}};Bf=tv(ik);Vo(Bf,1,"toggleOrderedList",U6,uf);Vo(Bf,1,"listShortcut",V6,uf);uf=Vo(Bf,0,"OrderedListExtension",H6,uf);Pl(Bf,1,uf);var W6,sk,ww,wR=class extends(sk=Bo,W6=[Me()],sk){constructor(){super(...arguments),Pl(ww,5,this)}get name(){return"taskListItem"}createTags(){return[tt.ListItemNode]}createNodeSpec(t,e){var n;return jr(An({content:"paragraph block*",defining:!0,draggable:!1},e),{attrs:jr(An({},t.defaults()),{checked:{default:!1}}),parseDOM:[{tag:"li[data-task-list-item]",getAttrs:r=>{let o=!1;return Er(r)&&r.getAttribute("data-checked")!==null&&(o=!0),An({checked:o},t.parse(r))},priority:At.Medium},...(n=e.parseDOM)!=null?n:[]],toDOM:r=>["li",jr(An({},t.dom(r)),{"data-task-list-item":"","data-checked":r.attrs.checked?"":void 0}),0]})}createNodeViews(){return(t,e,n)=>{const r=document.createElement("input");return r.type="checkbox",r.classList.add(dl.LIST_ITEM_CHECKBOX),r.contentEditable="false",r.addEventListener("click",o=>{e.editable||o.preventDefault()}),r.addEventListener("change",()=>{const o=n(),i=e.state.doc.resolve(o+1);this.store.commands.toggleCheckboxChecked({$pos:i})}),r.checked=t.attrs.checked,A6({node:t,mark:r,updateDOM:mxe,updateMark:gxe})}}createKeymap(){return{Enter:M6(this.type)}}createExtensions(){return[new I6]}toggleCheckboxChecked(t){let e,n;return typeof t=="boolean"?e=t:t&&(e=t.checked,n=t.$pos),({tr:r,dispatch:o})=>{const i=$m({selection:n!=null?n:r.selection.$from,types:this.type});if(!i)return!1;const{node:s,pos:a}=i,l=jr(An({},s.attrs),{checked:e!=null?e:!s.attrs.checked});return o==null||o(r.setNodeMarkup(a,void 0,l)),!0}}createInputRules(){const t=/^\s*(\[( ?|x|X)]\s)$/;return[sw(t,this.type,e=>({checked:["x","X"].includes(LA(e,2))})),new Fo(t,(e,n,r,o)=>{const i=e.tr;if(i.deleteRange(r,o),!lf({listType:tn(this.store.schema.nodes,"taskList"),itemType:this.type,tr:i}))return null;const a=["x","X"].includes(LA(n,2));if(a){const l=$m({selection:i.selection,types:this.type});l&&i.setNodeMarkup(l.pos,void 0,{checked:a})}return i})]}};ww=tv(sk);Vo(ww,1,"toggleCheckboxChecked",W6,wR);yR(ww,wR);function mxe(t,e){t.attrs.checked?e.setAttribute("data-checked",""):e.removeAttribute("data-checked"),e.setAttribute("data-task-list-item","")}function gxe(t,e){e.checked=!!t.attrs.checked}var K6,q6,ak,nv,bR=class extends(ak=Bo,q6=[Me({icon:"checkboxMultipleLine",label:({t})=>t(iP.TASK_LIST_LABEL)})],K6=[yr({shortcut:ne.TaskList,command:"toggleTaskList"})],ak){constructor(){super(...arguments),Pl(nv,5,this)}get name(){return"taskList"}createTags(){return[tt.Block,tt.ListContainerNode]}createNodeSpec(t,e){var n;return jr(An({content:"taskListItem+"},e),{attrs:t.defaults(),parseDOM:[{tag:"ul[data-task-list]",getAttrs:t.parse,priority:At.Medium},...(n=e.parseDOM)!=null?n:[]],toDOM:r=>["ul",jr(An({},t.dom(r)),{"data-task-list":""}),0]})}createExtensions(){return[new wR({})]}toggleTaskList(){return _R(this.type,tn(this.store.schema.nodes,"taskListItem"))}listShortcut(t){return this.toggleTaskList()(t)}};nv=tv(ak);Vo(nv,1,"toggleTaskList",q6,bR);Vo(nv,1,"listShortcut",K6,bR);yR(nv,bR);function vxe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}return t}function lk(t,e){return Array(e+1).join(t)}function yxe(t){return t.replace(/^\n*/,"")}function xxe(t){for(var e=t.length;e>0&&t[e-1]===`
`;)e--;return t.substring(0,e)}var _xe=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function SR(t){return ER(t,_xe)}var G6=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function Z6(t){return ER(t,G6)}function wxe(t){return Y6(t,G6)}var Q6=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function bxe(t){return ER(t,Q6)}function Sxe(t){return Y6(t,Q6)}function ER(t,e){return e.indexOf(t.nodeName)>=0}function Y6(t,e){return t.getElementsByTagName&&e.some(function(n){return t.getElementsByTagName(n).length})}var lr={};lr.paragraph={filter:"p",replacement:function(t){return`

`+t+`

`}};lr.lineBreak={filter:"br",replacement:function(t,e,n){return n.br+`
`}};lr.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(t,e,n){var r=Number(e.nodeName.charAt(1));if(n.headingStyle==="setext"&&r<3){var o=lk(r===1?"=":"-",t.length);return`

`+t+`
`+o+`

`}else return`

`+lk("#",r)+" "+t+`

`}};lr.blockquote={filter:"blockquote",replacement:function(t){return t=t.replace(/^\n+|\n+$/g,""),t=t.replace(/^/gm,"> "),`

`+t+`

`}};lr.list={filter:["ul","ol"],replacement:function(t,e){var n=e.parentNode;return n.nodeName==="LI"&&n.lastElementChild===e?`
`+t:`

`+t+`

`}};lr.listItem={filter:"li",replacement:function(t,e,n){t=t.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
    `);var r=n.bulletListMarker+"   ",o=e.parentNode;if(o.nodeName==="OL"){var i=o.getAttribute("start"),s=Array.prototype.indexOf.call(o.children,e);r=(i?Number(i)+s:s+1)+".  "}return r+t+(e.nextSibling&&!/\n$/.test(t)?`
`:"")}};lr.indentedCodeBlock={filter:function(t,e){return e.codeBlockStyle==="indented"&&t.nodeName==="PRE"&&t.firstChild&&t.firstChild.nodeName==="CODE"},replacement:function(t,e,n){return`

    `+e.firstChild.textContent.replace(/\n/g,`
    `)+`

`}};lr.fencedCodeBlock={filter:function(t,e){return e.codeBlockStyle==="fenced"&&t.nodeName==="PRE"&&t.firstChild&&t.firstChild.nodeName==="CODE"},replacement:function(t,e,n){for(var r=e.firstChild.getAttribute("class")||"",o=(r.match(/language-(\S+)/)||[null,""])[1],i=e.firstChild.textContent,s=n.fence.charAt(0),a=3,l=new RegExp("^"+s+"{3,}","gm"),u;u=l.exec(i);)u[0].length>=a&&(a=u[0].length+1);var d=lk(s,a);return`

`+d+o+`
`+i.replace(/\n$/,"")+`
`+d+`

`}};lr.horizontalRule={filter:"hr",replacement:function(t,e,n){return`

`+n.hr+`

`}};lr.inlineLink={filter:function(t,e){return e.linkStyle==="inlined"&&t.nodeName==="A"&&t.getAttribute("href")},replacement:function(t,e){var n=e.getAttribute("href");n&&(n=n.replace(/([()])/g,"\\$1"));var r=Fx(e.getAttribute("title"));return r&&(r=' "'+r.replace(/"/g,'\\"')+'"'),"["+t+"]("+n+r+")"}};lr.referenceLink={filter:function(t,e){return e.linkStyle==="referenced"&&t.nodeName==="A"&&t.getAttribute("href")},replacement:function(t,e,n){var r=e.getAttribute("href"),o=Fx(e.getAttribute("title"));o&&(o=' "'+o+'"');var i,s;switch(n.linkReferenceStyle){case"collapsed":i="["+t+"][]",s="["+t+"]: "+r+o;break;case"shortcut":i="["+t+"]",s="["+t+"]: "+r+o;break;default:var a=this.references.length+1;i="["+t+"]["+a+"]",s="["+a+"]: "+r+o}return this.references.push(s),i},references:[],append:function(t){var e="";return this.references.length&&(e=`

`+this.references.join(`
`)+`

`,this.references=[]),e}};lr.emphasis={filter:["em","i"],replacement:function(t,e,n){return t.trim()?n.emDelimiter+t+n.emDelimiter:""}};lr.strong={filter:["strong","b"],replacement:function(t,e,n){return t.trim()?n.strongDelimiter+t+n.strongDelimiter:""}};lr.code={filter:function(t){var e=t.previousSibling||t.nextSibling,n=t.parentNode.nodeName==="PRE"&&!e;return t.nodeName==="CODE"&&!n},replacement:function(t){if(!t)return"";t=t.replace(/\r?\n|\r/g," ");for(var e=/^`|^ .*?[^ ].* $|`$/.test(t)?" ":"",n="`",r=t.match(/`+/gm)||[];r.indexOf(n)!==-1;)n=n+"`";return n+e+t+e+n}};lr.image={filter:"img",replacement:function(t,e){var n=Fx(e.getAttribute("alt")),r=e.getAttribute("src")||"",o=Fx(e.getAttribute("title")),i=o?' "'+o+'"':"";return r?"!["+n+"]("+r+i+")":""}};function Fx(t){return t?t.replace(/(\n+\s*)+/g,`
`):""}function X6(t){this.options=t,this._keep=[],this._remove=[],this.blankRule={replacement:t.blankReplacement},this.keepReplacement=t.keepReplacement,this.defaultRule={replacement:t.defaultReplacement},this.array=[];for(var e in t.rules)this.array.push(t.rules[e])}X6.prototype={add:function(t,e){this.array.unshift(e)},keep:function(t){this._keep.unshift({filter:t,replacement:this.keepReplacement})},remove:function(t){this._remove.unshift({filter:t,replacement:function(){return""}})},forNode:function(t){if(t.isBlank)return this.blankRule;var e;return(e=n1(this.array,t,this.options))||(e=n1(this._keep,t,this.options))||(e=n1(this._remove,t,this.options))?e:this.defaultRule},forEach:function(t){for(var e=0;e<this.array.length;e++)t(this.array[e],e)}};function n1(t,e,n){for(var r=0;r<t.length;r++){var o=t[r];if(Exe(o,e,n))return o}}function Exe(t,e,n){var r=t.filter;if(typeof r=="string"){if(r===e.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(r.indexOf(e.nodeName.toLowerCase())>-1)return!0}else if(typeof r=="function"){if(r.call(t,e,n))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function kxe(t){var e=t.element,n=t.isBlock,r=t.isVoid,o=t.isPre||function(c){return c.nodeName==="PRE"};if(!(!e.firstChild||o(e))){for(var i=null,s=!1,a=null,l=YI(a,e,o);l!==e;){if(l.nodeType===3||l.nodeType===4){var u=l.data.replace(/[ \r\n\t]+/g," ");if((!i||/ $/.test(i.data))&&!s&&u[0]===" "&&(u=u.substr(1)),!u){l=r1(l);continue}l.data=u,i=l}else if(l.nodeType===1)n(l)||l.nodeName==="BR"?(i&&(i.data=i.data.replace(/ $/,"")),i=null,s=!1):r(l)||o(l)?(i=null,s=!0):i&&(s=!1);else{l=r1(l);continue}var d=YI(a,l,o);a=l,l=d}i&&(i.data=i.data.replace(/ $/,""),i.data||r1(i))}}function r1(t){var e=t.nextSibling||t.parentNode;return t.parentNode.removeChild(t),e}function YI(t,e,n){return t&&t.parentNode===e||n(e)?e.nextSibling||e.parentNode:e.firstChild||e.nextSibling||e.parentNode}var kR=typeof window<"u"?window:{};function Cxe(){var t=kR.DOMParser,e=!1;try{new t().parseFromString("","text/html")&&(e=!0)}catch{}return e}function Oxe(){var t=function(){};return Pxe()?t.prototype.parseFromString=function(e){var n=new window.ActiveXObject("htmlfile");return n.designMode="on",n.open(),n.write(e),n.close(),n}:t.prototype.parseFromString=function(e){var n=document.implementation.createHTMLDocument("");return n.open(),n.write(e),n.close(),n},t}function Pxe(){var t=!1;try{document.implementation.createHTMLDocument("").open()}catch{kR.ActiveXObject&&(t=!0)}return t}var Rxe=Cxe()?kR.DOMParser:Oxe();function Txe(t,e){var n;if(typeof t=="string"){var r=Mxe().parseFromString('<x-turndown id="turndown-root">'+t+"</x-turndown>","text/html");n=r.getElementById("turndown-root")}else n=t.cloneNode(!0);return kxe({element:n,isBlock:SR,isVoid:Z6,isPre:e.preformattedCode?Nxe:null}),n}var o1;function Mxe(){return o1=o1||new Rxe,o1}function Nxe(t){return t.nodeName==="PRE"||t.nodeName==="CODE"}function Dxe(t,e){return t.isBlock=SR(t),t.isCode=t.nodeName==="CODE"||t.parentNode.isCode,t.isBlank=Axe(t),t.flankingWhitespace=Ixe(t,e),t}function Axe(t){return!Z6(t)&&!bxe(t)&&/^\s*$/i.test(t.textContent)&&!wxe(t)&&!Sxe(t)}function Ixe(t,e){if(t.isBlock||e.preformattedCode&&t.isCode)return{leading:"",trailing:""};var n=Lxe(t.textContent);return n.leadingAscii&&XI("left",t,e)&&(n.leading=n.leadingNonAscii),n.trailingAscii&&XI("right",t,e)&&(n.trailing=n.trailingNonAscii),{leading:n.leading,trailing:n.trailing}}function Lxe(t){var e=t.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:e[1],leadingAscii:e[2],leadingNonAscii:e[3],trailing:e[4],trailingNonAscii:e[5],trailingAscii:e[6]}}function XI(t,e,n){var r,o,i;return t==="left"?(r=e.previousSibling,o=/ $/):(r=e.nextSibling,o=/^ /),r&&(r.nodeType===3?i=o.test(r.nodeValue):n.preformattedCode&&r.nodeName==="CODE"?i=!1:r.nodeType===1&&!SR(r)&&(i=o.test(r.textContent))),i}var $xe=Array.prototype.reduce,zxe=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function Bx(t){if(!(this instanceof Bx))return new Bx(t);var e={rules:lr,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(n,r){return r.isBlock?`

`:""},keepReplacement:function(n,r){return r.isBlock?`

`+r.outerHTML+`

`:r.outerHTML},defaultReplacement:function(n,r){return r.isBlock?`

`+n+`

`:n}};this.options=vxe({},e,t),this.rules=new X6(this.options)}Bx.prototype={turndown:function(t){if(!jxe(t))throw new TypeError(t+" is not a string, or an element/document/fragment node.");if(t==="")return"";var e=J6.call(this,new Txe(t,this.options));return Fxe.call(this,e)},use:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this.use(t[e]);else if(typeof t=="function")t(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(t,e){return this.rules.add(t,e),this},keep:function(t){return this.rules.keep(t),this},remove:function(t){return this.rules.remove(t),this},escape:function(t){return zxe.reduce(function(e,n){return e.replace(n[0],n[1])},t)}};function J6(t){var e=this;return $xe.call(t.childNodes,function(n,r){r=new Dxe(r,e.options);var o="";return r.nodeType===3?o=r.isCode?r.nodeValue:e.escape(r.nodeValue):r.nodeType===1&&(o=Bxe.call(e,r)),e8(n,o)},"")}function Fxe(t){var e=this;return this.rules.forEach(function(n){typeof n.append=="function"&&(t=e8(t,n.append(e.options)))}),t.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function Bxe(t){var e=this.rules.forNode(t),n=J6.call(this,t),r=t.flankingWhitespace;return(r.leading||r.trailing)&&(n=n.trim()),r.leading+e.replacement(n,t,this.options)+r.trailing}function e8(t,e){var n=xxe(t),r=yxe(e),o=Math.max(t.length-n.length,e.length-r.length),i=`

`.substring(0,o);return n+i+r}function jxe(t){return t!=null&&(typeof t=="string"||t.nodeType&&(t.nodeType===1||t.nodeType===9||t.nodeType===11))}function t8(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let ou=t8();function Vxe(t){ou=t}const n8=/[&<>"']/,Uxe=new RegExp(n8.source,"g"),r8=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Hxe=new RegExp(r8.source,"g"),Wxe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},JI=t=>Wxe[t];function Jn(t,e){if(e){if(n8.test(t))return t.replace(Uxe,JI)}else if(r8.test(t))return t.replace(Hxe,JI);return t}const Kxe=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function o8(t){return t.replace(Kxe,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const qxe=/(^|[^\[])\^/g;function Lt(t,e){t=typeof t=="string"?t:t.source,e=e||"";const n={replace:(r,o)=>(o=o.source||o,o=o.replace(qxe,"$1"),t=t.replace(r,o),n),getRegex:()=>new RegExp(t,e)};return n}const Gxe=/[^\w:]/g,Zxe=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function eL(t,e,n){if(t){let r;try{r=decodeURIComponent(o8(n)).replace(Gxe,"").toLowerCase()}catch{return null}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0||r.indexOf("data:")===0)return null}e&&!Zxe.test(n)&&(n=Jxe(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const cy={},Qxe=/^[^:]+:\/*[^/]*$/,Yxe=/^([^:]+:)[\s\S]*$/,Xxe=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Jxe(t,e){cy[" "+t]||(Qxe.test(t)?cy[" "+t]=t+"/":cy[" "+t]=Wy(t,"/",!0)),t=cy[" "+t];const n=t.indexOf(":")===-1;return e.substring(0,2)==="//"?n?e:t.replace(Yxe,"$1")+e:e.charAt(0)==="/"?n?e:t.replace(Xxe,"$1")+e:t+e}const jx={exec:function(){}};function tL(t,e){const n=t.replace(/\|/g,(i,s,a)=>{let l=!1,u=s;for(;--u>=0&&a[u]==="\\";)l=!l;return l?"|":" |"}),r=n.split(/ \|/);let o=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(/\\\|/g,"|");return r}function Wy(t,e,n){const r=t.length;if(r===0)return"";let o=0;for(;o<r;){const i=t.charAt(r-o-1);if(i===e&&!n)o++;else if(i!==e&&n)o++;else break}return t.slice(0,r-o)}function e_e(t,e){if(t.indexOf(e[1])===-1)return-1;const n=t.length;let r=0,o=0;for(;o<n;o++)if(t[o]==="\\")o++;else if(t[o]===e[0])r++;else if(t[o]===e[1]&&(r--,r<0))return o;return-1}function t_e(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function nL(t,e){if(e<1)return"";let n="";for(;e>1;)e&1&&(n+=t),e>>=1,t+=t;return n+t}function rL(t,e,n,r){const o=e.href,i=e.title?Jn(e.title):null,s=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){r.state.inLink=!0;const a={type:"link",raw:n,href:o,title:i,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,a}return{type:"image",raw:n,href:o,title:i,text:Jn(s)}}function n_e(t,e){const n=t.match(/^(\s+)(?:```)/);if(n===null)return e;const r=n[1];return e.split(`
`).map(o=>{const i=o.match(/^\s+/);if(i===null)return o;const[s]=i;return s.length>=r.length?o.slice(r.length):o}).join(`
`)}class CR{constructor(e){this.options=e||ou}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Wy(r,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const r=n[0],o=n_e(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline._escapes,"$1"):n[2],text:o}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(/#$/.test(r)){const o=Wy(r,"#");(this.options.pedantic||!o||/ $/.test(o))&&(r=o.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){const r=n[0].replace(/^ *>[ \t]?/gm,""),o=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(r);return this.lexer.state.top=o,{type:"blockquote",raw:n[0],tokens:i,text:r}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r,o,i,s,a,l,u,d,c,f,p,m,g=n[1].trim();const x=g.length>1,v={type:"list",raw:"",ordered:x,start:x?+g.slice(0,-1):"",loose:!1,items:[]};g=x?`\\d{1,9}\\${g.slice(-1)}`:`\\${g}`,this.options.pedantic&&(g=x?g:"[*+-]");const h=new RegExp(`^( {0,3}${g})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(m=!1,!(!(n=h.exec(e))||this.rules.block.hr.test(e)));){if(r=n[0],e=e.substring(r.length),d=n[2].split(`
`,1)[0].replace(/^\t+/,y=>" ".repeat(3*y.length)),c=e.split(`
`,1)[0],this.options.pedantic?(s=2,p=d.trimLeft()):(s=n[2].search(/[^ ]/),s=s>4?1:s,p=d.slice(s),s+=n[1].length),l=!1,!d&&/^ *$/.test(c)&&(r+=c+`
`,e=e.substring(c.length+1),m=!0),!m){const y=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),S=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),O=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),k=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;e&&(f=e.split(`
`,1)[0],c=f,this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(O.test(c)||k.test(c)||y.test(c)||S.test(e)));){if(c.search(/[^ ]/)>=s||!c.trim())p+=`
`+c.slice(s);else{if(l||d.search(/[^ ]/)>=4||O.test(d)||k.test(d)||S.test(d))break;p+=`
`+c}!l&&!c.trim()&&(l=!0),r+=f+`
`,e=e.substring(f.length+1),d=c.slice(s)}}v.loose||(u?v.loose=!0:/\n *\n *$/.test(r)&&(u=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(p),o&&(i=o[0]!=="[ ] ",p=p.replace(/^\[[ xX]\] +/,""))),v.items.push({type:"list_item",raw:r,task:!!o,checked:i,loose:!1,text:p}),v.raw+=r}v.items[v.items.length-1].raw=r.trimRight(),v.items[v.items.length-1].text=p.trimRight(),v.raw=v.raw.trimRight();const _=v.items.length;for(a=0;a<_;a++)if(this.lexer.state.top=!1,v.items[a].tokens=this.lexer.blockTokens(v.items[a].text,[]),!v.loose){const y=v.items[a].tokens.filter(O=>O.type==="space"),S=y.length>0&&y.some(O=>/\n.*\n/.test(O.raw));v.loose=S}if(v.loose)for(a=0;a<_;a++)v.items[a].loose=!0;return v}}html(e){const n=this.rules.block.html.exec(e);if(n){const r={type:"html",raw:n[0],pre:!this.options.sanitizer&&(n[1]==="pre"||n[1]==="script"||n[1]==="style"),text:n[0]};if(this.options.sanitize){const o=this.options.sanitizer?this.options.sanitizer(n[0]):Jn(n[0]);r.type="paragraph",r.text=o,r.tokens=this.lexer.inline(o)}return r}}def(e){const n=this.rules.block.def.exec(e);if(n){const r=n[1].toLowerCase().replace(/\s+/g," "),o=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline._escapes,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:o,title:i}}}table(e){const n=this.rules.block.table.exec(e);if(n){const r={type:"table",header:tL(n[1]).map(o=>({text:o})),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(r.header.length===r.align.length){r.raw=n[0];let o=r.align.length,i,s,a,l;for(i=0;i<o;i++)/^ *-+: *$/.test(r.align[i])?r.align[i]="right":/^ *:-+: *$/.test(r.align[i])?r.align[i]="center":/^ *:-+ *$/.test(r.align[i])?r.align[i]="left":r.align[i]=null;for(o=r.rows.length,i=0;i<o;i++)r.rows[i]=tL(r.rows[i],r.header.length).map(u=>({text:u}));for(o=r.header.length,s=0;s<o;s++)r.header[s].tokens=this.lexer.inline(r.header[s].text);for(o=r.rows.length,s=0;s<o;s++)for(l=r.rows[s],a=0;a<l.length;a++)l[a].tokens=this.lexer.inline(l[a].text);return r}}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:Jn(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Jn(n[0]):n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const s=Wy(r.slice(0,-1),"\\");if((r.length-s.length)%2===0)return}else{const s=e_e(n[2],"()");if(s>-1){const l=(n[0].indexOf("!")===0?5:4)+n[1].length+s;n[2]=n[2].substring(0,s),n[0]=n[0].substring(0,l).trim(),n[3]=""}}let o=n[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=n[3]?n[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(this.options.pedantic&&!/>$/.test(r)?o=o.slice(1):o=o.slice(1,-1)),rL(n,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},n[0],this.lexer)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let o=(r[2]||r[1]).replace(/\s+/g," ");if(o=n[o.toLowerCase()],!o){const i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return rL(r,o,r[0],this.lexer)}}emStrong(e,n,r=""){let o=this.rules.inline.emStrong.lDelim.exec(e);if(!o||o[3]&&r.match(/[\p{L}\p{N}]/u))return;const i=o[1]||o[2]||"";if(!i||i&&(r===""||this.rules.inline.punctuation.exec(r))){const s=o[0].length-1;let a,l,u=s,d=0;const c=o[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(c.lastIndex=0,n=n.slice(-1*e.length+s);(o=c.exec(n))!=null;){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(l=a.length,o[3]||o[4]){u+=l;continue}else if((o[5]||o[6])&&s%3&&!((s+l)%3)){d+=l;continue}if(u-=l,u>0)continue;l=Math.min(l,l+u+d);const f=e.slice(0,s+o.index+(o[0].length-a.length)+l);if(Math.min(s,l)%2){const m=f.slice(1,-1);return{type:"em",raw:f,text:m,tokens:this.lexer.inlineTokens(m)}}const p=f.slice(2,-2);return{type:"strong",raw:f,text:p,tokens:this.lexer.inlineTokens(p)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(/\n/g," ");const o=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return o&&i&&(r=r.substring(1,r.length-1)),r=Jn(r,!0),{type:"codespan",raw:n[0],text:r}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e,n){const r=this.rules.inline.autolink.exec(e);if(r){let o,i;return r[2]==="@"?(o=Jn(this.options.mangle?n(r[1]):r[1]),i="mailto:"+o):(o=Jn(r[1]),i=o),{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}url(e,n){let r;if(r=this.rules.inline.url.exec(e)){let o,i;if(r[2]==="@")o=Jn(this.options.mangle?n(r[0]):r[0]),i="mailto:"+o;else{let s;do s=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0];while(s!==r[0]);o=Jn(r[0]),r[1]==="www."?i="http://"+r[0]:i=r[0]}return{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(e,n){const r=this.rules.inline.text.exec(e);if(r){let o;return this.lexer.state.inRawBlock?o=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Jn(r[0]):r[0]:o=Jn(this.options.smartypants?n(r[0]):r[0]),{type:"text",raw:r[0],text:o}}}}const Ue={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:jx,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Ue._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;Ue._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;Ue.def=Lt(Ue.def).replace("label",Ue._label).replace("title",Ue._title).getRegex();Ue.bullet=/(?:[*+-]|\d{1,9}[.)])/;Ue.listItemStart=Lt(/^( *)(bull) */).replace("bull",Ue.bullet).getRegex();Ue.list=Lt(Ue.list).replace(/bull/g,Ue.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Ue.def.source+")").getRegex();Ue._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";Ue._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;Ue.html=Lt(Ue.html,"i").replace("comment",Ue._comment).replace("tag",Ue._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();Ue.paragraph=Lt(Ue._paragraph).replace("hr",Ue.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ue._tag).getRegex();Ue.blockquote=Lt(Ue.blockquote).replace("paragraph",Ue.paragraph).getRegex();Ue.normal={...Ue};Ue.gfm={...Ue.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};Ue.gfm.table=Lt(Ue.gfm.table).replace("hr",Ue.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ue._tag).getRegex();Ue.gfm.paragraph=Lt(Ue._paragraph).replace("hr",Ue.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Ue.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ue._tag).getRegex();Ue.pedantic={...Ue.normal,html:Lt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ue._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:jx,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Lt(Ue.normal._paragraph).replace("hr",Ue.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ue.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const Ee={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:jx,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:jx,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Ee._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";Ee.punctuation=Lt(Ee.punctuation).replace(/punctuation/g,Ee._punctuation).getRegex();Ee.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;Ee.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;Ee._comment=Lt(Ue._comment).replace("(?:-->|$)","-->").getRegex();Ee.emStrong.lDelim=Lt(Ee.emStrong.lDelim).replace(/punct/g,Ee._punctuation).getRegex();Ee.emStrong.rDelimAst=Lt(Ee.emStrong.rDelimAst,"g").replace(/punct/g,Ee._punctuation).getRegex();Ee.emStrong.rDelimUnd=Lt(Ee.emStrong.rDelimUnd,"g").replace(/punct/g,Ee._punctuation).getRegex();Ee._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;Ee._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;Ee._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;Ee.autolink=Lt(Ee.autolink).replace("scheme",Ee._scheme).replace("email",Ee._email).getRegex();Ee._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;Ee.tag=Lt(Ee.tag).replace("comment",Ee._comment).replace("attribute",Ee._attribute).getRegex();Ee._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;Ee._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;Ee._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;Ee.link=Lt(Ee.link).replace("label",Ee._label).replace("href",Ee._href).replace("title",Ee._title).getRegex();Ee.reflink=Lt(Ee.reflink).replace("label",Ee._label).replace("ref",Ue._label).getRegex();Ee.nolink=Lt(Ee.nolink).replace("ref",Ue._label).getRegex();Ee.reflinkSearch=Lt(Ee.reflinkSearch,"g").replace("reflink",Ee.reflink).replace("nolink",Ee.nolink).getRegex();Ee.normal={...Ee};Ee.pedantic={...Ee.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Lt(/^!?\[(label)\]\((.*?)\)/).replace("label",Ee._label).getRegex(),reflink:Lt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ee._label).getRegex()};Ee.gfm={...Ee.normal,escape:Lt(Ee.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};Ee.gfm.url=Lt(Ee.gfm.url,"i").replace("email",Ee.gfm._extended_email).getRegex();Ee.breaks={...Ee.gfm,br:Lt(Ee.br).replace("{2,}","*").getRegex(),text:Lt(Ee.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function r_e(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function oL(t){let e="",n,r;const o=t.length;for(n=0;n<o;n++)r=t.charCodeAt(n),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}class ml{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||ou,this.options.tokenizer=this.options.tokenizer||new CR,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:Ue.normal,inline:Ee.normal};this.options.pedantic?(n.block=Ue.pedantic,n.inline=Ee.pedantic):this.options.gfm&&(n.block=Ue.gfm,this.options.breaks?n.inline=Ee.breaks:n.inline=Ee.gfm),this.tokenizer.rules=n}static get rules(){return{block:Ue,inline:Ee}}static lex(e,n){return new ml(n).lex(e)}static lexInline(e,n){return new ml(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let n;for(;n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(e,n=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(a,l,u)=>l+"    ".repeat(u.length));let r,o,i,s;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(r=a.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),o=n[n.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+r.raw,o.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text):n.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),o=n[n.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+r.raw,o.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(i=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=e.slice(1);let u;this.options.extensions.startBlock.forEach(function(d){u=d.call({lexer:this},l),typeof u=="number"&&u>=0&&(a=Math.min(a,u))}),a<1/0&&a>=0&&(i=e.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){o=n[n.length-1],s&&o.type==="paragraph"?(o.raw+=`
`+r.raw,o.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):n.push(r),s=i.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),o=n[n.length-1],o&&o.type==="text"?(o.raw+=`
`+r.raw,o.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):n.push(r);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r,o,i,s=e,a,l,u;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)d.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+nL("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,a.index)+"["+nL("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.escapedEmSt.exec(s))!=null;)s=s.slice(0,a.index+a[0].length-2)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(l||(u=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(d=>(r=d.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),o=n[n.length-1],o&&r.type==="text"&&o.type==="text"?(o.raw+=r.raw,o.text+=r.text):n.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),o=n[n.length-1],o&&r.type==="text"&&o.type==="text"?(o.raw+=r.raw,o.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(e,s,u)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(e,oL)){e=e.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,oL))){e=e.substring(r.raw.length),n.push(r);continue}if(i=e,this.options.extensions&&this.options.extensions.startInline){let d=1/0;const c=e.slice(1);let f;this.options.extensions.startInline.forEach(function(p){f=p.call({lexer:this},c),typeof f=="number"&&f>=0&&(d=Math.min(d,f))}),d<1/0&&d>=0&&(i=e.substring(0,d+1))}if(r=this.tokenizer.inlineText(i,r_e)){e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(u=r.raw.slice(-1)),l=!0,o=n[n.length-1],o&&o.type==="text"?(o.raw+=r.raw,o.text+=r.text):n.push(r);continue}if(e){const d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return n}}class OR{constructor(e){this.options=e||ou}code(e,n,r){const o=(n||"").match(/\S*/)[0];if(this.options.highlight){const i=this.options.highlight(e,o);i!=null&&i!==e&&(r=!0,e=i)}return e=e.replace(/\n$/,"")+`
`,o?'<pre><code class="'+this.options.langPrefix+Jn(o)+'">'+(r?e:Jn(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:Jn(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e){return e}heading(e,n,r,o){if(this.options.headerIds){const i=this.options.headerPrefix+o.slug(r);return`<h${n} id="${i}">${e}</h${n}>
`}return`<h${n}>${e}</h${n}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,n,r){const o=n?"ol":"ul",i=n&&r!==1?' start="'+r+'"':"";return"<"+o+i+`>
`+e+"</"+o+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,n){const r=n.header?"th":"td";return(n.align?`<${r} align="${n.align}">`:`<${r}>`)+e+`</${r}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,n,r){if(e=eL(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let o='<a href="'+e+'"';return n&&(o+=' title="'+n+'"'),o+=">"+r+"</a>",o}image(e,n,r){if(e=eL(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let o=`<img src="${e}" alt="${r}"`;return n&&(o+=` title="${n}"`),o+=this.options.xhtml?"/>":">",o}text(e){return e}}class i8{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,n,r){return""+r}image(e,n,r){return""+r}br(){return""}}class s8{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,n){let r=e,o=0;if(this.seen.hasOwnProperty(r)){o=this.seen[e];do o++,r=e+"-"+o;while(this.seen.hasOwnProperty(r))}return n||(this.seen[e]=o,this.seen[r]=0),r}slug(e,n={}){const r=this.serialize(e);return this.getNextSafeSlug(r,n.dryrun)}}class gl{constructor(e){this.options=e||ou,this.options.renderer=this.options.renderer||new OR,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new i8,this.slugger=new s8}static parse(e,n){return new gl(n).parse(e)}static parseInline(e,n){return new gl(n).parseInline(e)}parse(e,n=!0){let r="",o,i,s,a,l,u,d,c,f,p,m,g,x,v,h,_,y,S,O;const k=e.length;for(o=0;o<k;o++){if(p=e[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[p.type]&&(O=this.options.extensions.renderers[p.type].call({parser:this},p),O!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(p.type))){r+=O||"";continue}switch(p.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{r+=this.renderer.heading(this.parseInline(p.tokens),p.depth,o8(this.parseInline(p.tokens,this.textRenderer)),this.slugger);continue}case"code":{r+=this.renderer.code(p.text,p.lang,p.escaped);continue}case"table":{for(c="",d="",a=p.header.length,i=0;i<a;i++)d+=this.renderer.tablecell(this.parseInline(p.header[i].tokens),{header:!0,align:p.align[i]});for(c+=this.renderer.tablerow(d),f="",a=p.rows.length,i=0;i<a;i++){for(u=p.rows[i],d="",l=u.length,s=0;s<l;s++)d+=this.renderer.tablecell(this.parseInline(u[s].tokens),{header:!1,align:p.align[s]});f+=this.renderer.tablerow(d)}r+=this.renderer.table(c,f);continue}case"blockquote":{f=this.parse(p.tokens),r+=this.renderer.blockquote(f);continue}case"list":{for(m=p.ordered,g=p.start,x=p.loose,a=p.items.length,f="",i=0;i<a;i++)h=p.items[i],_=h.checked,y=h.task,v="",h.task&&(S=this.renderer.checkbox(_),x?h.tokens.length>0&&h.tokens[0].type==="paragraph"?(h.tokens[0].text=S+" "+h.tokens[0].text,h.tokens[0].tokens&&h.tokens[0].tokens.length>0&&h.tokens[0].tokens[0].type==="text"&&(h.tokens[0].tokens[0].text=S+" "+h.tokens[0].tokens[0].text)):h.tokens.unshift({type:"text",text:S}):v+=S),v+=this.parse(h.tokens,x),f+=this.renderer.listitem(v,y,_);r+=this.renderer.list(f,m,g);continue}case"html":{r+=this.renderer.html(p.text);continue}case"paragraph":{r+=this.renderer.paragraph(this.parseInline(p.tokens));continue}case"text":{for(f=p.tokens?this.parseInline(p.tokens):p.text;o+1<k&&e[o+1].type==="text";)p=e[++o],f+=`
`+(p.tokens?this.parseInline(p.tokens):p.text);r+=n?this.renderer.paragraph(f):f;continue}default:{const E='Token with "'+p.type+'" type was not found.';if(this.options.silent){console.error(E);return}else throw new Error(E)}}}return r}parseInline(e,n){n=n||this.renderer;let r="",o,i,s;const a=e.length;for(o=0;o<a;o++){if(i=e[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(s=this.options.extensions.renderers[i.type].call({parser:this},i),s!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type))){r+=s||"";continue}switch(i.type){case"escape":{r+=n.text(i.text);break}case"html":{r+=n.html(i.text);break}case"link":{r+=n.link(i.href,i.title,this.parseInline(i.tokens,n));break}case"image":{r+=n.image(i.href,i.title,i.text);break}case"strong":{r+=n.strong(this.parseInline(i.tokens,n));break}case"em":{r+=n.em(this.parseInline(i.tokens,n));break}case"codespan":{r+=n.codespan(i.text);break}case"br":{r+=n.br();break}case"del":{r+=n.del(this.parseInline(i.tokens,n));break}case"text":{r+=n.text(i.text);break}default:{const l='Token with "'+i.type+'" type was not found.';if(this.options.silent){console.error(l);return}else throw new Error(l)}}}return r}}class Vx{constructor(e){this.options=e||ou}preprocess(e){return e}postprocess(e){return e}}uT(Vx,"passThroughHooks",new Set(["preprocess","postprocess"]));function o_e(t,e,n){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,t){const o="<p>An error occurred:</p><pre>"+Jn(r.message+"",!0)+"</pre>";if(e)return Promise.resolve(o);if(n){n(null,o);return}return o}if(e)return Promise.reject(r);if(n){n(r);return}throw r}}function a8(t,e){return(n,r,o)=>{typeof r=="function"&&(o=r,r=null);const i={...r};r={...Ve.defaults,...i};const s=o_e(r.silent,r.async,o);if(typeof n>"u"||n===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(t_e(r),r.hooks&&(r.hooks.options=r),o){const a=r.highlight;let l;try{r.hooks&&(n=r.hooks.preprocess(n)),l=t(n,r)}catch(c){return s(c)}const u=function(c){let f;if(!c)try{r.walkTokens&&Ve.walkTokens(l,r.walkTokens),f=e(l,r),r.hooks&&(f=r.hooks.postprocess(f))}catch(p){c=p}return r.highlight=a,c?s(c):o(null,f)};if(!a||a.length<3||(delete r.highlight,!l.length))return u();let d=0;Ve.walkTokens(l,function(c){c.type==="code"&&(d++,setTimeout(()=>{a(c.text,c.lang,function(f,p){if(f)return u(f);p!=null&&p!==c.text&&(c.text=p,c.escaped=!0),d--,d===0&&u()})},0))}),d===0&&u();return}if(r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(n):n).then(a=>t(a,r)).then(a=>r.walkTokens?Promise.all(Ve.walkTokens(a,r.walkTokens)).then(()=>a):a).then(a=>e(a,r)).then(a=>r.hooks?r.hooks.postprocess(a):a).catch(s);try{r.hooks&&(n=r.hooks.preprocess(n));const a=t(n,r);r.walkTokens&&Ve.walkTokens(a,r.walkTokens);let l=e(a,r);return r.hooks&&(l=r.hooks.postprocess(l)),l}catch(a){return s(a)}}}function Ve(t,e,n){return a8(ml.lex,gl.parse)(t,e,n)}Ve.options=Ve.setOptions=function(t){return Ve.defaults={...Ve.defaults,...t},Vxe(Ve.defaults),Ve};Ve.getDefaults=t8;Ve.defaults=ou;Ve.use=function(...t){const e=Ve.defaults.extensions||{renderers:{},childTokens:{}};t.forEach(n=>{const r={...n};if(r.async=Ve.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if(o.renderer){const i=e.renderers[o.name];i?e.renderers[o.name]=function(...s){let a=o.renderer.apply(this,s);return a===!1&&(a=i.apply(this,s)),a}:e.renderers[o.name]=o.renderer}if(o.tokenizer){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");e[o.level]?e[o.level].unshift(o.tokenizer):e[o.level]=[o.tokenizer],o.start&&(o.level==="block"?e.startBlock?e.startBlock.push(o.start):e.startBlock=[o.start]:o.level==="inline"&&(e.startInline?e.startInline.push(o.start):e.startInline=[o.start]))}o.childTokens&&(e.childTokens[o.name]=o.childTokens)}),r.extensions=e),n.renderer){const o=Ve.defaults.renderer||new OR;for(const i in n.renderer){const s=o[i];o[i]=(...a)=>{let l=n.renderer[i].apply(o,a);return l===!1&&(l=s.apply(o,a)),l}}r.renderer=o}if(n.tokenizer){const o=Ve.defaults.tokenizer||new CR;for(const i in n.tokenizer){const s=o[i];o[i]=(...a)=>{let l=n.tokenizer[i].apply(o,a);return l===!1&&(l=s.apply(o,a)),l}}r.tokenizer=o}if(n.hooks){const o=Ve.defaults.hooks||new Vx;for(const i in n.hooks){const s=o[i];Vx.passThroughHooks.has(i)?o[i]=a=>{if(Ve.defaults.async)return Promise.resolve(n.hooks[i].call(o,a)).then(u=>s.call(o,u));const l=n.hooks[i].call(o,a);return s.call(o,l)}:o[i]=(...a)=>{let l=n.hooks[i].apply(o,a);return l===!1&&(l=s.apply(o,a)),l}}r.hooks=o}if(n.walkTokens){const o=Ve.defaults.walkTokens;r.walkTokens=function(i){let s=[];return s.push(n.walkTokens.call(this,i)),o&&(s=s.concat(o.call(this,i))),s}}Ve.setOptions(r)})};Ve.walkTokens=function(t,e){let n=[];for(const r of t)switch(n=n.concat(e.call(Ve,r)),r.type){case"table":{for(const o of r.header)n=n.concat(Ve.walkTokens(o.tokens,e));for(const o of r.rows)for(const i of o)n=n.concat(Ve.walkTokens(i.tokens,e));break}case"list":{n=n.concat(Ve.walkTokens(r.items,e));break}default:Ve.defaults.extensions&&Ve.defaults.extensions.childTokens&&Ve.defaults.extensions.childTokens[r.type]?Ve.defaults.extensions.childTokens[r.type].forEach(function(o){n=n.concat(Ve.walkTokens(r[o],e))}):r.tokens&&(n=n.concat(Ve.walkTokens(r.tokens,e)))}return n};Ve.parseInline=a8(ml.lexInline,gl.parseInline);Ve.Parser=gl;Ve.parser=gl.parse;Ve.Renderer=OR;Ve.TextRenderer=i8;Ve.Lexer=ml;Ve.lexer=ml.lex;Ve.Tokenizer=CR;Ve.Slugger=s8;Ve.Hooks=Vx;Ve.parse=Ve;Ve.options;Ve.setOptions;Ve.use;Ve.walkTokens;Ve.parseInline;gl.parse;ml.lex;var i_e=Object.create,PR=Object.defineProperty,s_e=Object.defineProperties,a_e=Object.getOwnPropertyDescriptor,l_e=Object.getOwnPropertyDescriptors,iL=Object.getOwnPropertySymbols,c_e=Object.prototype.hasOwnProperty,u_e=Object.prototype.propertyIsEnumerable,l8=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),rv=t=>{throw TypeError(t)},ck=(t,e,n)=>e in t?PR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sL=(t,e)=>{for(var n in e||(e={}))c_e.call(e,n)&&ck(t,n,e[n]);if(iL)for(var n of iL(e))u_e.call(e,n)&&ck(t,n,e[n]);return t},aL=(t,e)=>s_e(t,l_e(e)),lL=(t,e)=>PR(t,"name",{value:e,configurable:!0}),d_e=t=>{var e;return[,,,i_e((e=t==null?void 0:t[l8("metadata")])!=null?e:null)]},c8=["class","method","getter","setter","accessor","field","value","get","set"],ih=t=>t!==void 0&&typeof t!="function"?rv("Function expected"):t,f_e=(t,e,n,r,o)=>({kind:c8[t],name:e,metadata:r,addInitializer:i=>n._?rv("Already initialized"):o.push(ih(i||null))}),p_e=(t,e)=>ck(e,l8("metadata"),t[3]),u8=(t,e,n,r)=>{for(var o=0,i=t[e>>1],s=i&&i.length;o<s;o++)e&1?i[o].call(n):r=i[o].call(n,r);return r},bw=(t,e,n,r,o,i)=>{var s,a,l,u,d,c=e&7,f=!!(e&8),p=!!(e&16),m=c>3?t.length+1:c?f?1:2:0,g=c8[c+5],x=c>3&&(t[m-1]=[]),v=t[m]||(t[m]=[]),h=c&&(!p&&!f&&(o=o.prototype),c<5&&(c>3||!p)&&a_e(c<4?o:{get[n](){return cL(this,i)},set[n](y){return uL(this,i,y)}},n));c?p&&c<4&&lL(i,(c>2?"set ":c>1?"get ":"")+n):lL(o,n);for(var _=r.length-1;_>=0;_--)u=f_e(c,n,l={},t[3],v),c&&(u.static=f,u.private=p,d=u.access={has:p?y=>h_e(o,y):y=>n in y},c^3&&(d.get=p?y=>(c^1?cL:m_e)(y,o,c^4?i:h.get):y=>y[n]),c>2&&(d.set=p?(y,S)=>uL(y,o,S,c^4?i:h.set):(y,S)=>y[n]=S)),a=(0,r[_])(c?c<4?p?i:h[g]:c>4?void 0:{get:h.get,set:h.set}:o,u),l._=1,c^4||a===void 0?ih(a)&&(c>4?x.unshift(a):c?p?i=a:h[g]=a:o=a):typeof a!="object"||a===null?rv("Object expected"):(ih(s=a.get)&&(h.get=s),ih(s=a.set)&&(h.set=s),ih(s=a.init)&&x.unshift(s));return c||p_e(t,o),h&&PR(o,n,h),p?c^4?i:h:o},RR=(t,e,n)=>e.has(t)||rv("Cannot "+n),h_e=(t,e)=>Object(e)!==e?rv('Cannot use the "in" operator on this value'):t.has(e),cL=(t,e,n)=>(RR(t,e,"read from private field"),n?n.call(t):e.get(t)),uL=(t,e,n,r)=>(RR(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),m_e=(t,e,n)=>(RR(t,e,"access private method"),n),g_e=vle(Bx);function v_e(t){return x_e.turndown(t)}function i1(t){const e=t.parentNode;if(!Er(e))return!1;if(e.nodeName==="THEAD")return!0;if(e.nodeName!=="TABLE"&&!d8(e))return!1;const n=[...t.childNodes];return n.every(r=>r.nodeName==="TH")&&n.some(r=>!!r.textContent)}function Ux(t){return Er(t)&&t.matches("th[data-controller-cell]")}function y_e(t){const e=t.parentNode;return!Er(e)||e.nodeName!=="TABLE"&&!d8(e)?!1:[...t.childNodes].every(r=>Ux(r))}function d8(t){var e;if(t.nodeName!=="TBODY")return!1;const n=t.previousSibling;return n?Er(n)&&n.nodeName==="THEAD"&&!((e=n.textContent)!=null&&e.trim()):!0}function dL(t){const e=t.closest("table");if(!e)return!1;const{parentNode:n}=e;return n?!!n.closest("table"):!0}function fL(t,e){var n,r;const o=[];for(const a of(r=(n=e.parentNode)==null?void 0:n.childNodes)!=null?r:[])Ux(a)||o.push(a);const s=o.indexOf(e)===0?"| ":" ";return"".concat(s+t.trim()," |")}var x_e=new g_e({codeBlockStyle:"fenced",headingStyle:"atx"}).addRule("taskListItems",{filter:t=>t.nodeName==="LI"&&t.hasAttribute("data-task-list-item"),replacement:(t,e)=>{const n=e.hasAttribute("data-checked");return"- ".concat(n?"[x]":"[ ]"," ").concat(t.trimStart())}}).addRule("tableCell",{filter:["th","td"],replacement:(t,e)=>Ux(e)?"":fL(t,e)}).addRule("tableRow",{filter:"tr",replacement:(t,e)=>{var n;let r="";const o={left:":--",right:"--:",center:":-:"},i=[...e.childNodes].filter(s=>!Ux(s));if(i1(e))for(const s of i){if(!Er(s))continue;let a="---";const l=((n=s.getAttribute("align"))!=null?n:"").toLowerCase();l&&(a=o[l]||a),r+=fL(a,s)}return`
`.concat(t).concat(r?`
`.concat(r):"")}}).addRule("table",{filter:t=>{if(t.nodeName!=="TABLE"||dL(t))return!1;const e=[...t.rows].filter(n=>!y_e(n));return i1(e[0])},replacement:t=>(t=t.replace(`

`,`
`),`

`.concat(t,`

`))}).addRule("tableSection",{filter:["thead","tbody","tfoot"],replacement:function(t){return t}}).keep(t=>t.nodeName==="TABLE"&&!i1(t.rows[0])).keep(t=>t.nodeName==="TABLE"&&dL(t)).addRule("strikethrough",{filter:["del","s","strike"],replacement:function(t){return"~".concat(t,"~")}}).addRule("fencedCodeBlock",{filter:(t,e)=>!!(e.codeBlockStyle==="fenced"&&t.nodeName==="PRE"&&t.firstChild&&t.firstChild.nodeName==="CODE"),replacement:(t,e,n)=>{var r,o,i,s,a;Ke(Er(e.firstChild),{code:te.EXTENSION,message:"Invalid node `".concat((r=e.firstChild)==null?void 0:r.nodeName,"` encountered for codeblock when converting html to markdown.")});const u=(a=(s=(i=((o=e.firstChild.getAttribute("class"))!=null?o:"").match(/(?:lang|language)-(\S+)/))==null?void 0:i[1])!=null?s:e.firstChild.getAttribute("data-code-block-language"))!=null?a:"";return`

`.concat(n.fence).concat(u,`
`).concat(e.firstChild.textContent,`
`).concat(n.fence,`

`)}});Ve.use({renderer:{list(t,e,n){if(e){const o=n!==1?'start="'.concat(n,'"'):"";return"<ol ".concat(o,`>
`).concat(t,`</ol>
`)}const r=t.startsWith("<li data-task-list-item ")?"data-task-list":"";return"<ul ".concat(r,`>
`).concat(t,`</ul>
`)},listitem(t,e,n){if(!e)return"<li>".concat(t,`</li>
`);const r=n?"data-checked":"";return"<li data-task-list-item ".concat(r,">").concat(t,`</li>
`)}}});function __e(t,e){const n=Ve(t,{gfm:!0,smartLists:!0,xhtml:!0});return e?e(n):n}var f8,p8,h8,uk,m8,iu;m8=[kt({defaultOptions:{htmlToMarkdown:v_e,markdownToHtml:__e,htmlSanitizer:void 0,activeNodes:[tt.Code],copyAsMarkdown:!1},staticKeys:["htmlToMarkdown","markdownToHtml","htmlSanitizer"]})];var Wc=class extends(uk=Zt,h8=[Me()],p8=[un()],f8=[Me()],uk){constructor(){super(...arguments),u8(iu,5,this)}get name(){return"markdown"}onCreate(){this.store.setStringHandler("markdown",this.markdownToProsemirrorNode.bind(this))}createPlugin(){return{props:{clipboardTextSerializer:this.options.copyAsMarkdown?e=>{const n=document.createElement("div"),r=Gs.fromSchema(this.store.schema);return n.append(r.serializeFragment(e.content)),this.options.htmlToMarkdown(n.innerHTML)}:void 0}}}markdownToProsemirrorNode(t){return this.store.stringHandlers.html(aL(sL({},t),{content:this.options.markdownToHtml(t.content,this.options.htmlSanitizer)}))}insertMarkdown(t,e){return n=>{const{state:r}=n;let o=this.options.markdownToHtml(t,this.options.htmlSanitizer);o=!(e!=null&&e.alwaysWrapInBlock)&&o.startsWith("<p><")&&o.endsWith(`</p>
`)?o.slice(3,-5):"<div>".concat(o,"</div>");const i=this.store.stringHandlers.html({content:o,schema:r.schema,fragment:!0});return this.store.commands.insertNode.original(i,aL(sL({},e),{replaceEmptyParentBlock:!0}))(n)}}getMarkdown(t){return this.options.htmlToMarkdown(this.store.helpers.getHTML(t))}toggleBoldMarkdown(){return t=>!1}};iu=d_e(uk);bw(iu,1,"insertMarkdown",h8,Wc);bw(iu,1,"getMarkdown",p8,Wc);bw(iu,1,"toggleBoldMarkdown",f8,Wc);Wc=bw(iu,0,"MarkdownExtension",m8,Wc);u8(iu,1,Wc);var w_e=Object.create,TR=Object.defineProperty,b_e=Object.defineProperties,S_e=Object.getOwnPropertyDescriptor,E_e=Object.getOwnPropertyDescriptors,pL=Object.getOwnPropertySymbols,k_e=Object.prototype.hasOwnProperty,C_e=Object.prototype.propertyIsEnumerable,g8=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),ov=t=>{throw TypeError(t)},dk=(t,e,n)=>e in t?TR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,s1=(t,e)=>{for(var n in e||(e={}))k_e.call(e,n)&&dk(t,n,e[n]);if(pL)for(var n of pL(e))C_e.call(e,n)&&dk(t,n,e[n]);return t},O_e=(t,e)=>b_e(t,E_e(e)),hL=(t,e)=>TR(t,"name",{value:e,configurable:!0}),P_e=t=>{var e;return[,,,w_e((e=t==null?void 0:t[g8("metadata")])!=null?e:null)]},v8=["class","method","getter","setter","accessor","field","value","get","set"],sh=t=>t!==void 0&&typeof t!="function"?ov("Function expected"):t,R_e=(t,e,n,r,o)=>({kind:v8[t],name:e,metadata:r,addInitializer:i=>n._?ov("Already initialized"):o.push(sh(i||null))}),T_e=(t,e)=>dk(e,g8("metadata"),t[3]),y8=(t,e,n,r)=>{for(var o=0,i=t[e>>1],s=i&&i.length;o<s;o++)e&1?i[o].call(n):r=i[o].call(n,r);return r},Sw=(t,e,n,r,o,i)=>{var s,a,l,u,d,c=e&7,f=!!(e&8),p=!!(e&16),m=c>3?t.length+1:c?f?1:2:0,g=v8[c+5],x=c>3&&(t[m-1]=[]),v=t[m]||(t[m]=[]),h=c&&(!p&&!f&&(o=o.prototype),c<5&&(c>3||!p)&&S_e(c<4?o:{get[n](){return mL(this,i)},set[n](y){return gL(this,i,y)}},n));c?p&&c<4&&hL(i,(c>2?"set ":c>1?"get ":"")+n):hL(o,n);for(var _=r.length-1;_>=0;_--)u=R_e(c,n,l={},t[3],v),c&&(u.static=f,u.private=p,d=u.access={has:p?y=>M_e(o,y):y=>n in y},c^3&&(d.get=p?y=>(c^1?mL:N_e)(y,o,c^4?i:h.get):y=>y[n]),c>2&&(d.set=p?(y,S)=>gL(y,o,S,c^4?i:h.set):(y,S)=>y[n]=S)),a=(0,r[_])(c?c<4?p?i:h[g]:c>4?void 0:{get:h.get,set:h.set}:o,u),l._=1,c^4||a===void 0?sh(a)&&(c>4?x.unshift(a):c?p?i=a:h[g]=a:o=a):typeof a!="object"||a===null?ov("Object expected"):(sh(s=a.get)&&(h.get=s),sh(s=a.set)&&(h.set=s),sh(s=a.init)&&x.unshift(s));return c||T_e(t,o),h&&TR(o,n,h),p?c^4?i:h:o},MR=(t,e,n)=>e.has(t)||ov("Cannot "+n),M_e=(t,e)=>Object(e)!==e?ov('Cannot use the "in" operator on this value'):t.has(e),mL=(t,e,n)=>(MR(t,e,"read from private field"),n?n.call(t):e.get(t)),gL=(t,e,n,r)=>(MR(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),N_e=(t,e,n)=>(MR(t,e,"access private method"),n),D_e={icon:"paragraph",label:({t})=>t(mx.INSERT_LABEL),description:({t})=>t(mx.INSERT_DESCRIPTION)},A_e={icon:"paragraph",label:({t})=>t(mx.CONVERT_LABEL),description:({t})=>t(mx.CONVERT_DESCRIPTION)},x8,_8,w8,fk,b8,su;b8=[kt({defaultPriority:At.Medium})];var vl=class extends(fk=Bo,w8=[Me(A_e)],_8=[Me(D_e)],x8=[yr({shortcut:ne.Paragraph,command:"convertParagraph"})],fk){constructor(){super(...arguments),y8(su,5,this)}get name(){return"paragraph"}createTags(){return[tt.LastNodeCompatible,tt.TextBlock,tt.Block,tt.FormattingNode]}createNodeSpec(t,e){var n;return O_e(s1({content:"inline*",draggable:!1},e),{attrs:s1({},t.defaults()),parseDOM:[{tag:"p",getAttrs:r=>s1({},t.parse(r))},...(n=e.parseDOM)!=null?n:[]],toDOM:r=>["p",t.dom(r),0]})}convertParagraph(t={}){const{attrs:e,selection:n,preserveAttrs:r}=t;return this.store.commands.setBlockNodeType.original(this.type,e,n,r)}insertParagraph(t,e={}){const{selection:n,attrs:r}=e;return this.store.commands.insertNode.original(this.type,{content:t,selection:n,attrs:r})}shortcut(t){return this.convertParagraph()(t)}};su=P_e(fk);Sw(su,1,"convertParagraph",w8,vl);Sw(su,1,"insertParagraph",_8,vl);Sw(su,1,"shortcut",x8,vl);vl=Sw(su,0,"ParagraphExtension",b8,vl);y8(su,1,vl);var I_e=Object.create,NR=Object.defineProperty,L_e=Object.defineProperties,$_e=Object.getOwnPropertyDescriptor,z_e=Object.getOwnPropertyDescriptors,vL=Object.getOwnPropertySymbols,F_e=Object.prototype.hasOwnProperty,B_e=Object.prototype.propertyIsEnumerable,S8=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),iv=t=>{throw TypeError(t)},pk=(t,e,n)=>e in t?NR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,E8=(t,e)=>{for(var n in e||(e={}))F_e.call(e,n)&&pk(t,n,e[n]);if(vL)for(var n of vL(e))B_e.call(e,n)&&pk(t,n,e[n]);return t},k8=(t,e)=>L_e(t,z_e(e)),yL=(t,e)=>NR(t,"name",{value:e,configurable:!0}),j_e=t=>{var e;return[,,,I_e((e=t==null?void 0:t[S8("metadata")])!=null?e:null)]},C8=["class","method","getter","setter","accessor","field","value","get","set"],ah=t=>t!==void 0&&typeof t!="function"?iv("Function expected"):t,V_e=(t,e,n,r,o)=>({kind:C8[t],name:e,metadata:r,addInitializer:i=>n._?iv("Already initialized"):o.push(ah(i||null))}),U_e=(t,e)=>pk(e,S8("metadata"),t[3]),H_e=(t,e,n,r)=>{for(var o=0,i=t[e>>1],s=i&&i.length;o<s;o++)e&1?i[o].call(n):r=i[o].call(n,r);return r},W_e=(t,e,n,r,o,i)=>{var s,a,l,u,d,c=e&7,f=!!(e&8),p=!!(e&16),m=c>3?t.length+1:c?f?1:2:0,g=C8[c+5],x=c>3&&(t[m-1]=[]),v=t[m]||(t[m]=[]),h=c&&(!p&&!f&&(o=o.prototype),c<5&&(c>3||!p)&&$_e(c<4?o:{get[n](){return xL(this,i)},set[n](y){return _L(this,i,y)}},n));c?p&&c<4&&yL(i,(c>2?"set ":c>1?"get ":"")+n):yL(o,n);for(var _=r.length-1;_>=0;_--)u=V_e(c,n,l={},t[3],v),c&&(u.static=f,u.private=p,d=u.access={has:p?y=>K_e(o,y):y=>n in y},c^3&&(d.get=p?y=>(c^1?xL:q_e)(y,o,c^4?i:h.get):y=>y[n]),c>2&&(d.set=p?(y,S)=>_L(y,o,S,c^4?i:h.set):(y,S)=>y[n]=S)),a=(0,r[_])(c?c<4?p?i:h[g]:c>4?void 0:{get:h.get,set:h.set}:o,u),l._=1,c^4||a===void 0?ah(a)&&(c>4?x.unshift(a):c?p?i=a:h[g]=a:o=a):typeof a!="object"||a===null?iv("Object expected"):(ah(s=a.get)&&(h.get=s),ah(s=a.set)&&(h.set=s),ah(s=a.init)&&x.unshift(s));return c||U_e(t,o),h&&NR(o,n,h),p?c^4?i:h:o},DR=(t,e,n)=>e.has(t)||iv("Cannot "+n),K_e=(t,e)=>Object(e)!==e?iv('Cannot use the "in" operator on this value'):t.has(e),xL=(t,e,n)=>(DR(t,e,"read from private field"),n?n.call(t):e.get(t)),_L=(t,e,n,r)=>(DR(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),q_e=(t,e,n)=>(DR(t,e,"access private method"),n),O8,AR,P8;O8=[kt({defaultOptions:{emptyNodeClass:mge.IS_EMPTY,placeholder:""}})];var Hs=class extends(P8=Zt){get name(){return"placeholder"}createAttributes(){return{"aria-placeholder":this.options.placeholder}}createPlugin(){return{state:{init:(t,e)=>k8(E8({},this.options),{empty:xP(e.doc,{ignoreAttributes:!0})}),apply:(t,e,n,r)=>G_e({pluginState:e,tr:t,extension:this,state:r})},props:{decorations:t=>Z_e({state:t,extension:this})}}}onSetOptions(t){const{changes:e}=t;e.placeholder.changed&&this.store.phase>=Nr.EditorView&&this.store.updateAttributes()}};AR=j_e(P8);Hs=W_e(AR,0,"PlaceholderExtension",O8,Hs);H_e(AR,1,Hs);function G_e(t){const{pluginState:e,extension:n,tr:r,state:o}=t;return r.docChanged?k8(E8({},n.options),{empty:xP(o.doc)}):e}function Z_e(t){const{extension:e,state:n}=t,{empty:r}=e.pluginKey.getState(n),{emptyNodeClass:o,placeholder:i}=e.options;if(!r)return null;const s=[];return n.doc.descendants((a,l)=>{const u=qt.node(l,l+a.nodeSize,{class:o,"data-placeholder":i});s.push(u)}),Rt.create(n.doc,s)}var Q_e=Object.create,IR=Object.defineProperty,Y_e=Object.defineProperties,X_e=Object.getOwnPropertyDescriptor,J_e=Object.getOwnPropertyDescriptors,wL=Object.getOwnPropertySymbols,ewe=Object.prototype.hasOwnProperty,twe=Object.prototype.propertyIsEnumerable,R8=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),sv=t=>{throw TypeError(t)},hk=(t,e,n)=>e in t?IR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nwe=(t,e)=>{for(var n in e||(e={}))ewe.call(e,n)&&hk(t,n,e[n]);if(wL)for(var n of wL(e))twe.call(e,n)&&hk(t,n,e[n]);return t},rwe=(t,e)=>Y_e(t,J_e(e)),bL=(t,e)=>IR(t,"name",{value:e,configurable:!0}),owe=t=>{var e;return[,,,Q_e((e=t==null?void 0:t[R8("metadata")])!=null?e:null)]},T8=["class","method","getter","setter","accessor","field","value","get","set"],lh=t=>t!==void 0&&typeof t!="function"?sv("Function expected"):t,iwe=(t,e,n,r,o)=>({kind:T8[t],name:e,metadata:r,addInitializer:i=>n._?sv("Already initialized"):o.push(lh(i||null))}),swe=(t,e)=>hk(e,R8("metadata"),t[3]),M8=(t,e,n,r)=>{for(var o=0,i=t[e>>1],s=i&&i.length;o<s;o++)e&1?i[o].call(n):r=i[o].call(n,r);return r},LR=(t,e,n,r,o,i)=>{var s,a,l,u,d,c=e&7,f=!!(e&8),p=!!(e&16),m=c>3?t.length+1:c?f?1:2:0,g=T8[c+5],x=c>3&&(t[m-1]=[]),v=t[m]||(t[m]=[]),h=c&&(!p&&!f&&(o=o.prototype),c<5&&(c>3||!p)&&X_e(c<4?o:{get[n](){return SL(this,i)},set[n](y){return EL(this,i,y)}},n));c?p&&c<4&&bL(i,(c>2?"set ":c>1?"get ":"")+n):bL(o,n);for(var _=r.length-1;_>=0;_--)u=iwe(c,n,l={},t[3],v),c&&(u.static=f,u.private=p,d=u.access={has:p?y=>awe(o,y):y=>n in y},c^3&&(d.get=p?y=>(c^1?SL:lwe)(y,o,c^4?i:h.get):y=>y[n]),c>2&&(d.set=p?(y,S)=>EL(y,o,S,c^4?i:h.set):(y,S)=>y[n]=S)),a=(0,r[_])(c?c<4?p?i:h[g]:c>4?void 0:{get:h.get,set:h.set}:o,u),l._=1,c^4||a===void 0?lh(a)&&(c>4?x.unshift(a):c?p?i=a:h[g]=a:o=a):typeof a!="object"||a===null?sv("Object expected"):(lh(s=a.get)&&(h.get=s),lh(s=a.set)&&(h.set=s),lh(s=a.init)&&x.unshift(s));return c||swe(t,o),h&&IR(o,n,h),p?c^4?i:h:o},$R=(t,e,n)=>e.has(t)||sv("Cannot "+n),awe=(t,e)=>Object(e)!==e?sv('Cannot use the "in" operator on this value'):t.has(e),SL=(t,e,n)=>($R(t,e,"read from private field"),n?n.call(t):e.get(t)),EL=(t,e,n,r)=>($R(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),lwe=(t,e,n)=>($R(t,e,"access private method"),n),cwe={icon:"strikethrough",label:({t})=>t(VD.LABEL),description:({t})=>t(VD.DESCRIPTION)},N8,D8,mk,A8,jf;A8=[kt({})];var df=class extends(mk=tu,D8=[Me(cwe)],N8=[yr({shortcut:ne.Strike,command:"toggleStrike"})],mk){constructor(){super(...arguments),M8(jf,5,this)}get name(){return"strike"}createTags(){return[tt.FontStyle,tt.FormattingMark]}createMarkSpec(t,e){var n;return rwe(nwe({},e),{attrs:t.defaults(),parseDOM:[{tag:"s",getAttrs:t.parse},{tag:"del",getAttrs:t.parse},{tag:"strike",getAttrs:t.parse},{style:"text-decoration",getAttrs:r=>r==="line-through"?{}:!1},...(n=e.parseDOM)!=null?n:[]],toDOM:r=>["s",t.dom(r),0]})}toggleStrike(){return ul({type:this.type})}shortcut(t){return this.toggleStrike()(t)}createInputRules(){return[Fm({regexp:/~([^~]+)~$/,type:this.type,ignoreWhitespace:!0})]}createPasteRules(){return[{regexp:/~([^~]+)~/g,type:"mark",markType:this.type}]}};jf=owe(mk);LR(jf,1,"toggleStrike",D8,df);LR(jf,1,"shortcut",N8,df);df=LR(jf,0,"StrikeExtension",A8,df);M8(jf,1,df);var uwe=Object.create,zR=Object.defineProperty,dwe=Object.getOwnPropertyDescriptor,I8=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),av=t=>{throw TypeError(t)},fwe=(t,e,n)=>e in t?zR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kL=(t,e)=>zR(t,"name",{value:e,configurable:!0}),pwe=t=>{var e;return[,,,uwe((e=t==null?void 0:t[I8("metadata")])!=null?e:null)]},L8=["class","method","getter","setter","accessor","field","value","get","set"],ch=t=>t!==void 0&&typeof t!="function"?av("Function expected"):t,hwe=(t,e,n,r,o)=>({kind:L8[t],name:e,metadata:r,addInitializer:i=>n._?av("Already initialized"):o.push(ch(i||null))}),mwe=(t,e)=>fwe(e,I8("metadata"),t[3]),gwe=(t,e,n,r)=>{for(var o=0,i=t[e>>1],s=i&&i.length;o<s;o++)e&1?i[o].call(n):r=i[o].call(n,r);return r},vwe=(t,e,n,r,o,i)=>{var s,a,l,u,d,c=e&7,f=!!(e&8),p=!!(e&16),m=c>3?t.length+1:c?f?1:2:0,g=L8[c+5],x=c>3&&(t[m-1]=[]),v=t[m]||(t[m]=[]),h=c&&(!p&&!f&&(o=o.prototype),c<5&&(c>3||!p)&&dwe(c<4?o:{get[n](){return CL(this,i)},set[n](y){return OL(this,i,y)}},n));c?p&&c<4&&kL(i,(c>2?"set ":c>1?"get ":"")+n):kL(o,n);for(var _=r.length-1;_>=0;_--)u=hwe(c,n,l={},t[3],v),c&&(u.static=f,u.private=p,d=u.access={has:p?y=>ywe(o,y):y=>n in y},c^3&&(d.get=p?y=>(c^1?CL:xwe)(y,o,c^4?i:h.get):y=>y[n]),c>2&&(d.set=p?(y,S)=>OL(y,o,S,c^4?i:h.set):(y,S)=>y[n]=S)),a=(0,r[_])(c?c<4?p?i:h[g]:c>4?void 0:{get:h.get,set:h.set}:o,u),l._=1,c^4||a===void 0?ch(a)&&(c>4?x.unshift(a):c?p?i=a:h[g]=a:o=a):typeof a!="object"||a===null?av("Object expected"):(ch(s=a.get)&&(h.get=s),ch(s=a.set)&&(h.set=s),ch(s=a.init)&&x.unshift(s));return c||mwe(t,o),h&&zR(o,n,h),p?c^4?i:h:o},FR=(t,e,n)=>e.has(t)||av("Cannot "+n),ywe=(t,e)=>Object(e)!==e?av('Cannot use the "in" operator on this value'):t.has(e),CL=(t,e,n)=>(FR(t,e,"read from private field"),n?n.call(t):e.get(t)),OL=(t,e,n,r)=>(FR(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),xwe=(t,e,n)=>(FR(t,e,"access private method"),n),$8,BR,z8;$8=[kt({disableExtraAttributes:!0,defaultPriority:At.Medium})];var Hx=class extends(z8=Bo){get name(){return"text"}createTags(){return[tt.InlineNode]}createNodeSpec(){return{}}};BR=pwe(z8);Hx=vwe(BR,0,"TextExtension",$8,Hx);gwe(BR,1,Hx);var _we=Object.create,jR=Object.defineProperty,wwe=Object.defineProperties,bwe=Object.getOwnPropertyDescriptor,Swe=Object.getOwnPropertyDescriptors,PL=Object.getOwnPropertySymbols,Ewe=Object.prototype.hasOwnProperty,kwe=Object.prototype.propertyIsEnumerable,F8=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),lv=t=>{throw TypeError(t)},gk=(t,e,n)=>e in t?jR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Cwe=(t,e)=>{for(var n in e||(e={}))Ewe.call(e,n)&&gk(t,n,e[n]);if(PL)for(var n of PL(e))kwe.call(e,n)&&gk(t,n,e[n]);return t},Owe=(t,e)=>wwe(t,Swe(e)),RL=(t,e)=>jR(t,"name",{value:e,configurable:!0}),Pwe=t=>{var e;return[,,,_we((e=t==null?void 0:t[F8("metadata")])!=null?e:null)]},B8=["class","method","getter","setter","accessor","field","value","get","set"],uh=t=>t!==void 0&&typeof t!="function"?lv("Function expected"):t,Rwe=(t,e,n,r,o)=>({kind:B8[t],name:e,metadata:r,addInitializer:i=>n._?lv("Already initialized"):o.push(uh(i||null))}),Twe=(t,e)=>gk(e,F8("metadata"),t[3]),j8=(t,e,n,r)=>{for(var o=0,i=t[e>>1],s=i&&i.length;o<s;o++)e&1?i[o].call(n):r=i[o].call(n,r);return r},VR=(t,e,n,r,o,i)=>{var s,a,l,u,d,c=e&7,f=!!(e&8),p=!!(e&16),m=c>3?t.length+1:c?f?1:2:0,g=B8[c+5],x=c>3&&(t[m-1]=[]),v=t[m]||(t[m]=[]),h=c&&(!p&&!f&&(o=o.prototype),c<5&&(c>3||!p)&&bwe(c<4?o:{get[n](){return TL(this,i)},set[n](y){return ML(this,i,y)}},n));c?p&&c<4&&RL(i,(c>2?"set ":c>1?"get ":"")+n):RL(o,n);for(var _=r.length-1;_>=0;_--)u=Rwe(c,n,l={},t[3],v),c&&(u.static=f,u.private=p,d=u.access={has:p?y=>Mwe(o,y):y=>n in y},c^3&&(d.get=p?y=>(c^1?TL:Nwe)(y,o,c^4?i:h.get):y=>y[n]),c>2&&(d.set=p?(y,S)=>ML(y,o,S,c^4?i:h.set):(y,S)=>y[n]=S)),a=(0,r[_])(c?c<4?p?i:h[g]:c>4?void 0:{get:h.get,set:h.set}:o,u),l._=1,c^4||a===void 0?uh(a)&&(c>4?x.unshift(a):c?p?i=a:h[g]=a:o=a):typeof a!="object"||a===null?lv("Object expected"):(uh(s=a.get)&&(h.get=s),uh(s=a.set)&&(h.set=s),uh(s=a.init)&&x.unshift(s));return c||Twe(t,o),h&&jR(o,n,h),p?c^4?i:h:o},UR=(t,e,n)=>e.has(t)||lv("Cannot "+n),Mwe=(t,e)=>Object(e)!==e?lv('Cannot use the "in" operator on this value'):t.has(e),TL=(t,e,n)=>(UR(t,e,"read from private field"),n?n.call(t):e.get(t)),ML=(t,e,n,r)=>(UR(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Nwe=(t,e,n)=>(UR(t,e,"access private method"),n),Dwe={icon:"underline",label:({t})=>t(UD.LABEL),description:({t})=>t(UD.DESCRIPTION)},V8,U8,vk,H8,Vf;H8=[kt({})];var ff=class extends(vk=tu,U8=[Me(Dwe)],V8=[yr({shortcut:ne.Underline,command:"toggleUnderline"})],vk){constructor(){super(...arguments),j8(Vf,5,this)}get name(){return"underline"}createTags(){return[tt.FontStyle,tt.FormattingMark]}createMarkSpec(t,e){var n;return Owe(Cwe({},e),{attrs:t.defaults(),parseDOM:[{tag:"u",getAttrs:t.parse},{style:"text-decoration",getAttrs:r=>r==="underline"?{}:!1},...(n=e.parseDOM)!=null?n:[]],toDOM:r=>["u",t.dom(r),0]})}toggleUnderline(t){return ul({type:this.type,selection:t})}shortcut(t){return this.toggleUnderline()(t)}};Vf=Pwe(vk);VR(Vf,1,"toggleUnderline",U8,ff);VR(Vf,1,"shortcut",V8,ff);ff=VR(Vf,0,"UnderlineExtension",H8,ff);j8(Vf,1,ff);var Awe=Object.defineProperty,Iwe=Object.defineProperties,Lwe=Object.getOwnPropertyDescriptors,NL=Object.getOwnPropertySymbols,$we=Object.prototype.hasOwnProperty,zwe=Object.prototype.propertyIsEnumerable,DL=(t,e,n)=>e in t?Awe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ih=(t,e)=>{for(var n in e||(e={}))$we.call(e,n)&&DL(t,n,e[n]);if(NL)for(var n of NL(e))zwe.call(e,n)&&DL(t,n,e[n]);return t},Fwe=(t,e)=>Iwe(t,Lwe(e)),Bwe=Fwe(Ih(Ih(Ih({},Vc.defaultOptions),vl.defaultOptions),Si.defaultOptions),{excludeExtensions:[]});function jwe(t={}){t=Ih(Ih({},Bwe),t);const{content:e,depth:n,getDispatch:r,getState:o,newGroupDelay:i,excludeExtensions:s}=t,a={};for(const u of s!=null?s:[])a[u]=!0;const l=[];if(!a.history){const u=new Si({depth:n,getDispatch:r,getState:o,newGroupDelay:i});l.push(u)}return a.doc||l.push(new Vc({content:e})),a.text||l.push(new Hx),a.paragraph||l.push(new vl),a.positioner||l.push(new jc),a.gapCursor||l.push(new Lx),a.events||l.push(new jm),l}var Vwe=Object.create,HR=Object.defineProperty,Uwe=Object.getOwnPropertyDescriptor,AL=Object.getOwnPropertySymbols,Hwe=Object.prototype.hasOwnProperty,Wwe=Object.prototype.propertyIsEnumerable,W8=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),Uf=t=>{throw TypeError(t)},Wx=(t,e,n)=>e in t?HR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Kx=(t,e)=>{for(var n in e||(e={}))Hwe.call(e,n)&&Wx(t,n,e[n]);if(AL)for(var n of AL(e))Wwe.call(e,n)&&Wx(t,n,e[n]);return t},IL=(t,e)=>HR(t,"name",{value:e,configurable:!0}),Kwe=t=>{var e;return[,,,Vwe((e=t==null?void 0:t[W8("metadata")])!=null?e:null)]},K8=["class","method","getter","setter","accessor","field","value","get","set"],dh=t=>t!==void 0&&typeof t!="function"?Uf("Function expected"):t,qwe=(t,e,n,r,o)=>({kind:K8[t],name:e,metadata:r,addInitializer:i=>n._?Uf("Already initialized"):o.push(dh(i||null))}),Gwe=(t,e)=>Wx(e,W8("metadata"),t[3]),Zwe=(t,e,n,r)=>{for(var o=0,i=t[e>>1],s=i&&i.length;o<s;o++)e&1?i[o].call(n):r=i[o].call(n,r);return r},Qwe=(t,e,n,r,o,i)=>{var s,a,l,u,d,c=e&7,f=!!(e&8),p=!!(e&16),m=c>3?t.length+1:c?f?1:2:0,g=K8[c+5],x=c>3&&(t[m-1]=[]),v=t[m]||(t[m]=[]),h=c&&(!p&&!f&&(o=o.prototype),c<5&&(c>3||!p)&&Uwe(c<4?o:{get[n](){return De(this,i)},set[n](y){return ur(this,i,y)}},n));c?p&&c<4&&IL(i,(c>2?"set ":c>1?"get ":"")+n):IL(o,n);for(var _=r.length-1;_>=0;_--)u=qwe(c,n,l={},t[3],v),c&&(u.static=f,u.private=p,d=u.access={has:p?y=>Ywe(o,y):y=>n in y},c^3&&(d.get=p?y=>(c^1?De:Xwe)(y,o,c^4?i:h.get):y=>y[n]),c>2&&(d.set=p?(y,S)=>ur(y,o,S,c^4?i:h.set):(y,S)=>y[n]=S)),a=(0,r[_])(c?c<4?p?i:h[g]:c>4?void 0:{get:h.get,set:h.set}:o,u),l._=1,c^4||a===void 0?dh(a)&&(c>4?x.unshift(a):c?p?i=a:h[g]=a:o=a):typeof a!="object"||a===null?Uf("Object expected"):(dh(s=a.get)&&(h.get=s),dh(s=a.set)&&(h.set=s),dh(s=a.init)&&x.unshift(s));return c||Gwe(t,o),h&&HR(o,n,h),p?c^4?i:h:o},vd=(t,e,n)=>Wx(t,typeof e!="symbol"?e+"":e,n),WR=(t,e,n)=>e.has(t)||Uf("Cannot "+n),Ywe=(t,e)=>Object(e)!==e?Uf('Cannot use the "in" operator on this value'):t.has(e),De=(t,e,n)=>(WR(t,e,"read from private field"),n?n.call(t):e.get(t)),Yr=(t,e,n)=>e.has(t)?Uf("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ur=(t,e,n,r)=>(WR(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Xwe=(t,e,n)=>(WR(t,e,"access private method"),n),fh,Jwe=class{constructor(){vd(this,"portals",new Map),Yr(this,fh,gw()),vd(this,"on",t=>De(this,fh).on("update",t)),vd(this,"once",t=>{const e=De(this,fh).on("update",n=>{e(),t(n)});return e})}update(){De(this,fh).emit("update",this.portals)}render({Component:t,container:e}){var n;const r=this.portals.get(e);this.portals.set(e,{Component:t,key:(n=r==null?void 0:r.key)!=null?n:ax()}),this.update()}forceUpdate(){for(const[t,{Component:e}]of this.portals)this.portals.set(t,{Component:e,key:ax()})}remove(t){this.portals.delete(t),this.update()}};fh=new WeakMap;var ebe=t=>{const{portals:e}=t;return w(ho,{children:e.map(([n,{Component:r,key:o}])=>zo.exports.createPortal(w(r,{}),n,o))})};function tbe(t){const[e,n]=b.exports.useState(()=>Array.from(t.portals.entries()));return b.exports.useEffect(()=>t.on(r=>{n(Array.from(r.entries()))}),[t]),b.exports.useMemo(()=>e,[e])}var Qt,ph,Bl,hh,Ky,mh,Nu,gh,qy,xs,cr,yk,nbe=class q8{constructor({getPosition:e,node:n,portalContainer:r,view:o,ReactComponent:i,options:s}){Yr(this,Qt),Yr(this,ph,[]),Yr(this,Bl),Yr(this,hh),Yr(this,Ky),Yr(this,mh),Yr(this,Nu),Yr(this,gh,!1),Yr(this,qy),Yr(this,xs),Yr(this,cr),Yr(this,yk,d=>{!d||(Ke(De(this,xs),{code:te.REACT_NODE_VIEW,message:"You have applied a ref to a node view provided for '".concat(De(this,Qt).type.name,"' which doesn't support content.")}),d.append(De(this,xs)))}),vd(this,"Component",()=>{const d=De(this,Ky);return Ke(d,{code:te.REACT_NODE_VIEW,message:"The custom react node view provided for ".concat(De(this,Qt).type.name," doesn't have a valid ReactComponent")}),$e.createElement(d,{updateAttributes:this.updateAttributes,selected:this.selected,view:De(this,Bl),getPosition:De(this,mh),node:De(this,Qt),forwardRef:De(this,yk),decorations:De(this,ph)})}),vd(this,"updateAttributes",d=>{if(!De(this,Bl).editable)return;const c=De(this,mh).call(this);if(c==null)return;const f=De(this,Bl).state.tr.setNodeMarkup(c,void 0,Kx(Kx({},De(this,Qt).attrs),d));De(this,Bl).dispatch(f)});var a;Ke(Gt(e),{message:"You are attempting to use a node view for a mark type. This is not supported yet. Please check your configuration."}),ur(this,Qt,n),ur(this,Bl,o),ur(this,hh,r),ur(this,Ky,i),ur(this,mh,e),ur(this,Nu,s),ur(this,cr,this.createDom());const{contentDOM:l,wrapper:u}=(a=this.createContentDom())!=null?a:{};ur(this,qy,l!=null?l:void 0),ur(this,xs,u),De(this,xs)&&De(this,cr).append(De(this,xs)),this.setDomAttributes(De(this,Qt),De(this,cr)),this.Component.displayName=kV("".concat(De(this,Qt).type.name,"NodeView")),this.renderComponent()}static create(e){const{portalContainer:n,ReactComponent:r,options:o}=e;return(i,s,a)=>new q8({options:o,node:i,view:s,getPosition:a,portalContainer:n,ReactComponent:r})}get selected(){return De(this,gh)}get contentDOM(){return De(this,qy)}get dom(){return De(this,cr)}renderComponent(){De(this,hh).render({Component:this.Component,container:De(this,cr)})}createDom(){const{defaultBlockNode:e,defaultInlineNode:n}=De(this,Nu),r=De(this,Qt).isInline?document.createElement(n):document.createElement(e);return r.classList.add("".concat(gD(De(this,Qt).type.name),"-node-view-wrapper")),r}createContentDom(){var e,n;if(De(this,Qt).isLeaf)return;const r=(n=(e=De(this,Qt).type.spec).toDOM)==null?void 0:n.call(e,De(this,Qt));if(!r)return;const{contentDOM:o,dom:i}=Gs.renderSpec(document,r);let s;if(!!Er(i))return s=i,i===o&&(s=document.createElement("span"),s.classList.add("".concat(gD(De(this,Qt).type.name),"-node-view-content-wrapper")),s.append(o)),Er(o),{wrapper:s,contentDOM:o}}update(e,n){return gP({types:De(this,Qt).type,node:e})?(De(this,Qt)===e&&De(this,ph)===n||(De(this,Qt).sameMarkup(e)||this.setDomAttributes(e,De(this,cr)),ur(this,Qt,e),ur(this,ph,n),this.renderComponent()),!0):!1}setDomAttributes(e,n){const{toDOM:r}=De(this,Qt).type.spec;let o=e.attrs;if(r){const i=r(e);if(Ye(i)||rbe(i))return;Jc(i[1])&&(o=i[1])}for(const[i,s]of On(o))n.setAttribute(i,s)}selectNode(){ur(this,gh,!0),De(this,cr)&&De(this,cr).classList.add(fD),this.renderComponent()}deselectNode(){ur(this,gh,!1),De(this,cr)&&De(this,cr).classList.remove(fD),this.renderComponent()}destroy(){De(this,hh).remove(De(this,cr))}ignoreMutation(e){return e.type==="selection"?!De(this,Qt).type.spec.selectable:De(this,xs)?!De(this,xs).contains(e.target):!0}stopEvent(e){var n;if(!De(this,cr))return!1;if(Gt(De(this,Nu).stopEvent))return De(this,Nu).stopEvent({event:e});const r=e.target;if(!(De(this,cr).contains(r)&&!((n=this.contentDOM)!=null&&n.contains(r))))return!1;const i=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!i)return!0;const a=!!De(this,Qt).type.spec.draggable,l=qe.isSelectable(De(this,Qt)),u=e.type==="copy",d=e.type==="paste",c=e.type==="cut",f=e.type==="mousedown",p=e.type.startsWith("drag");return!a&&l&&p&&e.preventDefault(),!(p||i||u||d||c||f&&l)}};Qt=new WeakMap;ph=new WeakMap;Bl=new WeakMap;hh=new WeakMap;Ky=new WeakMap;mh=new WeakMap;Nu=new WeakMap;gh=new WeakMap;qy=new WeakMap;xs=new WeakMap;cr=new WeakMap;yk=new WeakMap;var LL=nbe;function rbe(t){return CE(t)||Jc(t)&&CE(t.dom)}var G8,KR,Z8;G8=[kt({defaultOptions:{defaultBlockNode:"div",defaultInlineNode:"span",defaultContentNode:"span",defaultEnvironment:"both",nodeViewComponents:{},stopEvent:null},staticKeys:["defaultBlockNode","defaultInlineNode","defaultContentNode","defaultEnvironment"]})];var pf=class extends(Z8=Zt){constructor(){super(...arguments),vd(this,"portalContainer",new Jwe)}get name(){return"reactComponent"}onCreate(){this.store.setStoreKey("portalContainer",this.portalContainer)}createNodeViews(){var t;const e=ze(),n=(t=this.store.managerSettings.nodeViewComponents)!=null?t:{};for(const o of this.store.extensions)!o.ReactComponent||!$g(o)||o.reactComponentEnvironment==="ssr"||(e[o.name]=LL.create({options:this.options,ReactComponent:o.ReactComponent,portalContainer:this.portalContainer}));const r=On(Kx(Kx({},this.options.nodeViewComponents),n));for(const[o,i]of r)e[o]=LL.create({options:this.options,ReactComponent:i,portalContainer:this.portalContainer});return e}};KR=Kwe(Z8);pf=Qwe(KR,0,"ReactComponentExtension",G8,pf);Zwe(KR,1,pf);var obe=Object.create,qR=Object.defineProperty,ibe=Object.getOwnPropertyDescriptor,$L=Object.getOwnPropertySymbols,sbe=Object.prototype.hasOwnProperty,abe=Object.prototype.propertyIsEnumerable,Q8=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),cv=t=>{throw TypeError(t)},xk=(t,e,n)=>e in t?qR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zL=(t,e)=>{for(var n in e||(e={}))sbe.call(e,n)&&xk(t,n,e[n]);if($L)for(var n of $L(e))abe.call(e,n)&&xk(t,n,e[n]);return t},FL=(t,e)=>qR(t,"name",{value:e,configurable:!0}),lbe=t=>{var e;return[,,,obe((e=t==null?void 0:t[Q8("metadata")])!=null?e:null)]},Y8=["class","method","getter","setter","accessor","field","value","get","set"],vh=t=>t!==void 0&&typeof t!="function"?cv("Function expected"):t,cbe=(t,e,n,r,o)=>({kind:Y8[t],name:e,metadata:r,addInitializer:i=>n._?cv("Already initialized"):o.push(vh(i||null))}),ube=(t,e)=>xk(e,Q8("metadata"),t[3]),dbe=(t,e,n,r)=>{for(var o=0,i=t[e>>1],s=i&&i.length;o<s;o++)e&1?i[o].call(n):r=i[o].call(n,r);return r},fbe=(t,e,n,r,o,i)=>{var s,a,l,u,d,c=e&7,f=!!(e&8),p=!!(e&16),m=c>3?t.length+1:c?f?1:2:0,g=Y8[c+5],x=c>3&&(t[m-1]=[]),v=t[m]||(t[m]=[]),h=c&&(!p&&!f&&(o=o.prototype),c<5&&(c>3||!p)&&ibe(c<4?o:{get[n](){return BL(this,i)},set[n](y){return jL(this,i,y)}},n));c?p&&c<4&&FL(i,(c>2?"set ":c>1?"get ":"")+n):FL(o,n);for(var _=r.length-1;_>=0;_--)u=cbe(c,n,l={},t[3],v),c&&(u.static=f,u.private=p,d=u.access={has:p?y=>pbe(o,y):y=>n in y},c^3&&(d.get=p?y=>(c^1?BL:hbe)(y,o,c^4?i:h.get):y=>y[n]),c>2&&(d.set=p?(y,S)=>jL(y,o,S,c^4?i:h.set):(y,S)=>y[n]=S)),a=(0,r[_])(c?c<4?p?i:h[g]:c>4?void 0:{get:h.get,set:h.set}:o,u),l._=1,c^4||a===void 0?vh(a)&&(c>4?x.unshift(a):c?p?i=a:h[g]=a:o=a):typeof a!="object"||a===null?cv("Object expected"):(vh(s=a.get)&&(h.get=s),vh(s=a.set)&&(h.set=s),vh(s=a.init)&&x.unshift(s));return c||ube(t,o),h&&qR(o,n,h),p?c^4?i:h:o},GR=(t,e,n)=>e.has(t)||cv("Cannot "+n),pbe=(t,e)=>Object(e)!==e?cv('Cannot use the "in" operator on this value'):t.has(e),BL=(t,e,n)=>(GR(t,e,"read from private field"),n?n.call(t):e.get(t)),jL=(t,e,n,r)=>(GR(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),hbe=(t,e,n)=>(GR(t,e,"access private method"),n),mbe=zL(zL({},Hs.defaultOptions),pf.defaultOptions),gbe=[...Hs.staticKeys,...pf.staticKeys],X8,ZR,J8;X8=[kt({defaultOptions:mbe,staticKeys:gbe})];var hf=class extends(J8=Zt){get name(){return"react"}onSetOptions(t){const{pickChanged:e}=t;this.getExtension(Hs).setOptions(e(["placeholder"]))}createExtensions(){const{emptyNodeClass:t,placeholder:e,defaultBlockNode:n,defaultContentNode:r,defaultEnvironment:o,defaultInlineNode:i,nodeViewComponents:s}=this.options;return[new Hs({emptyNodeClass:t,placeholder:e,priority:At.Low}),new pf({defaultBlockNode:n,defaultContentNode:r,defaultEnvironment:o,defaultInlineNode:i,nodeViewComponents:s})]}};ZR=lbe(J8);hf=fbe(ZR,0,"ReactExtension",X8,hf);dbe(ZR,1,hf);var e9={};Object.defineProperty(e9,"__esModule",{value:!0});function vbe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===2)return UL(t[0],t[1])||null;var n=t.slice(1).reduce(function(r,o){return UL(r,o)},t[0]);return n||null}var ji=e9.default=vbe,VL=new WeakMap;function UL(t,e){if(t&&e){var n=VL.get(t)||new WeakMap;VL.set(t,n);var r=n.get(e)||function(o){HL(t,o),HL(e,o)};return n.set(e,r),r}return t||e}function HL(t,e){typeof t=="function"?t(e):t.current=e}var ybe=Object.defineProperty,xbe=Object.defineProperties,_be=Object.getOwnPropertyDescriptors,qx=Object.getOwnPropertySymbols,t9=Object.prototype.hasOwnProperty,n9=Object.prototype.propertyIsEnumerable,r9=t=>{throw TypeError(t)},_k=(t,e,n)=>e in t?ybe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gy=(t,e)=>{for(var n in e||(e={}))t9.call(e,n)&&_k(t,n,e[n]);if(qx)for(var n of qx(e))n9.call(e,n)&&_k(t,n,e[n]);return t},a1=(t,e)=>xbe(t,_be(e)),Hm=(t,e)=>{var n={};for(var r in t)t9.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&qx)for(var r of qx(t))e.indexOf(r)<0&&n9.call(t,r)&&(n[r]=t[r]);return n},uy=(t,e,n)=>_k(t,typeof e!="symbol"?e+"":e,n),o9=(t,e,n)=>e.has(t)||r9("Cannot "+n),l1=(t,e,n)=>(o9(t,e,"read from private field"),n?n.call(t):e.get(t)),wbe=(t,e,n)=>e.has(t)?r9("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),bbe=(t,e,n,r)=>(o9(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),i9=t=>t.message,Sbe=b.exports.createContext(i9),Ebe=({i18nFormat:t=i9,locale:e="en",supportedLocales:n,children:r})=>{const o=b.exports.useMemo(()=>n!=null?n:[e],[n,e]),i=b.exports.useCallback((s,a)=>t(s,a,e,o),[t,e,o]);return w(Sbe.Provider,{value:i,children:r})};function kbe(){const[,t]=b.exports.useState(ze());return b.exports.useCallback(()=>{t(ze())},[])}var s9=b.exports.createContext(null);function Cbe(t){const e=b.exports.useContext(s9),n=b.exports.useRef(kbe());Ke(e,{code:te.REACT_PROVIDER_CONTEXT});const{addHandler:r}=e;return b.exports.useEffect(()=>{let o=t;if(!!o){if(Jc(o)){const{autoUpdate:i}=o;o=i?()=>n.current():void 0}if(!!Gt(o))return r("updated",o)}},[r,t]),e}function WL(t,e={}){const n=e,{core:r,react:o}=n,i=Hm(n,["core","react"]);return Khe(t)?t:Whe.create(()=>[...DV(t),new hf(o),...jwe(r)],i)}function Obe(t,e={}){const n=b.exports.useRef(t),r=b.exports.useRef(e),[o,i]=b.exports.useState(()=>WL(t,e));return n.current=t,r.current=e,b.exports.useEffect(()=>o.addHandler("destroy",()=>{i(()=>WL(n.current,r.current))}),[o]),o}var Pbe=typeof ji=="object"&&ji.__esModule&&ji.default?ji.default:ji,Du,Rbe=class extends Fhe{constructor(t){var e;if(super(t),wbe(this,Du),uy(this,"rootPropsConfig",{called:!1,count:0}),uy(this,"getRootProps",n=>this.internalGetRootProps(n,null)),uy(this,"internalGetRootProps",(n,r)=>{this.rootPropsConfig.called=!0;const o=n!=null?n:ze(),{refKey:i="ref",ref:s}=o,a=Hm(o,["refKey","ref"]);return a1(Gy({[i]:Pbe(s,this.onRef),key:this.uid},a),{children:r})}),uy(this,"onRef",n=>{!n||(this.rootPropsConfig.count+=1,Ke(this.rootPropsConfig.count<=1,{code:te.REACT_GET_ROOT_PROPS,message:"Called ".concat(this.rootPropsConfig.count," times")}),bbe(this,Du,n),this.onRefLoad())}),this.manager.view){this.manager.view.setProps({state:this.manager.view.state,dispatchTransaction:this.dispatchTransaction,attributes:()=>this.getAttributes(),editable:()=>{var n;return(n=this.props.editable)!=null?n:!0}});return}this.manager.getExtension(Hs).setOptions({placeholder:(e=this.props.placeholder)!=null?e:""})}get name(){return"react"}update(t){return super.update(t),this}createView(t){return new jde(null,{state:t,dispatchTransaction:this.dispatchTransaction,attributes:()=>this.getAttributes(),editable:()=>{var e;return(e=this.props.editable)!=null?e:!0},plugins:[]})}updateState(t){var e=t,{state:n}=e,r=Hm(e,["state"]);const{triggerChange:o=!0,tr:i,transactions:s}=r;if(this.props.state){const{onChange:a}=this.props;Ke(a,{code:te.REACT_CONTROLLED,message:"You are required to provide the `onChange` handler when creating a controlled editor."}),Ke(o,{code:te.REACT_CONTROLLED,message:"Controlled editors do not support `clearContent` or `setContent` where `triggerChange` is `true`. Update the `state` prop instead."}),this.previousStateOverride||(this.previousStateOverride=this.getState()),this.onChange({state:n,tr:i,transactions:s});return}!i&&!s&&(n=n.apply(n.tr.setMeta(pD,{}))),this.view.updateState(n),o&&(s==null?void 0:s.length)!==0&&this.onChange({state:n,tr:i,transactions:s}),this.manager.onStateUpdate({previousState:this.previousState,state:n,tr:i,transactions:s})}updateControlledState(t,e){this.previousStateOverride=e,t=t.apply(t.tr.setMeta(pD,{})),this.view.updateState(t),this.manager.onStateUpdate({previousState:this.previousState,state:t}),this.previousStateOverride=void 0}addProsemirrorViewToDom(t,e){this.props.insertPosition==="start"?t.insertBefore(e,t.firstChild):t.append(e)}onRefLoad(){Ke(l1(this,Du),{code:te.REACT_EDITOR_VIEW,message:"Something went wrong when initializing the text editor. Please check your setup."});const{autoFocus:t}=this.props;this.addProsemirrorViewToDom(l1(this,Du),this.view.dom),t&&this.focus(t),this.onChange(),this.addFocusListeners()}onUpdate(){this.view&&l1(this,Du)&&this.view.setProps(a1(Gy({},this.view.props),{editable:()=>{var t;return(t=this.props.editable)!=null?t:!0}}))}get frameworkOutput(){return a1(Gy({},this.baseOutput),{getRootProps:this.getRootProps,portalContainer:this.manager.store.portalContainer})}resetRender(){this.rootPropsConfig.called=!1,this.rootPropsConfig.count=0}};Du=new WeakMap;var a9=typeof document<"u"?b.exports.useLayoutEffect:b.exports.useEffect;function Tbe(t){const e=b.exports.useRef();return a9(()=>{e.current=t}),e.current}function Mbe(t){const{manager:e,state:n}=t,{placeholder:r,editable:o}=t;b.exports.useRef(!0).current&&!al(r)&&e.getExtension(hf).setOptions({placeholder:r}),b.exports.useEffect(()=>{r!=null&&e.getExtension(hf).setOptions({placeholder:r})},[r,e]);const[s]=b.exports.useState(()=>{var l;if(n)return n;const u=e.createEmptyDoc(),[d,c]=Tn(t.initialContent)?t.initialContent:[(l=t.initialContent)!=null?l:u];return e.createState({content:d,selection:c})}),a=Nbe({initialEditorState:s,getProps:()=>t});return b.exports.useEffect(()=>()=>{a.destroy()},[a]),b.exports.useEffect(()=>{a.onUpdate()},[o,a]),Dbe(a),a.frameworkOutput}function Nbe(t){const e=b.exports.useRef(t);e.current=t;const n=b.exports.useMemo(()=>new Rbe(e.current),[]);return n.update(t),n}function Dbe(t){const{state:e}=t.props,n=b.exports.useRef(!!e),r=Tbe(e);a9(()=>{const o=e?n.current===!0:n.current===!1;Ke(o,{code:te.REACT_CONTROLLED,message:n.current?"You have attempted to switch from a controlled to an uncontrolled editor. Once you set up an editor as a controlled editor it must always provide a `state` prop.":"You have provided a `state` prop to an uncontrolled editor. In order to set up your editor as controlled you must provide the `state` prop from the very first render."}),!(!e||e===r)&&t.updateControlledState(e,r!=null?r:void 0)},[e,r,t])}function Abe(t={}){const e=t,{content:n,document:r,selection:o,extensions:i}=e,s=Hm(e,["content","document","selection","extensions"]),a=Obe(i!=null?i:()=>[],s),[l,u]=b.exports.useState(()=>a.createState({selection:o,content:n!=null?n:a.createEmptyDoc()})),d=b.exports.useCallback(({state:f})=>{u(f)},[]),c=b.exports.useCallback(()=>a.output,[a]);return b.exports.useMemo(()=>({state:l,setState:u,manager:a,onChange:d,getContext:c}),[c,a,d,l])}var KL=()=>$e.createElement("div",Gy({className:ige.EDITOR_WRAPPER},Cbe().getRootProps())),Ibe=t=>(t.hook(),null);function Lbe(t){const e=t,{children:n,autoRender:r,i18nFormat:o,locale:i,supportedLocales:s,hooks:a=[]}=e,l=Hm(e,["children","autoRender","i18nFormat","locale","supportedLocales","hooks"]),u=Mbe(l),d=tbe(u.portalContainer),c=r==="start"||r===!0||!n&&al(r),f=r==="end";return $e.createElement(Ebe,{i18nFormat:o,locale:i,supportedLocales:s},$e.createElement(s9.Provider,{value:u},$e.createElement(ebe,{portals:d}),a.map((p,m)=>$e.createElement(Ibe,{hook:p,key:m})),c&&$e.createElement(KL,null),n,f&&$e.createElement(KL,null)))}typeof ji=="object"&&ji.__esModule&&ji.default&&ji.default;var $be={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},zbe=b.exports.createContext($be);zbe.Provider;var l9=b.exports.createContext({});function Fbe(t={}){const e=b.exports.useContext(l9),n=b.exports.useMemo(()=>{var i;return MV(e,(i=t.theme)!=null?i:{})},[e,t.theme]),r=b.exports.useMemo(()=>wge(n).styles,[n]),o=lx(_ge,t.className);return b.exports.useMemo(()=>({style:r,className:o,theme:n}),[r,o,n])}var Bbe=t=>{var e;const{children:n,as:r="div"}=t,{theme:o,style:i,className:s}=Fbe({theme:(e=t.theme)!=null?e:Rge});return $e.createElement(l9.Provider,{value:o},$e.createElement(r,{style:i,className:s},n))};const jbe=(t,e=500)=>{const[n,r]=b.exports.useState(t),o=b.exports.useRef();return b.exports.useEffect(()=>(o.current=setTimeout(()=>r(t),e),()=>{o.current&&clearTimeout(o.current)}),[t,e]),n},Vbe=()=>[new Hs({placeholder:"Type here..."}),new pl({}),new Uc,new df,new Uc,new Um({}),new _w,new cf({}),new uf,new sf,new Wc({}),new Vm,new af({}),new jc({}),new ff],Ube=b.exports.forwardRef(({mutate:t,content:e,defaultFont:n},r)=>{var c,f,p;const{manager:o,getContext:i,state:s,setState:a}=Abe({extensions:Vbe,content:e,stringHandler:"markdown"}),[l,u]=b.exports.useState((p=(f=(c=i())==null?void 0:c.helpers)==null?void 0:f.getMarkdown())!=null?p:""),d=jbe(l,300);return b.exports.useEffect(()=>{t(d)},[d]),b.exports.useImperativeHandle(r,()=>i(),[i]),w("div",{className:"h-full rounded-md hover:border-border bg-background border border-transparent ",children:w("div",{className:"h-full overflow-y-scroll",children:w("div",{className:"remirror-theme cursor-text overflow-y-scroll",children:w(Bbe,{theme:{fontFamily:{default:n}},children:w(Lbe,{manager:o,onChange:({state:m})=>{var x,v;const g=(v=(x=i())==null?void 0:x.helpers)==null?void 0:v.getMarkdown();u(g!=null?g:""),a(m)},state:s})})})})})});var QR="Switch",[Hbe,Q1e]=es(QR),[Wbe,Kbe]=Hbe(QR),c9=b.exports.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:o,defaultChecked:i,required:s,disabled:a,value:l="on",onCheckedChange:u,...d}=t,[c,f]=b.exports.useState(null),p=Mt(e,h=>f(h)),m=b.exports.useRef(!1),g=c?Boolean(c.closest("form")):!0,[x=!1,v]=nl({prop:o,defaultProp:i,onChange:u});return B(Wbe,{scope:n,checked:x,disabled:a,children:[w(rt.button,{type:"button",role:"switch","aria-checked":x,"aria-required":s,"data-state":f9(x),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:p,onClick:Re(t.onClick,h=>{v(_=>!_),g&&(m.current=h.isPropagationStopped(),m.current||h.stopPropagation())})}),g&&w(qbe,{control:c,bubbles:!m.current,name:r,value:l,checked:x,required:s,disabled:a,style:{transform:"translateX(-100%)"}})]})});c9.displayName=QR;var u9="SwitchThumb",d9=b.exports.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,o=Kbe(u9,n);return w(rt.span,{"data-state":f9(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:e})});d9.displayName=u9;var qbe=t=>{const{control:e,checked:n,bubbles:r=!0,...o}=t,i=b.exports.useRef(null),s=tF(n),a=Wz(e);return b.exports.useEffect(()=>{const l=i.current,u=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(u,"checked").set;if(s!==n&&c){const f=new Event("click",{bubbles:r});c.call(l,n),l.dispatchEvent(f)}},[s,n,r]),w("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:i,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function f9(t){return t?"checked":"unchecked"}var p9=c9,Gbe=d9;const h9=b.exports.forwardRef(({className:t,...e},n)=>w(p9,{className:Te("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:w(Gbe,{className:Te("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));h9.displayName=p9.displayName;function Ew(){return(Ew=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function m9(t,e){if(t==null)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)e.indexOf(n=i[r])>=0||(o[n]=t[n]);return o}function wk(t){var e=b.exports.useRef(t),n=b.exports.useRef(function(r){e.current&&e.current(r)});return e.current=t,n.current}var Wm=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t<e?e:t},Lh=function(t){return"touches"in t},bk=function(t){return t&&t.ownerDocument.defaultView||self},qL=function(t,e,n){var r=t.getBoundingClientRect(),o=Lh(e)?function(i,s){for(var a=0;a<i.length;a++)if(i[a].identifier===s)return i[a];return i[0]}(e.touches,n):e;return{left:Wm((o.pageX-(r.left+bk(t).pageXOffset))/r.width),top:Wm((o.pageY-(r.top+bk(t).pageYOffset))/r.height)}},GL=function(t){!Lh(t)&&t.preventDefault()},g9=$e.memo(function(t){var e=t.onMove,n=t.onKey,r=m9(t,["onMove","onKey"]),o=b.exports.useRef(null),i=wk(e),s=wk(n),a=b.exports.useRef(null),l=b.exports.useRef(!1),u=b.exports.useMemo(function(){var p=function(x){GL(x),(Lh(x)?x.touches.length>0:x.buttons>0)&&o.current?i(qL(o.current,x,a.current)):g(!1)},m=function(){return g(!1)};function g(x){var v=l.current,h=bk(o.current),_=x?h.addEventListener:h.removeEventListener;_(v?"touchmove":"mousemove",p),_(v?"touchend":"mouseup",m)}return[function(x){var v=x.nativeEvent,h=o.current;if(h&&(GL(v),!function(y,S){return S&&!Lh(y)}(v,l.current)&&h)){if(Lh(v)){l.current=!0;var _=v.changedTouches||[];_.length&&(a.current=_[0].identifier)}h.focus(),i(qL(h,v,a.current)),g(!0)}},function(x){var v=x.which||x.keyCode;v<37||v>40||(x.preventDefault(),s({left:v===39?.05:v===37?-.05:0,top:v===40?.05:v===38?-.05:0}))},g]},[s,i]),d=u[0],c=u[1],f=u[2];return b.exports.useEffect(function(){return f},[f]),w("div",{...Ew({},r,{onTouchStart:d,onMouseDown:d,className:"react-colorful__interactive",ref:o,onKeyDown:c,tabIndex:0,role:"slider"})})}),YR=function(t){return t.filter(Boolean).join(" ")},v9=function(t){var e=t.color,n=t.left,r=t.top,o=r===void 0?.5:r,i=YR(["react-colorful__pointer",t.className]);return w("div",{className:i,style:{top:100*o+"%",left:100*n+"%"},children:w("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}})})},Hn=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n},Zbe=function(t){return e1e(Sk(t))},Sk=function(t){return t[0]==="#"&&(t=t.substring(1)),t.length<6?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Hn(parseInt(t[3]+t[3],16)/255,2):1}:{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16),a:t.length===8?Hn(parseInt(t.substring(6,8),16)/255,2):1}},Qbe=function(t){return Jbe(Xbe(t))},Ybe=function(t){var e=t.s,n=t.v,r=t.a,o=(200-e)*n/100;return{h:Hn(t.h),s:Hn(o>0&&o<200?e*n/100/(o<=100?o:200-o)*100:0),l:Hn(o/2),a:Hn(r,2)}},Ek=function(t){var e=Ybe(t);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},Xbe=function(t){var e=t.h,n=t.s,r=t.v,o=t.a;e=e/360*6,n/=100,r/=100;var i=Math.floor(e),s=r*(1-n),a=r*(1-(e-i)*n),l=r*(1-(1-e+i)*n),u=i%6;return{r:Hn(255*[r,a,s,s,l,r][u]),g:Hn(255*[l,r,r,a,s,s][u]),b:Hn(255*[s,s,l,r,r,a][u]),a:Hn(o,2)}},dy=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},Jbe=function(t){var e=t.r,n=t.g,r=t.b,o=t.a,i=o<1?dy(Hn(255*o)):"";return"#"+dy(e)+dy(n)+dy(r)+i},e1e=function(t){var e=t.r,n=t.g,r=t.b,o=t.a,i=Math.max(e,n,r),s=i-Math.min(e,n,r),a=s?i===e?(n-r)/s:i===n?2+(r-e)/s:4+(e-n)/s:0;return{h:Hn(60*(a<0?a+6:a)),s:Hn(i?s/i*100:0),v:Hn(i/255*100),a:o}},t1e=$e.memo(function(t){var e=t.hue,n=t.onChange,r=YR(["react-colorful__hue",t.className]);return $e.createElement("div",{className:r},$e.createElement(g9,{onMove:function(o){n({h:360*o.left})},onKey:function(o){n({h:Wm(e+360*o.left,0,360)})},"aria-label":"Hue","aria-valuenow":Hn(e),"aria-valuemax":"360","aria-valuemin":"0"},$e.createElement(v9,{className:"react-colorful__hue-pointer",left:e/360,color:Ek({h:e,s:100,v:100,a:1})})))}),n1e=$e.memo(function(t){var e=t.hsva,n=t.onChange,r={backgroundColor:Ek({h:e.h,s:100,v:100,a:1})};return $e.createElement("div",{className:"react-colorful__saturation",style:r},$e.createElement(g9,{onMove:function(o){n({s:100*o.left,v:100-100*o.top})},onKey:function(o){n({s:Wm(e.s+100*o.left,0,100),v:Wm(e.v-100*o.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Hn(e.s)+"%, Brightness "+Hn(e.v)+"%"},$e.createElement(v9,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:Ek(e)})))}),y9=function(t,e){if(t===e)return!0;for(var n in t)if(t[n]!==e[n])return!1;return!0},r1e=function(t,e){return t.toLowerCase()===e.toLowerCase()||y9(Sk(t),Sk(e))};function o1e(t,e,n){var r=wk(n),o=b.exports.useState(function(){return t.toHsva(e)}),i=o[0],s=o[1],a=b.exports.useRef({color:e,hsva:i});b.exports.useEffect(function(){if(!t.equal(e,a.current.color)){var u=t.toHsva(e);a.current={hsva:u,color:e},s(u)}},[e,t]),b.exports.useEffect(function(){var u;y9(i,a.current.hsva)||t.equal(u=t.fromHsva(i),a.current.color)||(a.current={hsva:i,color:u},r(u))},[i,t,r]);var l=b.exports.useCallback(function(u){s(function(d){return Object.assign({},d,u)})},[]);return[i,l]}var i1e=typeof window<"u"?b.exports.useLayoutEffect:b.exports.useEffect,s1e=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},ZL=new Map,a1e=function(t){i1e(function(){var e=t.current?t.current.ownerDocument:document;if(e!==void 0&&!ZL.has(e)){var n=e.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,ZL.set(e,n);var r=s1e();r&&n.setAttribute("nonce",r),e.head.appendChild(n)}},[])},l1e=function(t){var e=t.className,n=t.colorModel,r=t.color,o=r===void 0?n.defaultColor:r,i=t.onChange,s=m9(t,["className","colorModel","color","onChange"]),a=b.exports.useRef(null);a1e(a);var l=o1e(n,o,i),u=l[0],d=l[1],c=YR(["react-colorful",e]);return B("div",{...Ew({},s,{ref:a,className:c}),children:[w(n1e,{hsva:u,onChange:d}),w(t1e,{hue:u.h,onChange:d,className:"react-colorful__last-control"})]})},c1e={defaultColor:"000",toHsva:Zbe,fromHsva:function(t){return Qbe({h:t.h,s:t.s,v:t.v,a:1})},equal:r1e},u1e=function(t){return w(l1e,{...Ew({},t,{colorModel:c1e})})};function d1e(t){const e=b.exports.useRef(null);return b.exports.useEffect(()=>{!t||(typeof t=="function"?t(e.current):t.current=e.current)}),e}var XR="Popover",[x9,Y1e]=es(XR,[bf]),uv=bf(),[f1e,Rl]=x9(XR),_9=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:o,onOpenChange:i,modal:s=!1}=t,a=uv(e),l=b.exports.useRef(null),[u,d]=b.exports.useState(!1),[c=!1,f]=nl({prop:r,defaultProp:o,onChange:i});return w(DC,{...a,children:w(f1e,{scope:e,contentId:fi(),triggerRef:l,open:c,onOpenChange:f,onOpenToggle:b.exports.useCallback(()=>f(p=>!p),[f]),hasCustomAnchor:u,onCustomAnchorAdd:b.exports.useCallback(()=>d(!0),[]),onCustomAnchorRemove:b.exports.useCallback(()=>d(!1),[]),modal:s,children:n})})};_9.displayName=XR;var w9="PopoverAnchor",p1e=b.exports.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,o=Rl(w9,n),i=uv(n),{onCustomAnchorAdd:s,onCustomAnchorRemove:a}=o;return b.exports.useEffect(()=>(s(),()=>a()),[s,a]),w(b_,{...i,...r,ref:e})});p1e.displayName=w9;var b9="PopoverTrigger",S9=b.exports.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,o=Rl(b9,n),i=uv(n),s=Mt(e,o.triggerRef),a=w(rt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":P9(o.open),...r,ref:s,onClick:Re(t.onClick,o.onOpenToggle)});return o.hasCustomAnchor?a:w(b_,{asChild:!0,...i,children:a})});S9.displayName=b9;var JR="PopoverPortal",[h1e,m1e]=x9(JR,{forceMount:void 0}),E9=t=>{const{__scopePopover:e,forceMount:n,children:r,container:o}=t,i=Rl(JR,e);return w(h1e,{scope:e,forceMount:n,children:w(Ei,{present:n||i.open,children:w(xg,{asChild:!0,container:o,children:r})})})};E9.displayName=JR;var mf="PopoverContent",k9=b.exports.forwardRef((t,e)=>{const n=m1e(mf,t.__scopePopover),{forceMount:r=n.forceMount,...o}=t,i=Rl(mf,t.__scopePopover);return w(Ei,{present:r||i.open,children:i.modal?w(g1e,{...o,ref:e}):w(v1e,{...o,ref:e})})});k9.displayName=mf;var g1e=b.exports.forwardRef((t,e)=>{const n=Rl(mf,t.__scopePopover),r=b.exports.useRef(null),o=Mt(e,r),i=b.exports.useRef(!1);return b.exports.useEffect(()=>{const s=r.current;if(s)return S_(s)},[]),w(k_,{as:qi,allowPinchZoom:!0,children:w(C9,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Re(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),i.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Re(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,u=a.button===2||l;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Re(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),v1e=b.exports.forwardRef((t,e)=>{const n=Rl(mf,t.__scopePopover),r=b.exports.useRef(!1),o=b.exports.useRef(!1);return w(C9,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const s=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),C9=b.exports.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:s,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:d,...c}=t,f=Rl(mf,n),p=uv(n);return y_(),w(vg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i,children:w(gg,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:w(AC,{"data-state":P9(f.open),role:"dialog",id:f.contentId,...p,...c,ref:e,style:{...c.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),O9="PopoverClose",y1e=b.exports.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,o=Rl(O9,n);return w(rt.button,{type:"button",...r,ref:e,onClick:Re(t.onClick,()=>o.onOpenChange(!1))})});y1e.displayName=O9;var x1e="PopoverArrow",_1e=b.exports.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,o=uv(n);return w(IC,{...o,...r,ref:e})});_1e.displayName=x1e;function P9(t){return t?"open":"closed"}var w1e=_9,b1e=S9,S1e=E9,R9=k9;const E1e=w1e,k1e=b1e,T9=b.exports.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},o)=>w(S1e,{children:w(R9,{ref:o,align:e,sideOffset:n,className:Te("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));T9.displayName=R9.displayName;const M9=b.exports.forwardRef(({disabled:t,value:e,onChange:n,onBlur:r,name:o,className:i,...s},a)=>{const l=d1e(a),[u,d]=b.exports.useState(!1),c=b.exports.useMemo(()=>e||"#FFFFFF",[e]);return B(E1e,{onOpenChange:d,open:u,children:[w(k1e,{asChild:!0,disabled:t,onBlur:r,children:w(We,{...s,className:Te("block",i),name:o,onClick:()=>{d(!0)},size:"icon",style:{backgroundColor:c},variant:"outline",children:w("div",{})})}),B(T9,{className:"w-full",children:[w(u1e,{color:c,onChange:n}),w(Dc,{maxLength:7,onChange:f=>{var p;n((p=f==null?void 0:f.currentTarget)==null?void 0:p.value)},ref:l,value:c})]})]})});M9.displayName="ColorPicker";const C1e=({editorRef:t,backgroundColor:e,setBackgroundColor:n,freeDrag:r,setFreeDrag:o,defaultFont:i,setDefaultFont:s})=>{const[a,l]=b.exports.useState(!1),[u,d]=b.exports.useState({bold:!1,italic:!1,underline:!1,code:!1,list:!1,orderedList:!1}),{tabsState:c}=bg(),f=dre();return b.exports.useEffect(()=>{if(t.current){const p=t.current,m=()=>{const x=!p.getState().selection.empty;if(x){const v=p.active;d({bold:v.bold(),italic:v.italic(),underline:v.underline(),code:v.code(),list:v.bulletList(),orderedList:v.orderedList()})}l(x)},g=p.addHandler("updated",({state:x})=>{m()});return m(),()=>g()}},[]),B(q0,{defaultValue:"add",children:[B(km,{className:"w-full shadow-inner rounded-none",children:[w(ei,{value:"add",children:w(P0,{size:18})}),w(ei,{value:"text",children:w(JY,{size:18})}),w(ei,{value:"customize",children:w(oX,{size:18})}),w(ei,{value:"info",children:w(YY,{size:18})})]}),B(ti,{value:"add",className:"h-full flex flex-col px-3 gap-",children:[w("p",{children:"Insert"}),w("p",{className:"text-sm text-muted-foreground",children:"Drag and drop any type of block"}),w("div",{className:"flex flex-col gap-2 items-center w-ful px-8 py-4",children:a4.options.map(p=>B("div",{draggable:!0,unselectable:"on",className:Te("flex justify-between items-center w-full border rounded-md p-2 cursor-move",p!=="text"&&"pointer-events-none opacity-30"),onDragStart:m=>{m.dataTransfer.setData("text/plain",p)},children:[B("div",{className:"flex gap-4 items-center",children:[w(yX,{size:18}),w("p",{children:p.charAt(0).toLocaleUpperCase()+p.slice(1)})]}),w($C,{size:18})]},p))})]}),w(ti,{value:"text",className:Te("h-full flex flex-col px-3 gap-2 overflow-y-auto",!a&&"text-muted-foreground pointer-events-none opacity-30"),children:B("div",{className:"space-y-4",children:[B("div",{children:[w("h3",{className:"text-sm font-semibold mb-2",children:"TITLES"}),B("div",{className:"flex gap-2",children:[w(We,{variant:"outline",size:"sm",onClick:()=>{t&&t.current&&t.current.commands.toggleHeading({level:1})},children:"H1"}),w(We,{variant:"outline",size:"sm",children:"H2"}),w(We,{variant:"outline",size:"sm",children:"H3"})]})]}),B("div",{children:[w("h3",{className:"text-sm font-semibold mb-2",children:"STYLING"}),B("div",{className:"flex gap-2 flex-wrap",children:[w(We,{variant:u.bold?"default":"outline",size:"sm",onClick:()=>{t&&t.current&&t.current.commands.toggleBold()},children:w(BY,{size:16})}),w(We,{variant:u.italic?"default":"outline",size:"icon",onClick:()=>{t&&t.current&&t.current.commands.toggleItalic()},children:w(XY,{size:16})}),w(We,{variant:u.underline?"default":"outline",size:"icon",onClick:()=>{t&&t.current&&t.current.commands.toggleUnderline()},children:w(xX,{size:16})}),w(We,{variant:"outline",size:"icon",children:w(KY,{size:16})}),w(We,{variant:"outline",size:"icon",children:w(gX,{size:16})}),w(We,{variant:"outline",size:"icon",children:w(dX,{size:16})}),w(We,{variant:"outline",size:"icon",children:w(nX,{size:16})}),w(We,{variant:"outline",size:"icon",children:w(tX,{size:16})}),w(We,{variant:"outline",size:"icon",children:w(zY,{size:16})}),w(We,{variant:"outline",size:"icon",children:w(LY,{size:16})}),w(We,{variant:"outline",size:"icon",children:w(FY,{size:16})}),w(We,{variant:"outline",size:"icon",children:w($Y,{size:16})})]})]}),B("div",{children:[w("h3",{className:"text-sm font-semibold mb-2",children:"TEXT COLOR"}),w("div",{className:"grid grid-cols-6 gap-2",children:["#000000","#4B5563","#9CA3AF","#3B82F6","#2563EB","#60A5FA","#10B981","#8B5CF6","#EF4444","#F97316","#92400E","#A855F7"].map(p=>w(We,{className:"w-8 h-8 rounded-full p-0",style:{backgroundColor:p}},p))})]}),B("div",{className:Te("flex flex-col gap-2"),children:[w("h3",{className:"text-sm font-semibold mb-2",children:"FONT"}),B("div",{className:"flex gap-2 w-full justify-between",children:[B(We,{variant:"outline",size:"sm",className:"w-1/2",children:[w("span",{className:"font-sans",children:"Aa"}),w("span",{className:"text-xs ml-1",children:"Default"})]}),B(We,{variant:"outline",size:"sm",className:"w-1/2",children:[w("span",{className:"font-serif",children:"Ss"}),w("span",{className:"text-xs ml-1",children:"Serif"})]})]}),B("div",{className:"flex gap-2 w-full",children:[B(We,{variant:"outline",size:"sm",className:"w-1/2",onClick:()=>{t&&t.current&&t.current.commands.setFontFamily("monospace")},children:[w("span",{className:"font-mono",children:"00"}),w("span",{className:"text-xs ml-1",children:"Mono"})]}),B(We,{variant:"secondary",size:"sm",className:"w-1/2",children:[w("span",{className:"font-sans",children:"Rr"}),w("span",{className:"text-xs ml-1",children:"Round"})]})]})]})]})}),B(ti,{value:"customize",className:"h-full flex flex-col px-3 gap-4",children:[B("div",{className:"w-full",children:[w("h3",{className:"text-sm font-semibold mb-2",children:"BACKGROUND"}),w("div",{className:"flex gap-2 w-full",children:B(q0,{defaultValue:"none",className:"w-full",children:[B(km,{className:"w-full shadow-inner rounded-md sm:flex-wrap sm:h-fit",children:[B(ei,{value:"none",onClick:()=>{n("#fff")},children:[w(jY,{size:16,className:"mr-2"}),"None"]}),B(ei,{value:"solid",children:[w("div",{className:"w-4 h-4 bg-blue-500 rounded-full mr-2"}),"Solid"]}),B(ei,{value:"image",disabled:!0,children:[w(ZY,{size:16,className:"mr-2"}),"Image"]})]}),w(ti,{value:"none",children:w("p",{children:"No background selected."})}),B(ti,{value:"solid",className:"flex justify-between items-center mt-2",children:[w("p",{children:"Change color"}),w(M9,{value:e,onChange:p=>n(p)})]}),w(ti,{value:"image",children:w("p",{children:"Image background selected."})})]})})]}),w(O0,{}),B("div",{className:"w-full",children:[w("h3",{className:"text-sm font-semibold mb-2",children:"LAYOUT"}),B("div",{className:"flex justify-between items-center",children:[w("p",{children:"Free drag"}),w(h9,{checked:r,onCheckedChange:p=>o(p)})]})]}),w(O0,{}),B("div",{children:[w("h3",{className:"text-sm font-semibold mb-2",children:"DEFAULT FONT"}),B("div",{className:"flex gap-2 sm:flex-wrap",children:[B(We,{variant:i==="ui-sans-serif"?"default":"outline",size:"sm",className:"flex-1",onClick:()=>s("ui-sans-serif"),children:[w("span",{className:"font-sans",children:"Aa"}),w("span",{className:"text-xs ml-1",children:"Default"})]}),B(We,{variant:i==="ui-serif"?"default":"outline",size:"sm",className:"flex-1",onClick:()=>s("ui-serif"),children:[w("span",{className:"font-serif",children:"Ss"}),w("span",{className:"text-xs ml-1",children:"Serif"})]}),B(We,{variant:i==="ui-monospace"?"default":"outline",size:"sm",className:"flex-1",onClick:()=>s("ui-monospace"),children:[w("span",{className:"font-mono",children:"00"}),w("span",{className:"text-xs ml-1",children:"Mono"})]})]})]})]}),w(ti,{value:"info",className:"h-full flex flex-col px-3 gap-4",children:B(Aj,{children:[B(kO,{children:[w(OO,{children:"Are you sure you want to delete this object?"}),w(PO,{children:"The object will be permanently deleted and cannot be recovered."}),B(CO,{children:[w(We,{variant:"ghost",onClick:()=>{c.activeTab&&f(c.activeTab)},children:"Delete"}),w(We,{variant:"destructive",children:"Cancel"})]})]}),w(Uoe,{asChild:!0,children:w(We,{variant:"destructive",children:"Delete Object"})})]})})]})},O1e=VC("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Su({className:t,variant:e,...n}){return w("div",{className:Te(O1e({variant:e}),t),...n})}const P1e=({type:t,className:e})=>t==="Saved"?B(Su,{className:Te("bg-green-500 hover:bg-green-600 text-primary-foreground",e),children:[w("span",{className:"inline-block w-2 h-2 mr-2 bg-green-700 rounded-full"}),"Saved"]}):t==="Saving"?B(Su,{className:Te("bg-blue-500 hover:bg-blue-600 text-primary-foreground",e),children:[w("span",{className:"inline-block w-2 h-2 mr-2 bg-blue-700 rounded-full"}),"Saving"]}):t==="Error"?B(Su,{className:Te("bg-red-500 hover:bg-red-600 text-primary-foreground",e),children:[w("span",{className:"inline-block w-2 h-2 mr-2 bg-red-700 rounded-full"}),"Error"]}):t==="Not AI Ready"?B(Su,{className:Te("bg-gray-500 hover:bg-gray-600 text-primary-foreground flex items-center w-fit",e),children:[w("span",{className:"inline-block w-2 h-2 mr-2 bg-gray-700 rounded-full"}),w("p",{className:"text-nowrap w-full",children:"Not AI Ready"})]}):t==="Loading"?B(Su,{className:Te("bg-yellow-500 hover:bg-yellow-600 text-primary-foreground",e),children:[w("span",{className:"inline-block w-2 h-2 mr-2 bg-yellow-700 rounded-full"}),"Loading"]}):t==="AI Ready"?B(Su,{className:Te("bg-purple-500 hover:bg-purple-600 text-primary-foreground",e),children:[w("span",{className:"inline-block w-2 h-2 mr-2 bg-green-700 rounded-full"}),"AI Ready"]}):null,eT=e3(t=>({messages:[],addMessage:e=>t(n=>({messages:[...n.messages,e]}))}));function R1e(){const{messages:t,addMessage:e}=eT();return async n=>{e(n);const r=await xJ(JSON.stringify(t));e({id:t.length+1,role:"ai",content:r,timestamp:"Just now"})}}const T1e=ZS.exports.WidthProvider(ZS.exports.Responsive),M1e=({tabId:t})=>{const{data:e,mutate:n,isError:r,isPending:o,isSuccess:i}=cO(t),s=e==null?void 0:e.type,{data:a}=D_({queryKey:["objectType",s],enabled:!!s}),l=b.exports.useRef(null),{backgroundColor:u,setBackgroundColor:d}=pre(t),{defaultFont:c,setDefaultFont:f}=fre(t),[p,m]=b.exports.useState(!1),{addMessage:g,messages:x}=eT();if(!e)return null;const v=Object.entries(e.contents).map(([h,_])=>{const y=_;return{i:h,x:y.x,y:y.y,w:y.w,h:y.h,maxH:15}});return w("div",{className:"bg-background min-h-full h-full border rounded-md shadow-sm  ",children:B(M4,{direction:"horizontal",className:"h-full",children:[w(ud,{defaultSize:10,collapsible:!0,className:"h-full",collapsedSize:0,minSize:20,maxSize:30,children:Object.entries(e.properties).map(([h,_])=>B("p",{children:[a&&a.properties[h].name,": ",_," -"," ",a&&a.properties[h].type]}))}),w(K0,{withHandle:!0}),B(ud,{className:Te("overflow-y-scroll py-2 h-full"),children:[B("div",{className:"flex justify-between items-center px-4",children:[B("div",{className:"flex gap-1 items-center w-[50%]",children:[w(We,{variant:"ghost",size:"iconSm",children:w(aX,{size:18})}),w(Dc,{className:"border-none text-xl font-semibold w-full focus:border focus:border-border ",placeholder:"Enter Title here",value:e.title,onChange:h=>{const _=Fr(e,y=>{y.title=h.target.value});n(_)}})]}),B("div",{className:"flex gap-1 items-center",children:[w(P1e,{type:r?"Error":o?"Saving":i?"Saved":"Loading",className:"mr-2"}),w(We,{variant:"ghost",size:"iconSm",children:w(cX,{size:18})})]})]}),w(Sg,{}),w("div",{className:Te("h-full  overflow-y-scroll pb-10",u===""&&"bg-background"),style:{backgroundColor:u},children:w(T1e,{className:"layout overflow-x-clip",layouts:{lg:v},breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:12,sm:12,xs:12,xxs:12},rowHeight:50,isResizable:!0,resizeHandles:p?["se"]:["s"],resizeHandle:!p&&w(HY,{className:"handle-s bottom-3 left-[50%] absolute cursor-ns-resize hover:text-muted-foreground opacity-0 group-hover:opacity-100 ",size:16}),isDraggable:!0,isDroppable:!0,onDrop:(h,_,y)=>{const S=y.dataTransfer.getData("text/plain"),O=Fr(e,k=>{const E={type:S,content:"",x:_.x,y:_.y,w:12,h:12,id:Oh()};k.contents[E.id]=E});n(O)},width:window.innerWidth-40,compactType:"vertical",preventCollision:!0,draggableHandle:".drag-handle",onLayoutChange:h=>{const _=Fr(e,y=>{Object.entries(y.contents).forEach(([S,O])=>{const k=O,E=h.find(T=>T.i===S);!E||(k.x=E.x,k.y=E.y,k.w=E.w,k.h=E.h)})});n(_)},children:Object.entries(e.contents).map(([h,_])=>{const y=_;return y.type!=="text"?null:B("div",{className:Te("content-block relative group",p&&"shadow-md rounded-lg border"),children:[w(We,{variant:"ghost",size:"iconSm",className:" absolute top-2 right-2 cursor-pointer opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>{g({id:x.length,role:"user",content:`Summarize some content for me: 
${y.content.slice(0,15)}...`,timestamp:"Just now",reference:{title:e.title,id:e.id}}),_J(y.content).then(S=>{g({id:x.length,role:"ai",content:S,timestamp:"Just now"})})},children:w(mX,{className:"text-muted-foreground",size:18})}),w(Ube,{ref:l,mutate:S=>{const O=Fr(e,k=>{k.contents[h].content=S});n(O)},content:y.content,defaultFont:c}),w($C,{className:"drag-handle left-0 top-[50%] absolute cursor-move text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity",size:20})]},h)})})})]}),w(K0,{withHandle:!0}),w(ud,{defaultSize:10,collapsible:!0,className:"h-full",collapsedSize:0,minSize:20,maxSize:40,children:w(C1e,{editorRef:l,backgroundColor:u,setBackgroundColor:d,defaultFont:c,setDefaultFont:f,freeDrag:p,setFreeDrag:m})})]})})},N1e=()=>{const{tabsState:t,setActiveTab:e,removeTab:n}=bg(),r=t.activeTab,[o,i]=b.exports.useState(!1),a=QC({queries:t.tabs.map(l=>({queryKey:["object",l.id],select:u=>({id:u.id,title:u.title})}))}).map(l=>l.data);return w("div",{className:"py-1",style:{height:"calc(100vh - 42px)"},children:B(q0,{className:"h-full",value:r!=null?r:"",children:[w(km,{className:"h-[4%] px-4",children:t.tabs.map(l=>{var u;return B(ei,{value:l.id,onClick:()=>{l.id!==r&&e(l.id)},className:"flex gap-2",children:[l.type==="createObjectType"?"Create Object Type":w(ho,{children:((u=a.find(d=>(d==null?void 0:d.id)===l.id))==null?void 0:u.title)||"Untitled"}),w(We,{onClick:d=>{if(d.stopPropagation(),l.type==="object"){n(l.id);return}i(!0)},variant:"invisible",className:"hover:text-muted-foreground h-6 w-6 p-0",children:w(zC,{size:12})})]},l.id)})}),t.tabs.map(l=>B(ti,{value:l.id,className:"h-[94%]  px-4",children:[l.type==="createObjectType"&&w(Toe,{tabID:l.id},l.id),l.type==="object"&&w(M1e,{tabId:l.id})]},l.id)),w(Aj,{open:o,onOpenChange:l=>{i(l)},children:w(kO,{children:B(Lj,{children:[w(OO,{children:"Are you absolutely sure?"}),w(PO,{children:"This action cannot be undone. This will permanently delete your work."}),B(CO,{children:[w(We,{onClick:()=>{i(!1)},variant:"ghost",children:"Cancel"}),w(We,{onClick:()=>{i(!1),r&&n(r)},variant:"destructive",children:"Close"})]})]})})})]})})},D1e=()=>{const{messages:t,addMessage:e}=eT(),{createTab:n}=bg(),[r,o]=b.exports.useState(""),i=R1e();return B("div",{className:"flex flex-col px-4 gap-1 py-4 justify-between",style:{height:"calc(100vh - 42px)"},children:[B("div",{className:"h-[90%]",children:[B("div",{children:[B("div",{className:"flex justify-between",children:[w("p",{className:"text-xl font-bold",children:"Chat"}),w(We,{size:"iconSm",variant:"outline",children:w(hX,{size:14})})]}),w("p",{className:"text-muted-foreground text-sm",children:"Using LM Studio..."})]}),w(Sg,{}),w("div",{className:"h-full overflow-x-clip overflow-y-scroll ",children:t.map(s=>B("div",{className:`flex flex-col mb-4 ${s.role==="user"?"items-end":"items-start"}`,children:[B("div",{className:"flex items-center mb-1",children:[w("span",{className:"text-sm font-medium",children:s.role==="user"?"You":s.role==="ai"?"AI":"Reference"}),w("span",{className:"text-xs text-muted-foreground ml-2",children:s.timestamp})]}),B("div",{className:`rounded-lg p-2 max-w-[80%] allow-select ${s.role==="user"?"bg-primary text-primary-foreground":s.role==="ai"?"bg-secondary text-secondary-foreground":"bg-muted"} text-ellipsis overflow-x-clip text-wrap`,children:[s.content,s.reference&&B("div",{className:"flex flex-col mt-2 p-2 bg-muted rounded-lg",children:[w("p",{className:"text-sm text-muted-foreground",children:"Reference"}),B(We,{className:"flex justify-start gap-2 mt-2 text-left",variant:"secondary",onClick:()=>{s.reference&&n(s.reference.id,"object")},children:[w(QF,{size:18}),w("p",{className:"text-sm",children:s.reference.title})]})]})]})]},s.id))})]}),B("div",{className:"flex gap-2 h-fit",children:[w(Dc,{placeholder:"Type a message...",value:r,onKeyUp:s=>{s.key==="Enter"&&(i({id:t.length+1,role:"user",content:r,timestamp:"Just now"}),o(""))},onChange:s=>o(s.target.value)}),w(We,{onClick:()=>{i({id:t.length+1,role:"user",content:r,timestamp:"Just now"}),o("")},children:w(pX,{size:18})})]})]})},A1e=()=>{const{setBotSidebarOpen:t,isBotSidebarOpen:e}=eO();return w("div",{className:"h-screen",children:B(q0,{defaultValue:"bot",className:"h-full",children:[B(km,{className:"w-full h-[42px]  shadow-inner relative rounded-none",children:[w(We,{variant:"invisible",className:"absolute left-0 border-r rounded-none",onClick:()=>{t(!1)},children:w(lX,{size:18})}),w(ei,{value:"bot",children:w(qF,{size:18})}),w(ei,{value:"idea",children:w(eX,{size:18})})]}),w(ti,{value:"bot",asChild:!0,children:w(D1e,{})}),w(ti,{value:"idea",children:"Idea"})]})})},I1e=()=>{const{setSidebarOpen:t,isSidebarOpen:e}=JC(),{setBotSidebarOpen:n,isBotSidebarOpen:r}=eO(),o=b.exports.useRef(null),i=b.exports.useRef(null);return b.exports.useEffect(()=>{o.current&&(e?o.current.expand():o.current.collapse())},[e]),b.exports.useEffect(()=>{i.current&&(r?i.current.expand():i.current.collapse())},[r]),w("div",{className:" h-[100vh] disable-select",children:B(M4,{direction:"horizontal",children:[w(ud,{defaultSize:e?20:0,minSize:15,maxSize:25,collapsible:!0,onCollapse:()=>t(!1),onExpand:()=>t(!0),ref:o,className:"transition-all duration-100 ease-in-out",children:w(hre,{})}),w(K0,{}),B(ud,{className:"bg-muted h-full",children:[w(mre,{}),w(N1e,{})]}),w(K0,{}),w(ud,{defaultSize:r?20:0,minSize:15,maxSize:25,collapsible:!0,onCollapse:()=>n(!1),onExpand:()=>n(!0),className:"transition-all duration-100 ease-in-out",ref:i,children:w(A1e,{})})]})})},L1e=RG([{path:"/",element:w(I1e,{})}]);var $1e=function(){return null};const z1e=document.getElementById("root"),F1e=vz(z1e),B1e=new FJ;F1e.render(w($e.StrictMode,{children:B(WJ,{client:B1e,children:[w($1e,{initialIsOpen:!1}),w(tre,{defaultTheme:"light",storageKey:"vite-ui-theme",children:w(FG,{router:L1e})})]})}));
